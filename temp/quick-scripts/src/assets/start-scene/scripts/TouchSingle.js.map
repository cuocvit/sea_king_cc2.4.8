{"version":3,"sources":["assets\\start-scene\\scripts\\TouchSingle.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAM;AACA,IAAA,KAAoB,EAAE,CAAC,UAAU,EAA/B,OAAO,aAAA,EAAE,IAAI,UAAkB,CAAC;AAIxC;IAAiC,+BAAY;IAGzC;QAAA,YACI,iBAAO,SAEV;QADG,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;;IACzB,CAAC;IAEO,iCAAW,GAAnB,UAAoB,KAA0B;QAC1C,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;YACvB,KAAK,CAAC,eAAe,EAAE,CAAC;SAC3B;aAAM;YACH,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;SACjC;IACL,CAAC;IAEO,gCAAU,GAAlB,UAAmB,KAA0B;QACzC,IAAI,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,KAAK,EAAE,EAAE;YAChC,KAAK,CAAC,eAAe,EAAE,CAAC;SAC3B;IACL,CAAC;IAEO,+BAAS,GAAjB,UAAkB,KAA0B;QACxC,IAAI,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,KAAK,EAAE,EAAE;YAChC,KAAK,CAAC,eAAe,EAAE,CAAC;SAC3B;aAAM,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;SACxB;IACL,CAAC;IAES,8BAAQ,GAAlB;QACI,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QAC1E,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QACxE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QACtE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;IAC7E,CAAC;IAEQ,+BAAS,GAAnB;QACK,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QAC3E,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QACzE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QACvE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;IAC9E,CAAC;IA1CQ,WAAW;QAFvB,OAAO;QACP,IAAI,CAAC,qBAAqB,CAAC;OACf,WAAW,CA2CvB;IAAD,kBAAC;CA3CD,AA2CC,CA3CgC,EAAE,CAAC,SAAS,GA2C5C;AA3CY,kCAAW","file":"","sourceRoot":"/","sourcesContent":["// *-*\r\nconst { ccclass, menu } = cc._decorator;\r\n\r\n@ccclass\r\n@menu(\"添加自定义组件/TouchSingle\")\r\nexport class TouchSingle extends cc.Component {\r\n    private _touchID: number | null;\r\n\r\n    constructor() {\r\n        super();\r\n        this._touchID = null;\r\n    }\r\n\r\n    private _touchStart(event: cc.Event.EventTouch): void {\r\n        if (this._touchID != null) {\r\n            event.stopPropagation();\r\n        } else {\r\n            this._touchID = event.getID();\r\n        }\r\n    }\r\n\r\n    private _touchMove(event: cc.Event.EventTouch): void {\r\n        if (this._touchID != event.getID()) {\r\n            event.stopPropagation();\r\n        }\r\n    }\r\n\r\n    private _touchEnd(event: cc.Event.EventTouch): void {\r\n        if (this._touchID != event.getID()) {\r\n            event.stopPropagation();\r\n        } else if (!event.simulate) {\r\n            this._touchID = null;\r\n        }\r\n    }\r\n\r\n    protected onEnable(): void {\r\n        this.node.on(cc.Node.EventType.TOUCH_START, this._touchStart, this, true);\r\n        this.node.on(cc.Node.EventType.TOUCH_MOVE, this._touchMove, this, true);\r\n        this.node.on(cc.Node.EventType.TOUCH_END, this._touchEnd, this, true);\r\n        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this._touchEnd, this, true);\r\n    }\r\n\r\n   protected onDisable(): void {\r\n        this.node.off(cc.Node.EventType.TOUCH_START, this._touchStart, this, true);\r\n        this.node.off(cc.Node.EventType.TOUCH_MOVE, this._touchMove, this, true);\r\n        this.node.off(cc.Node.EventType.TOUCH_END, this._touchEnd, this, true);\r\n        this.node.off(cc.Node.EventType.TOUCH_CANCEL, this._touchEnd, this, true);\r\n    }\r\n}"]}