{"version":3,"sources":["assets\\start-scene\\scripts\\GetMertrailOp.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAM;AACN,6CAAmC;AACnC,iCAAgC;AAChC,yCAAyC;AACzC,2CAA0C;AAC1C,uCAAwC;AAGlC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA4B,iCAAU;IAAtC;QAAA,qEA2DC;QAzDW,cAAQ,GAAoB,IAAI,CAAC;QAGjC,cAAQ,GAAqB,IAAI,CAAC;QAGlC,eAAS,GAAqB,IAAI,CAAC;QAGnC,YAAM,GAAoB,IAAI,CAAC;;IAgD3C,CAAC;IA5Ca,gCAAQ,GAAlB;QACI,IAAI,CAAC,IAAI,GAAG,gBAAE,CAAC,EAAE,CAAC,eAAe,CAAC,gBAAE,CAAC,KAAK,CAAC,eAAe,CAAC,GAAG,CAAe,CAAC;QAC9E,IAAM,UAAU,GAAG,gBAAE,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACxE,IAAI,UAAU,EAAE;YACZ,aAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,QAAQ,EAAE,sBAAU,CAAC,MAAM,EAAE,eAAe,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC;YAClG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;YAC/B,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;YAC7C,aAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,SAAS,EAAE,sBAAU,CAAC,MAAM,EAAE,eAAe,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC;YACnG,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,OAAO,GAAG,UAAU,CAAC,IAAI,CAAC;SACpD;IACL,CAAC;IAEO,oCAAY,GAApB;QACI,gBAAE,CAAC,EAAE,CAAC,iBAAiB,CAAC,gBAAE,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;IACtD,CAAC;IAEO,wCAAgB,GAAxB;QACI,gBAAE,CAAC,EAAE,CAAC,iBAAiB,CAAC,gBAAE,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QACxC,gBAAE,CAAC,EAAE,CAAC,iBAAiB,CAAC,gBAAE,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;IACtD,CAAC;IAEO,oCAAY,GAApB;QACI,gBAAE,CAAC,EAAE,CAAC,eAAe,CAAC,gBAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QAChD,gBAAE,CAAC,EAAE,CAAC,iBAAiB,CAAC,gBAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC3C,gBAAE,CAAC,EAAE,CAAC,iBAAiB,CAAC,gBAAE,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;IACtD,CAAC;IAEO,wCAAgB,GAAxB;QACI,gBAAE,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IACnD,CAAC;IAEO,iCAAS,GAAjB;QACI,qBAAU,CAAC,QAAQ,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;QAC7C,qBAAU,CAAC,QAAQ,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QACxC,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAClE,gBAAE,CAAC,EAAE,CAAC,eAAe,CAAC,gBAAE,CAAC,KAAK,CAAC,WAAW,CAAC,GAAG,EAAE;YAC5C,MAAM,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;YAC1B,OAAO,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;SAC/B,CAAC,CAAC;QACH,gBAAE,CAAC,EAAE,CAAC,iBAAiB,CAAC,gBAAE,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;QAC9C,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACtF,gBAAE,CAAC,EAAE,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;QACnC,gBAAE,CAAC,EAAE,CAAC,iBAAiB,CAAC,gBAAE,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;IACtD,CAAC;IAxDD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;mDACsB;IAGzC;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;mDACsB;IAG1C;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;oDACuB;IAG3C;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;iDACoB;IAXrC,aAAa;QADlB,OAAO;OACF,aAAa,CA2DlB;IAAD,oBAAC;CA3DD,AA2DC,CA3D2B,uBAAU,GA2DrC;AAED,kBAAe,aAAa,CAAC","file":"","sourceRoot":"/","sourcesContent":["// +-+\r\nimport { gm } from './GameManager';\r\nimport { Utils } from './Utils';\r\nimport { BundleName } from './Constants';\r\nimport { GameObject } from './GameObject';\r\nimport { ReportData } from './NetUtils';\r\nimport { ModuleAgrs } from './UIManager';\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nclass GetMertrailOp extends GameObject {\r\n    @property(cc.Label)\r\n    private lblTitle: cc.Label | null = null;\r\n\r\n    @property(cc.Sprite)\r\n    private itemImgL: cc.Sprite | null = null;\r\n\r\n    @property(cc.Sprite)\r\n    private itemImgAd: cc.Sprite | null = null;\r\n\r\n    @property(cc.Label)\r\n    private lblNum: cc.Label | null = null;\r\n\r\n    private args: ModuleAgrs;\r\n\r\n    protected onEnable(): void {\r\n        this.args = gm.ui.get_module_args(gm.const.GET_MERTRAIL_OP.key) as ModuleAgrs;\r\n        const itemConfig = gm.data.config_data.getItemCfgByID(this.args.itemID);\r\n        if (itemConfig) {\r\n            Utils.async_set_sprite_frame(this.itemImgL, BundleName.COMMON, \"res/handbook/\" + itemConfig.icon);\r\n            this.itemImgL.node.scale = 1.5;\r\n            this.lblNum.string = \"x\" + this.args.itemNum;\r\n            Utils.async_set_sprite_frame(this.itemImgAd, BundleName.COMMON, \"res/handbook/\" + itemConfig.icon);\r\n            this.lblTitle.string = \"Nháº­n \" + itemConfig.name;\r\n        }\r\n    }\r\n\r\n    private onClickClose(): void {\r\n        gm.ui.async_hide_module(gm.const.GET_MERTRAIL_OP);\r\n    }\r\n\r\n    private onClickShowStore(): void {\r\n        gm.ui.async_show_module(gm.const.Store);\r\n        gm.ui.async_hide_module(gm.const.GET_MERTRAIL_OP);\r\n    }\r\n\r\n    private onClickFight(): void {\r\n        gm.ui.set_module_args(gm.const.GOBATTLE.key, 1);\r\n        gm.ui.async_show_module(gm.const.GOBATTLE);\r\n        gm.ui.async_hide_module(gm.const.GET_MERTRAIL_OP);\r\n    }\r\n\r\n    private onClickWatchAdCb(): void {\r\n        gm.channel.show_video_ad(this.watchAdCb, this);\r\n    }\r\n\r\n    private watchAdCb(): void {\r\n        ReportData.instance.report_once_point(10637);\r\n        ReportData.instance.report_point(10638);\r\n        gm.data.mapCell_data.addItem(this.args.itemID, this.args.itemNum);\r\n        gm.ui.set_module_args(gm.const.GETREWARDOP.key, {\r\n            idList: [this.args.itemID],\r\n            numList: [this.args.itemNum]\r\n        });\r\n        gm.ui.async_show_module(gm.const.GETREWARDOP);\r\n        gm.data.mapCell_data.onekeyGetAllMertrail(this.args.buildType, this.args.buildItemID);\r\n        gm.ui.emit(\"update_build_upgrade\");\r\n        gm.ui.async_hide_module(gm.const.GET_MERTRAIL_OP);\r\n    }\r\n}\r\n\r\nexport default GetMertrailOp;"]}