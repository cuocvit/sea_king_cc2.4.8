{"version":3,"sources":["assets\\start-scene\\scripts\\MapCellCfgData.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["//\r\nimport { ItemTypeEnum, SetItemNumEnum, PropTypeEnum, RewardIdEnum, HeroTypeEnum, BuildTypeEnum } from './Constants';\r\nimport { gm } from './GameManager';\r\nimport { StorageBase } from './StorageBase';\r\nimport { Utils } from './Utils';\r\nimport { TempData } from './TempData';\r\nimport { TaskConditionType } from './TaskData';\r\nimport MainMapItem from './MainMapItem';\r\nimport PropItem from './PropItem'; // js\r\nimport { ReportData } from './NetUtils';\r\nimport { PoolConfig } from '../../common/configs/pool';\r\nimport { HeroConfig } from '../../common/configs/hero';\r\nimport { ItemConfig } from '../../common/configs/item';\r\nimport { BookConfig } from '../../common/configs/books';\r\nimport { MapCell } from '../../common/configs/mapcell';\r\n\r\nenum listTypeEnum {\r\n    SHOW_AREA_TYPE = 1,\r\n    MAP_TOTAL_TYPE = 2,\r\n    NEW_UNLOCK_CELL_TYPE = 3,\r\n    NEW_UNLOCK_AREA_TYPE = 4,\r\n    AREA_LOCK_CELL_TYPE = 5,\r\n    REPORT_CELL_TYPE = 6,\r\n    SPACE_TYPE = 7\r\n}\r\n\r\nexport interface BuildData {\r\n    buildState: number;\r\n    buildID: number;\r\n    buildType: number;\r\n    buildLvl: number;\r\n    cellID: number;\r\n    isCanMove: number;\r\n    productData: RoleProductDataVO;\r\n    metrailData: Record<number, metrail>;\r\n    upNeedCoin: number;\r\n}\r\n\r\ninterface metrail {\r\n    id: number;\r\n    cur: number;\r\n    max: number;\r\n};\r\n\r\ninterface BarracksUnlockData {\r\n    unlockId: number;\r\n    state: number;\r\n    ani_state: number;\r\n    heroId: number;\r\n}\r\n\r\ninterface HeroSkill {\r\n    lvl: number;\r\n    num: number;\r\n}\r\n\r\nexport interface special {\r\n    mertrail?: Record<number, number> | metrail;\r\n    state: number\r\n}\r\n\r\n\r\n\r\n\r\nexport class MapCellCfgData extends StorageBase {\r\n    private static EVENT_DATA_CHANGE: string = \"mapcell_data_change\";\r\n    private role_cur_unlock_area_ID: number;\r\n    private role_cur_unlock_area_sort: number;\r\n    private roleShowAreaIDList: number[];\r\n    private roleUnlockAreaIDList: number[];\r\n    private _warehouseIsNewList: number[];\r\n    private roleSpaceList: number[];\r\n    private tUnlockData: Record<number, number[]>;\r\n    private role_item_array: number;\r\n    private nextDayTime: number;\r\n    private heroSkillList: Record<number, HeroSkill>;\r\n    private barracks_unlock_id_list: Record<number, number>;\r\n    private defense_List: Record<string, any>;\r\n    private _defenseList: Record<number, DefenseHeroItemVO>;\r\n    private heroTotalNum: number;\r\n    private superHeroData: SuperHeroVO[];\r\n    private initOpenBarrelData: number;\r\n\r\n    public STORAGE_KEY: string;\r\n    public is_first_auto_compose: number;\r\n    public role_compose_total_times: number;\r\n    public role_compose_times: number;\r\n    public role_map_data: Record<string, MapItemDataVO>;\r\n    public role_map_total_data: number[];\r\n    public role_map_report_data: number[];\r\n    public areaUnlockCellIDList: number[];\r\n    public _curNewUnlockCellList: number[];\r\n    public role_openBarrel_Times: number;\r\n    public roleBarrelData: RoleBarrelDataVO | null;\r\n    public roleCoinData: roleCoinDataVO;\r\n    public heroData: Record<number, roleMapItemVO[]>;\r\n    public buildData: Record<number, BuildData>;\r\n    public itemData: Record<string, roleMapItemVO[]>;\r\n    public role_build_lock_num: number;\r\n    public barracks_unlock_data: heroUnloockData[];\r\n    public waterBarrelList: roleBarrelItemVO[];\r\n    public _warehouseList: number[];\r\n    public _needRefreshCellList: number[];\r\n    public roleGuideVO: GuideVO | null;\r\n    public isGuide: boolean;\r\n    public isFirstGetCoin: boolean;\r\n    public isFirstBattle: boolean;\r\n    public specialList: Record<number, special>;\r\n    public diamond_buy_barrel_times: number;\r\n    public watch_ad_buy_barrel_times: number;\r\n    public buyBarrelNumTimes: number;\r\n    public guideGift: GuideGiftVO | null;\r\n    public lockArea: Record<number, number>;\r\n    public last_timestamp: number;\r\n    public is_upgrade_skill: number;\r\n\r\n\r\n    constructor() {\r\n        super();\r\n        this.STORAGE_KEY = \"MapCellConfigData\";\r\n        this.is_first_auto_compose = 0;\r\n        this.role_compose_total_times = 0;\r\n        this.role_compose_times = 0;\r\n        this.role_map_data = {};\r\n        this.role_map_total_data = [];\r\n        this.role_map_report_data = [];\r\n        this.role_cur_unlock_area_ID = 1;\r\n        this.role_cur_unlock_area_sort = 0;\r\n        this.roleShowAreaIDList = [];\r\n        this.roleUnlockAreaIDList = [];\r\n        this.areaUnlockCellIDList = [];\r\n        this._curNewUnlockCellList = [];\r\n        this.role_item_array = 0;\r\n        this.role_openBarrel_Times = 0;\r\n        this.roleBarrelData = null;\r\n        this.roleCoinData = null;\r\n        this.heroData = {};\r\n        this.buildData = {};\r\n        this.itemData = {};\r\n        this.role_build_lock_num = 0;\r\n        this.barracks_unlock_data = [];\r\n        this.waterBarrelList = [];\r\n        this._warehouseList = [];\r\n        this._warehouseIsNewList = [];\r\n        this._needRefreshCellList = [];\r\n        this.roleSpaceList = [];\r\n        this.tUnlockData = {};\r\n        this.roleGuideVO = null;\r\n        this.isGuide = true;\r\n        this.isFirstGetCoin = true;\r\n        this.nextDayTime = 0;\r\n        this.isFirstBattle = true;\r\n        this.specialList = {};\r\n        this.heroSkillList = {};\r\n        this.diamond_buy_barrel_times = 0;\r\n        this.watch_ad_buy_barrel_times = 0;\r\n        this.buyBarrelNumTimes = 0;\r\n        this.guideGift = null;\r\n        this.lockArea = {};\r\n        this.last_timestamp = 0;\r\n        this.barracks_unlock_id_list = {};\r\n        this.defense_List = {};\r\n        this._defenseList = {};\r\n        this.heroTotalNum = 1;\r\n        this.is_upgrade_skill = 0;\r\n        this.superHeroData = [];\r\n        this.initOpenBarrelData = 37;\r\n    }\r\n\r\n    public setAutoComposeUsed(): void {\r\n        this.is_first_auto_compose = 1;\r\n        this.async_write_data();\r\n    }\r\n\r\n    public async_read_data(callback?: (data: any) => void): void {\r\n        super.async_read_data.call(this, (t) => {\r\n            if (this.is_init) {\r\n                TempData.isShowOffline = 600 < Math.floor(Date.now() / 1e3) - gm.data.mapCell_data.last_timestamp;\r\n                if (TempData.isShowOffline) {\r\n                    TempData.offline_time = Math.floor(Date.now() / 1e3) - gm.data.mapCell_data.last_timestamp;\r\n                }\r\n                this.checkLocalData();\r\n\r\n                if (this._warehouseList.length != this._warehouseIsNewList.length) {\r\n                    this._warehouseIsNewList = [];\r\n                    for (let index = 0; index < this._warehouseList.length; index++) {\r\n                        this._warehouseIsNewList.push(1);\r\n                    }\r\n                }\r\n\r\n                if (2 <= this.buildData[BuildTypeEnum.TOWER_TYPE].buildLvl &&\r\n                    this.buildData[BuildTypeEnum.SEAGOINGBOAT_TYPE] &&\r\n                    395 != this.buildData[BuildTypeEnum.SEAGOINGBOAT_TYPE].cellID) {\r\n                    this.buildData[BuildTypeEnum.SEAGOINGBOAT_TYPE].cellID = 395;\r\n                }\r\n\r\n                if (0 == Object.keys(this.lockArea).length) {\r\n                    this.initLockArea();\r\n                }\r\n\r\n                this.barracks_unlock_id_list = {};\r\n                for (let index = 0; index < this.barracks_unlock_data.length; index++) {\r\n                    if (0 < this.barracks_unlock_data[index].state) {\r\n                        (this.barracks_unlock_id_list[this.barracks_unlock_data[index].unlockId] = 2);\r\n                    }\r\n                }\r\n\r\n                for (let index = 0; index < this.roleUnlockAreaIDList.length; index++) {\r\n                    if (this.roleUnlockAreaIDList[index] >= this.role_cur_unlock_area_ID) {\r\n                        const areaIDs = gm.data.config_data.getAreaIDList(this.roleUnlockAreaIDList[index]);\r\n                        if (areaIDs) {\r\n                            if (this.roleUnlockAreaIDList[index] > this.role_cur_unlock_area_ID) {\r\n                                for (const key in areaIDs) {\r\n                                    if (10000 != areaIDs[key].comTimes) {\r\n                                        this.addIndexToList(listTypeEnum.AREA_LOCK_CELL_TYPE, areaIDs[key].cellID);\r\n                                    }\r\n                                }\r\n                            }\r\n                            else {\r\n                                for (const key in areaIDs) {\r\n                                    if (parseInt(key) >= this.role_cur_unlock_area_sort) {\r\n                                        this.addIndexToList(listTypeEnum.AREA_LOCK_CELL_TYPE, areaIDs[key].cellID);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                TempData.initGuideTempData();\r\n                const time = new Date;\r\n                const timestamp = Math.floor(time.getTime() / 1000);\r\n                const adjustedTimestamp = timestamp - (timestamp - 60 * time.getTimezoneOffset()) % 86400;\r\n\r\n                if (adjustedTimestamp >= this.nextDayTime) {\r\n                    this.nextDayTime = 86400 + adjustedTimestamp;\r\n                    this.isFirstBattle = true;\r\n                }\r\n\r\n                this.sortTask(this.barracks_unlock_data);\r\n                if (!this.guideGift) {\r\n                    this.guideGift = new GuideGiftVO;\r\n                    this.guideGift.guideBeginTime = Math.floor(Date.now() / 1e3);\r\n                    this.guideGift.guideIsGet = false;\r\n                }\r\n\r\n            } else {\r\n                this.roleBarrelData = new RoleBarrelDataVO;\r\n                this.roleBarrelData.curBarrelNum = 0;\r\n                this.roleBarrelData.maxBarrelNum = 0;\r\n                this.roleBarrelData.freeBarrelCd = 0;\r\n                this.roleBarrelData.nextFreeBarrelNum = 0;\r\n                this.roleBarrelData.nextFreeBarrelTime = 0;\r\n                this.roleBarrelData.curFreeBarrelTime = 0;\r\n                this.role_build_lock_num = 0;\r\n                this.roleCoinData = new roleCoinDataVO;\r\n                this.roleCoinData.coinNum = 80;\r\n                this.roleCoinData.diamondNum = 10;\r\n                this.roleShowAreaIDList = [this.role_cur_unlock_area_ID];\r\n                this.openNewAreaByID(this.role_cur_unlock_area_ID);\r\n                this.unlockNewAreaID(this.role_cur_unlock_area_ID);\r\n                this.waterBarrelList = [];\r\n\r\n                const vec3 = [cc.v3(221, -1003), cc.v3(281, -1025), cc.v3(377, -1e3)];\r\n                for (let index = 0; index < vec3.length; index++) {\r\n                    const barrelIte = new roleBarrelItemVO;\r\n                    barrelIte.itemID = 11006;\r\n                    barrelIte.itemIndex = index;\r\n                    barrelIte.itemPos = vec3[index];\r\n                    this.waterBarrelList.push(barrelIte);\r\n                }\r\n\r\n                this.guideGift = new GuideGiftVO;\r\n                this.guideGift.guideBeginTime = Math.floor(Date.now() / 1e3);\r\n                this.guideGift.guideIsGet = false;\r\n\r\n                const heroCfg = gm.config.get_config_data(\"HeroConfigData\");\r\n                for (const key in heroCfg.data) {\r\n                    const data = heroCfg.data[key] as HeroConfig;\r\n                    if (0 < data.unlock) {\r\n                        const heroUnloock = new heroUnloockData;\r\n                        heroUnloock.heroId = data.heroid;\r\n                        heroUnloock.unlockId = data.unlock;\r\n                        heroUnloock.state = 0;\r\n                        heroUnloock.ani_state = 0;\r\n                        this.barracks_unlock_data.push(heroUnloock);\r\n                    }\r\n                }\r\n\r\n                this.sortTask(this.barracks_unlock_data);\r\n                const date = new Date;\r\n                const timestamp = Math.floor(date.getTime() / 1e3);\r\n\r\n                this.nextDayTime = timestamp - (timestamp - 60 * date.getTimezoneOffset()) % 86400 + 86400;\r\n                this.isFirstBattle = true;\r\n                this.is_init = true;\r\n                this.initSpecialData();\r\n                this.heroSkillList = {};\r\n                this.initGuideData();\r\n                this.initLockArea();\r\n                this.reelUnlcokHero(23001);\r\n                this.async_write_data();\r\n            }\r\n\r\n            if (callback) {\r\n                callback(t);\r\n            }\r\n        });\r\n    }\r\n\r\n    public checkLocalData() {\r\n        if (!this.isGuide) {\r\n            const newArr: number[] = [];\r\n            for (const buildKey in this.buildData) {\r\n                const cellID = this.buildData[buildKey].cellID\r\n                if (395 != cellID &&\r\n                    313 != cellID &&\r\n                    null != this.role_map_data[cellID] && this.role_map_data[cellID].itemID != this.buildData[buildKey].buildID) {\r\n                    newArr.push(cellID);\r\n                    this.role_map_data[cellID].itemID = this.buildData[buildKey].buildID;\r\n                    this.role_map_data[cellID].itemType = ItemTypeEnum.BUILD_TYPE;\r\n                    this.role_map_data[cellID].heroUID = 0;\r\n                }\r\n            }\r\n\r\n            if (this.role_map_data[999]) {\r\n                delete this.role_map_data[999];\r\n            }\r\n\r\n            for (const heroKey in this.heroData) {\r\n                for (let heroIndex = this.heroData[heroKey].length - 1; 0 <= heroIndex; heroIndex--) {\r\n                    const cellID = this.heroData[heroKey][heroIndex].cellID;\r\n                    const itemID = this.heroData[heroKey][heroIndex].itemID;\r\n                    if (999 != cellID) {\r\n                        if (null != this.role_map_data[cellID] && this.role_map_data[cellID].itemID != itemID) {\r\n                            let isCheck = false;\r\n                            for (let index = 0; index < newArr.length; index++) {\r\n                                if (newArr[index] == cellID) {\r\n                                    this.heroData[heroKey].splice(index, 1);\r\n                                    isCheck = true;\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                            if (!isCheck) {\r\n                                newArr.push(cellID);\r\n                                this.role_map_data[cellID].itemID = itemID;\r\n                                this.role_map_data[cellID].itemType = ItemTypeEnum.HERO_TYPE;\r\n                                this.role_map_data[cellID].heroUID = this.heroTotalNum;\r\n                                this.heroTotalNum++;\r\n                            }\r\n                        }\r\n\r\n                    } else {\r\n                        this.heroData[heroKey].splice(heroIndex, 1);\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (const itemKey in this.itemData) {\r\n                for (let itemIndex = this.itemData[itemKey].length - 1; 0 <= itemIndex; itemIndex--) {\r\n                    const cellID = this.itemData[itemKey][itemIndex].cellID;\r\n                    const itemID = this.itemData[itemKey][itemIndex].itemID;\r\n\r\n                    if (999 != cellID) {\r\n                        if (null != this.role_map_data[cellID] && this.role_map_data[cellID].itemID != itemID) {\r\n                            let isCheck = false;\r\n                            for (let index = 0; index < newArr.length; index++)\r\n                                if (newArr[index] == cellID) {\r\n                                    this.itemData[itemKey].splice(index, 1);\r\n                                    isCheck = true;\r\n                                    break;\r\n                                }\r\n\r\n                            if (!isCheck) {\r\n                                newArr.push(cellID);\r\n                                this.role_map_data[cellID].itemID = itemID;\r\n                                this.role_map_data[cellID].itemType = ItemTypeEnum.ITEM_TYPE;\r\n                                this.role_map_data[cellID].heroUID = 0;\r\n                            }\r\n                        }\r\n\r\n                    } else {\r\n                        this.itemData[itemKey].splice(itemIndex, 1);\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            for (const defense in this._defenseList) {\r\n                const cellID = this._defenseList[defense].cellID;\r\n                if (null != this.role_map_data[cellID] && this.role_map_data[cellID].itemID != this._defenseList[defense].heroid) {\r\n                    newArr.push(cellID);\r\n                    delete this._defenseList[defense];\r\n                }\r\n            }\r\n\r\n            for (let heroData = this.superHeroData.length - 1; 0 <= heroData; heroData--) {\r\n                const cellID = this.superHeroData[heroData].cellID;\r\n                if (null != this.role_map_data[cellID] && this.role_map_data[cellID].itemID != this.superHeroData[heroData].heroid) {\r\n                    newArr.push(cellID);\r\n                    this.superHeroData.splice(heroData, 1);\r\n                }\r\n            }\r\n\r\n            console.log(\"需要校正的格子\" + newArr);\r\n            if (0 < newArr.length) {\r\n                newArr.sort();\r\n                const uniqueCellIDs = [newArr[0]];\r\n                for (let index = 1; index < newArr.length; index++) {\r\n                    if (newArr[index] !== newArr[index - 1]) {\r\n                        uniqueCellIDs.push(newArr[index]);\r\n                    }\r\n                }\r\n\r\n                for (let index = 0; index < newArr.length; index++) {\r\n                    gm.ui.emit(\"item_children_refresh\", newArr[index]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public sortTask(tasks: BarracksUnlockData[]): void {\r\n        tasks.sort((t, e) => {\r\n            const rowA = gm.config.get_row_data(\"HeroConfigData\", t.heroId.toString()) as HeroConfig;\r\n            const rowB = gm.config.get_row_data(\"HeroConfigData\", e.heroId.toString()) as HeroConfig;\r\n            return t.state > e.state || !(t.state < e.state || rowA.sort > rowB.sort) ? -1 : 1;\r\n        });\r\n    }\r\n\r\n    public reelUnlcokHero(heroId: number): void {\r\n        this.addBarracksIDToList(heroId);\r\n        for (let i = 0; i < this.barracks_unlock_data.length; i++) {\r\n            if (heroId === this.barracks_unlock_data[i].unlockId && this.barracks_unlock_data[i].state === 0) {\r\n                this.barracks_unlock_data[i].state = 1;\r\n                this.barracks_unlock_data[i].ani_state = 0;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public getReelUnlcokHeroID(heroId: number): boolean {\r\n        for (let i = 0; i < this.barracks_unlock_data.length; ++i) {\r\n            if (heroId == this.barracks_unlock_data[i].heroId && this.barracks_unlock_data[i].state > 0) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private compositeUnlockHero(heroId: number): void {\r\n        for (let i = 0; i < this.barracks_unlock_data.length; ++i) {\r\n            if (heroId === this.barracks_unlock_data[i].heroId && this.barracks_unlock_data[i].state == 1) {\r\n                this.barracks_unlock_data[i].state = 2;\r\n                this.barracks_unlock_data[i].ani_state = 0;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private initLockArea(): void {\r\n        for (const key in gm.const.localCloudAreaList) {\r\n            this.lockArea[key] = 1;\r\n        }\r\n    }\r\n\r\n\r\n    public getCellIsWall(cellID: number): boolean {\r\n        let heroCfg;\r\n        return (!(!this.role_map_data[cellID] || this.role_map_data[cellID].itemType != ItemTypeEnum.HERO_TYPE)) &&\r\n            !(!(heroCfg = gm.data.config_data.getHeroCfgByID(this.role_map_data[cellID].itemID)) || 10 != heroCfg.occupation)\r\n    }\r\n\r\n    public getMapdataByCellID(cellID: number): number {\r\n        return this.role_map_data[cellID] && this.role_map_data[cellID].heroUID && this.role_map_data[cellID].heroUID > 0\r\n            ? this.role_map_data[cellID].heroUID\r\n            : 0;\r\n    }\r\n\r\n    public unlockSpecialArea(areaID: number): void {\r\n        this.lockArea[areaID] = 2;\r\n        this.async_write_data();\r\n    }\r\n\r\n    public getIsUnlock(areaID: number): boolean {\r\n        for (let i = 0; i < this.role_map_total_data.length; i++) {\r\n            if (areaID == this.role_map_total_data[i]) return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private initSpecialData(): void {\r\n        this.specialList = {};\r\n        const specialListConfig = gm.data.config_data.getSpecialList();\r\n\r\n        for (const key in specialListConfig) {\r\n            const areaID = parseInt(key);\r\n            if (!this.specialList[areaID]) {\r\n                this.specialList[areaID] = {} as special;\r\n            }\r\n            this.specialList[areaID].state = 1;\r\n            for (let index = 0; index < specialListConfig[key].prop.length; index++) {\r\n                if (0 < specialListConfig[key].prop[index]) {\r\n                    if (!this.specialList[areaID].mertrail) {\r\n                        this.specialList[areaID].mertrail = {};\r\n                    }\r\n                    this.specialList[areaID].mertrail[specialListConfig[key].prop[index]] = 0;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public openNewAreaByID(areaID: number): void {\r\n        this.addIndexToList(listTypeEnum.SHOW_AREA_TYPE, areaID);\r\n        const areaConfig = gm.data.config_data.getAreaIDList(areaID);\r\n        if (areaConfig) {\r\n            for (const key in areaConfig) {\r\n                if (areaConfig[key].comTimes === 10000) {\r\n                    if (areaID > 1) {\r\n                        this.addIndexToList(listTypeEnum.NEW_UNLOCK_CELL_TYPE, areaConfig[key].cellID);\r\n                    }\r\n                    this.addIndexToList(listTypeEnum.MAP_TOTAL_TYPE, areaConfig[key].cellID);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public getAreaIDIsUnLock(areaID: number): boolean {\r\n        for (let index = 0; index < this.roleUnlockAreaIDList.length; index++) {\r\n            if (areaID === this.roleUnlockAreaIDList[index]) return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public unlockNewAreaID(areaID: number, isSpecial: boolean = false): void {\r\n        this.addIndexToList(listTypeEnum.SHOW_AREA_TYPE, areaID);\r\n        const areaConfig = gm.data.config_data.getAreaIDList(areaID);\r\n        if (areaConfig) {\r\n            let isCheck = false;\r\n            this.addIndexToList(listTypeEnum.NEW_UNLOCK_AREA_TYPE, areaID);\r\n            if (!this.getNextLockCell()) {\r\n                const nextAreaID = this.role_cur_unlock_area_ID + 1;\r\n                if (this.getAreaIDIsUnLock(nextAreaID)) {\r\n                    this.role_cur_unlock_area_ID = nextAreaID;\r\n                    this.role_cur_unlock_area_sort = 0;\r\n                    isCheck = !(this.role_compose_times = 0);\r\n                }\r\n            }\r\n            for (const key in areaConfig) {\r\n                if (10000 == areaConfig[key].comTimes) {\r\n                    if (1 < areaID && areaID != gm.const.CAVESAREAID) {\r\n                        this.addIndexToList(listTypeEnum.NEW_UNLOCK_CELL_TYPE, areaConfig[key].cellID);\r\n                        if (!(isSpecial && (areaID == gm.const.ICEAREAID || areaID == gm.const.FIREREAID))) {\r\n                            this.addIndexToList(listTypeEnum.REPORT_CELL_TYPE, areaConfig[key].cellID);\r\n                        }\r\n                    }\r\n\r\n                    if (1 == areaID) {\r\n                        this.addIndexToList(listTypeEnum.REPORT_CELL_TYPE, areaConfig[key].cellID);\r\n                    }\r\n\r\n                    if (0 == areaConfig[key].isObstruct && areaID != gm.const.CAVESAREAID) {\r\n                        const mapItemDataVO = new MapItemDataVO;\r\n                        mapItemDataVO.cellState = 2;\r\n                        mapItemDataVO.itemState = 2;\r\n                        mapItemDataVO.itemID = areaConfig[key].itemID;\r\n                        mapItemDataVO.cellID = areaConfig[key].cellID;\r\n                        mapItemDataVO.heroUID = 0;\r\n                        mapItemDataVO.itemType = areaConfig[key].itemType;\r\n                        this.role_map_data[areaConfig[key].cellID] = mapItemDataVO;\r\n\r\n                        if (0 < areaConfig[key].itemID) {\r\n                            if (areaConfig[key].itemType == ItemTypeEnum.BUILD_TYPE) {\r\n                                this.addBuild(areaConfig[key].itemID, areaConfig[key].cellID);\r\n                            } else {\r\n                                this.addRoleItem(areaConfig[key].itemID, areaConfig[key].cellID);\r\n                                if (30000 < areaConfig[key].itemID) {\r\n                                    this.role_map_data[areaConfig[key].cellID].heroUID = this.heroTotalNum;\r\n                                    this.heroTotalNum++;\r\n                                }\r\n                            }\r\n\r\n                        } else {\r\n                            this.addRoleSpaceCellByID(areaConfig[key].cellID);\r\n                        }\r\n\r\n                        this.checkBuildIsActive(areaConfig[key].cellID);\r\n                        if (1 < areaID) {\r\n                            ReportData.instance.report_once_point(50000 + areaConfig[key].cellID);\r\n                            gm.channel.report_event(\"unlock_map_cell\", {\r\n                                event_desc: \"解锁地图格子\",\r\n                                cell_count: areaConfig[key].cellID,\r\n                                desc: cc.js.formatStr(\"解锁地图格子%d\", areaConfig[key].cellID)\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                    if (!(!isCheck && 1 != areaID)) {\r\n                        this.role_cur_unlock_area_sort++;\r\n                    }\r\n\r\n                } else {\r\n                    this.addIndexToList(listTypeEnum.AREA_LOCK_CELL_TYPE, areaConfig[key].cellID);\r\n                }\r\n            }\r\n            this.async_write_data();\r\n        }\r\n    }\r\n\r\n    public lockCaveAllInitCell(areaID: number): void {\r\n        const areaConfig = gm.data.config_data.getAreaIDList(areaID);\r\n        if (areaConfig) {\r\n            for (const key in areaConfig) {\r\n                if (10000 == areaConfig[key].comTimes) {\r\n                    this.addIndexToList(listTypeEnum.REPORT_CELL_TYPE, areaConfig[key].cellID);\r\n                    if (0 == areaConfig[key].isObstruct) {\r\n                        const mapItemDataVO = new MapItemDataVO;\r\n                        mapItemDataVO.cellState = 2;\r\n                        mapItemDataVO.itemState = 2;\r\n                        mapItemDataVO.itemID = areaConfig[key].itemID;\r\n                        mapItemDataVO.cellID = areaConfig[key].cellID;\r\n                        mapItemDataVO.heroUID = 0;\r\n                        mapItemDataVO.itemType = areaConfig[key].itemType;\r\n                        this.role_map_data[areaConfig[key].cellID] = mapItemDataVO;\r\n                        if (0 < areaConfig[key].itemID) {\r\n                            if (areaConfig[key].itemType == ItemTypeEnum.BUILD_TYPE) {\r\n                                this.addBuild(areaConfig[key].itemID, areaConfig[key].cellID);\r\n                            } else {\r\n                                this.addRoleItem(areaConfig[key].itemID, areaConfig[key].cellID);\r\n                            }\r\n\r\n                        } else {\r\n                            this.addRoleSpaceCellByID(areaConfig[key].cellID);\r\n                        }\r\n\r\n                        ReportData.instance.report_once_point(5e4 + areaConfig[key].cellID);\r\n                        gm.channel.report_event(\"unlock_map_cell\", {\r\n                            event_desc: \"解锁地图格子\",\r\n                            cell_count: areaConfig[key].cellID,\r\n                            desc: cc.js.formatStr(\"解锁地图格子%d\", areaConfig[key].cellID)\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            this.async_write_data();\r\n        }\r\n    }\r\n\r\n    private addRoleSpaceCellByID(cellID: number): void {\r\n        this.addIndexToList(listTypeEnum.SPACE_TYPE, cellID);\r\n    }\r\n\r\n    public getRoleSkillData(skillID: number): HeroSkill {\r\n        return this.heroSkillList[skillID] || { lvl: 0, num: 0 };\r\n    }\r\n\r\n    public upgradeRoleSkillData(skillID: number): void {\r\n        if (this.heroSkillList[skillID]) {\r\n            this.heroSkillList[skillID].lvl += 1;\r\n            this.heroSkillList[skillID].num = 0;\r\n            this.async_write_data();\r\n        }\r\n    }\r\n\r\n    public getMySoulNum(): number {\r\n        const soulData = this.itemData[PropTypeEnum.SOUL_TYPE];\r\n        let totalSoulNum = 0;\r\n        if (soulData) {\r\n            for (let index = 0; index < soulData.length; index++) {\r\n                const itemConfig = gm.data.config_data.getItemCfgByID(soulData[index].itemID);\r\n                if (itemConfig) {\r\n                    totalSoulNum += itemConfig.number;\r\n                }\r\n            }\r\n        }\r\n        return totalSoulNum;\r\n    }\r\n\r\n    public addRoleSkillItemData(skillID: number, requiredNum: number): void {\r\n        if (!this.heroSkillList[skillID]) {\r\n            this.heroSkillList[skillID] = {\r\n                lvl: 0,\r\n                num: 0\r\n            };\r\n        }\r\n\r\n        for (let index = this.itemData[PropTypeEnum.SOUL_TYPE].length - 1; 0 <= index; index--) {\r\n            const itemID = this.itemData[PropTypeEnum.SOUL_TYPE][index].itemID;\r\n            if (this.role_map_data[this.itemData[PropTypeEnum.SOUL_TYPE][index].cellID].itemID != itemID) {\r\n                this.itemData[PropTypeEnum.SOUL_TYPE].splice(index, 1);\r\n            }\r\n        }\r\n\r\n        let totalAdded = 0;\r\n        const soulData = this.itemData[PropTypeEnum.SOUL_TYPE];\r\n        for (let index = soulData.length - 1; 0 <= index; index--) {\r\n            const itemID = soulData[index].itemID;\r\n            const itemCfg = gm.data.config_data.getItemCfgByID(itemID);\r\n            const itemNum = itemCfg.number;\r\n            if (!(totalAdded + itemNum <= requiredNum)) {\r\n                this._needRefreshCellList.push(soulData[index].cellID);\r\n                const remaining = requiredNum - totalAdded;\r\n                this.heroSkillList[skillID].num += remaining;\r\n                this.delCellItemByCellID(soulData[index].cellID);\r\n                gm.data.task_data.update_task_progress(TaskConditionType.POSEIDON, remaining);\r\n                this.splitItemNum(itemCfg.number - remaining, itemID);\r\n                break;\r\n            }\r\n\r\n            this._needRefreshCellList.push(soulData[index].cellID);\r\n            this.delCellItemByCellID(soulData[index].cellID);\r\n            totalAdded += itemNum;\r\n            this.heroSkillList[skillID].num += itemNum;\r\n            gm.data.task_data.update_task_progress(TaskConditionType.POSEIDON, itemNum);\r\n        }\r\n\r\n        this.async_write_data();\r\n    }\r\n\r\n    private addIndexToList(type: number, id: number): void {\r\n        let areaList = this.roleShowAreaIDList;\r\n        if (type == listTypeEnum.SHOW_AREA_TYPE) {\r\n            areaList = this.roleShowAreaIDList;\r\n        } else if (type == listTypeEnum.MAP_TOTAL_TYPE) {\r\n            areaList = this.role_map_total_data;\r\n        } else if (type == listTypeEnum.NEW_UNLOCK_CELL_TYPE) {\r\n            areaList = this._curNewUnlockCellList;\r\n        } else if (type == listTypeEnum.NEW_UNLOCK_AREA_TYPE) {\r\n            areaList = this.roleUnlockAreaIDList;\r\n        } else if (type == listTypeEnum.AREA_LOCK_CELL_TYPE) {\r\n            areaList = this.areaUnlockCellIDList;\r\n        } else if (type == listTypeEnum.REPORT_CELL_TYPE) {\r\n            areaList = this.role_map_report_data;\r\n        } else if (type == listTypeEnum.SPACE_TYPE) {\r\n            areaList = this.roleSpaceList;\r\n        }\r\n\r\n        for (let index = 0; index < areaList.length; index++) {\r\n            if (id == areaList[index]) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        areaList.push(id);\r\n        if (type == listTypeEnum.SPACE_TYPE) {\r\n            gm.ui.emit(\"refresh_barrel_num\");\r\n            gm.ui.emit(\"ship_goods_change\");\r\n        }\r\n    }\r\n\r\n    // ????????????????????????????????????????????????????????????????????????????????????????????????????????????\r\n    public clearWareHouseList(): void {\r\n        this._warehouseList = [];\r\n        gm.ui.emit(\"ship_goods_change\");\r\n    }\r\n\r\n    private addWareHouseItem(item: number, isNew: number): void {\r\n        if (this._warehouseList.length < 100) {\r\n            this._warehouseList.push(item);\r\n            this._warehouseIsNewList.push(isNew);\r\n        }\r\n    }\r\n\r\n    public addWareHouseList(items: number[], isNew: number = 1): void {\r\n        for (let i = 0; i < Math.min(100, items.length); i++) {\r\n            this.addWareHouseItem(items[i], isNew);\r\n        }\r\n        gm.ui.emit(\"ship_goods_change\");\r\n    }\r\n\r\n    public putAllItemToMapCell(): number[] {\r\n        const result: number[] = [];\r\n        while (this.roleSpaceList.length > 0 && this._warehouseList.length > 0) {\r\n            const spaceID = this.getRoleSpceListShift();\r\n            const item = this._warehouseList.shift();\r\n            if (this._warehouseIsNewList.shift() == 1) {\r\n                result.push(spaceID);\r\n            }\r\n            const itemType = item >= 30000 ? ItemTypeEnum.HERO_TYPE : ItemTypeEnum.ITEM_TYPE;\r\n            this.changeMapItemDataByID(spaceID, itemType, item);\r\n            this.addRoleItem(item, spaceID);\r\n            this._needRefreshCellList.push(spaceID);\r\n            gm.ui.show_item_fly(\r\n                item,\r\n                gm.ui.mapMainUI.ship.convertToWorldSpaceAR(cc.Vec3.ZERO),\r\n                gm.ui.mapMainUI.mapContent.getChildByName(spaceID.toString()).getComponent(MainMapItem).itemNode.convertToWorldSpaceAR(cc.Vec3.ZERO)\r\n            );\r\n        }\r\n        this.async_write_data();\r\n        return result;\r\n    }\r\n\r\n    public getIsHaveSpeceCellID(): boolean {\r\n        return this.roleSpaceList.length > 0;\r\n    }\r\n\r\n    public getRoleSpceListShift(): number {\r\n        if (0 < this.roleSpaceList.length) {\r\n            if (this.isGuide) {\r\n                for (let index = 0; index < this.roleSpaceList.length; index++) {\r\n                    const spaceID = this.roleSpaceList[index];\r\n                    if (![118, 134, 152, 149, 167, 183, 130, 148, 135, 153, 196, 205].includes(spaceID)) {\r\n                        this.roleSpaceList.splice(index, 1);\r\n                        gm.ui.emit(\"refresh_barrel_num\");\r\n                        return spaceID;\r\n                    }\r\n                }\r\n                const roleSpaceList = this.roleSpaceList.shift();\r\n                gm.ui.emit(\"refresh_barrel_num\");\r\n                return roleSpaceList;\r\n            }\r\n            const roleSpaceList = this.roleSpaceList.shift();\r\n            gm.ui.emit(\"refresh_barrel_num\");\r\n            return roleSpaceList;\r\n        }\r\n    }\r\n\r\n    private initGuideData(): void {\r\n        this.roleGuideVO = new GuideVO();\r\n        this.roleGuideVO.guideID = 1;\r\n        this.roleGuideVO.runningIndex = 0;\r\n        this.roleGuideVO.isFinishAllGuide = 0;\r\n        this.roleGuideVO.step = 0;\r\n        this.roleGuideVO.isEnd = false;\r\n        TempData.initGuideTempData();\r\n    }\r\n\r\n    public setRoleGuideData(guideID: number, runningIndex: number): void {\r\n        if (this.roleGuideVO) {\r\n            if (guideID == 0) {\r\n                this.roleGuideVO.guideID = 0;\r\n                this.roleGuideVO.isFinishAllGuide = 1;\r\n            } else {\r\n                if (runningIndex == 0) {\r\n                    this.roleGuideVO.isEnd = false;\r\n                }\r\n                this.roleGuideVO.guideID = guideID;\r\n                this.roleGuideVO.runningIndex = runningIndex;\r\n                this.roleGuideVO.isFinishAllGuide = 0;\r\n            }\r\n            TempData.initGuideTempData();\r\n            this.async_write_data();\r\n        }\r\n    }\r\n\r\n    public setRoleGuideDataEnd(guideID: number, runningIndex: number): void {\r\n        if (this.roleGuideVO) {\r\n            this.roleGuideVO.guideID = guideID;\r\n            this.roleGuideVO.runningIndex = runningIndex;\r\n            this.roleGuideVO.isEnd = true;\r\n            if (guideID == 15 && this.roleGuideVO.isEnd) {\r\n                gm.ui.emit(\"build_show_stateIcon\", true);\r\n            }\r\n            this.async_write_data();\r\n        }\r\n    }\r\n\r\n    public addSuperRecruitItem(item: number, id: number): void {\r\n        this.changeMapItemDataByID(id, ItemTypeEnum.ITEM_TYPE, item);\r\n        this.addRoleItem(item, id);\r\n        gm.ui.emit(\"item_children_refresh\", id);\r\n        this.async_write_data();\r\n    }\r\n\r\n    public getStarHeroNumByID(heroID: number): number {\r\n        let count: number = 0;\r\n        const heroConfig = gm.config.get_row_data(\"HeroConfigData\", heroID.toString()) as HeroConfig;\r\n        if (heroConfig) {\r\n            const heroes = this.heroData[heroConfig.occupation];\r\n            if (heroes && heroes.length > 0) {\r\n                for (const hero of heroes) {\r\n                    if (hero.itemID === heroID) {\r\n                        count++;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n\r\n    public delStarHeroNumByID(heroID: number, count: number): void {\r\n        let deletedCount = 0;\r\n        const heroConfig = gm.config.get_row_data(\"HeroConfigData\", heroID.toString()) as HeroConfig;\r\n        if (heroConfig) {\r\n            const heroes = this.heroData[heroConfig.occupation];\r\n            if (heroes && heroes.length >= count) {\r\n                for (let index = heroes.length - 1; 0 <= index; index--) {\r\n                    if (deletedCount == count) return;\r\n                    if (heroes[index].itemID == heroID) {\r\n                        const cellID = heroes[index].cellID;\r\n                        this.delCellItemByCellID(heroes[index].cellID);\r\n                        gm.ui.emit(\"item_children_refresh\", cellID);\r\n                        deletedCount++;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public addItem(itemID: number, quantity: number, cellID: number = -1): void {\r\n        if (30000 < itemID) {\r\n            const index = -1 == cellID ? this.getRoleSpceListShift() : cellID;\r\n            this.changeMapItemDataByID(index, ItemTypeEnum.HERO_TYPE, itemID);\r\n            this.addRoleItem(itemID, index);\r\n            gm.ui.emit(\"item_children_refresh\", index);\r\n\r\n        } else {\r\n            const itemConfig = gm.config.get_row_data(\"ItemConfigData\", itemID.toString()) as ItemConfig;\r\n            if (itemConfig.type == PropTypeEnum.COIN_TYPE) {\r\n                this.setAddGameCoin(SetItemNumEnum.ADD_ITEM_TYPE, quantity);\r\n            } else if (itemConfig.type == PropTypeEnum.DIAMONDS_TYPE) {\r\n                this.setAddGameDiamond(SetItemNumEnum.ADD_ITEM_TYPE, quantity);\r\n            } else if (itemConfig.type == PropTypeEnum.WOOD_TYPE || itemConfig.type == PropTypeEnum.IRON_TYPE || itemConfig.type == PropTypeEnum.SHELL_MONEY_TYPE) {\r\n                const index = itemConfig.type == PropTypeEnum.WOOD_TYPE ? 16008 : itemConfig.type == PropTypeEnum.IRON_TYPE ? 17008 : 25008;\r\n                gm.data.mapCell_data.splitItemNum(quantity, index, 1);\r\n            } else {\r\n                this.addWareHouseItem(itemID, 1);\r\n                gm.ui.emit(\"ship_goods_change\");\r\n            }\r\n        }\r\n        this.async_write_data();\r\n    }\r\n\r\n    public addBarrelInMap(barrelID?: number): void {\r\n        let itemID: number;\r\n        if (barrelID && 0 < barrelID) {\r\n            itemID = barrelID;\r\n        } else if (this.role_openBarrel_Times > this.initOpenBarrelData) {\r\n            const rewardPool = gm.config.get_row_data_array(\"PoolConfigData\", \"1101\") as PoolConfig[];\r\n            const randomRewards: RoleItemDataVO[] = [];\r\n            gm.data.setRandomReward(rewardPool, randomRewards, 1);\r\n            itemID = randomRewards[0].itemID;\r\n        } else {\r\n            itemID = RewardIdEnum.BARREL;\r\n        }\r\n        const RoleSpceList = this.getRoleSpceListShift();\r\n        console.log(this.roleSpaceList);\r\n        this.changeMapItemDataByID(RoleSpceList, ItemTypeEnum.ITEM_TYPE, itemID);\r\n        gm.ui.emit(\"item_children_refresh\", RoleSpceList);\r\n        gm.ui.emit(\"compose_anim\", RoleSpceList);\r\n        this.async_write_data();\r\n    }\r\n\r\n    public openWaterGirlCase(poolID: number, cellID: number): number {\r\n        const poolData = gm.config.get_row_data_array(\"PoolConfigData\", poolID + \"\") as PoolConfig[];\r\n        const rewards: RoleItemDataVO[] = [];\r\n        gm.data.setRandomReward(poolData, rewards, 1);\r\n        this.delCellItemByCellID(cellID);\r\n        this.addItem(rewards[0].itemID, 1, cellID);\r\n        this.async_write_data();\r\n        return rewards[0].itemID;\r\n    }\r\n\r\n    public openHeroGiftCase(poolID: number, cellID: number): number {\r\n        const poolData = gm.config.get_row_data_array(\"PoolConfigData\", poolID + \"\") as PoolConfig[];\r\n        const rewards: RoleItemDataVO[] = [];\r\n        gm.data.setRandomReward(poolData, rewards, 1);\r\n        this.delCellItemByCellID(cellID);\r\n        this.addSuperHeroData(rewards[0].itemID, cellID);\r\n        this.async_write_data();\r\n        return rewards[0].itemID;\r\n    }\r\n\r\n    public addSuperHeroData(heroID: number, cellID: number, hp: number = -1): void {\r\n        for (let i = 0; i < this.superHeroData.length; i++)\r\n            if (this.superHeroData[i].cellID == cellID && this.superHeroData[i].heroid == heroID) {\r\n                this.superHeroData[i].hp = Math.max(0, hp);\r\n                if (0 == hp) {\r\n                    this.superHeroData[i].heroState = 1;\r\n                    this.superHeroData[i].curReliveTime = Math.floor(Date.now() / 1e3);\r\n                    this.superHeroData[i].nextReliveTime = Math.floor(Date.now() / 1e3) + gm.const.SUPERHERORELIVETIME;\r\n\r\n                } else if (!(0 != this.superHeroData[i].curReliveTime && 0 != this.superHeroData[i].nextReliveTime)) {\r\n                    this.superHeroData[i].curReliveTime = Math.floor(Date.now() / 1e3);\r\n                    this.superHeroData[i].nextReliveTime = Math.floor(Date.now() / 1e3) + gm.const.SUPERHERORECIVETIME;\r\n                }\r\n                this.async_write_data();\r\n                return;\r\n            }\r\n\r\n        const heroCfg = gm.data.config_data.getHeroCfgByID(heroID);\r\n        if (heroCfg) {\r\n            const superHeroVO = new SuperHeroVO;\r\n            superHeroVO.heroid = heroID;\r\n            superHeroVO.hp = heroCfg.hp;\r\n            superHeroVO.heroState = 0;\r\n            superHeroVO.curReliveTime = 0;\r\n            superHeroVO.nextReliveTime = 0;\r\n            superHeroVO.maxHp = heroCfg.hp;\r\n            superHeroVO.cellID = cellID;\r\n            this.superHeroData.push(superHeroVO);\r\n            this.changeMapItemDataByID(cellID, ItemTypeEnum.HERO_TYPE, heroID);\r\n            this.addRoleItem(heroID, cellID);\r\n        }\r\n        this.async_write_data();\r\n\r\n    }\r\n\r\n    public setSuperHeroFullHpByID(heroID: number, cellID: number): void {\r\n        for (let index = 0; index < this.superHeroData.length; index++) {\r\n            if (this.superHeroData[index].heroid == heroID && this.superHeroData[index].cellID == cellID) {\r\n                this.superHeroData[index].curReliveTime = 0;\r\n                this.superHeroData[index].nextReliveTime = 0;\r\n                this.superHeroData[index].hp = this.superHeroData[index].maxHp;\r\n                this.async_write_data();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public setSuperHeroReliveByID(heroID: number, cellID: number): void {\r\n        for (let index = 0; index < this.superHeroData.length; index++) {\r\n            if (this.superHeroData[index].heroid == heroID && this.superHeroData[index].cellID == cellID) {\r\n                this.superHeroData[index].heroState = 0;\r\n                this.superHeroData[index].hp = this.superHeroData[index].maxHp;\r\n                this.superHeroData[index].curReliveTime = 0;\r\n                this.superHeroData[index].nextReliveTime = 0;\r\n                gm.ui.emit(\"refresh_super_hero_color\", cellID, heroID);\r\n                this.async_write_data();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public getSuperHeroData(heroID: number, cellID: number): SuperHeroVO {\r\n        for (let index = 0; index < this.superHeroData.length; index++) {\r\n            if (this.superHeroData[index].heroid == heroID && this.superHeroData[index].cellID == cellID) {\r\n                return this.superHeroData[index];\r\n            }\r\n        }\r\n    }\r\n\r\n    private removeSuperHeroData(heroID: number, cellID: number): void {\r\n        for (let index = 0; index < this.superHeroData.length; index++) {\r\n            if (this.superHeroData[index].heroid === heroID && this.superHeroData[index].cellID == cellID) {\r\n                this.superHeroData.splice(index, 1);\r\n                this.async_write_data();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public getAllSuperHeroData(): SuperHeroVO[] {\r\n        return this.superHeroData;\r\n    }\r\n\r\n\r\n\r\n    private addRoleItem(itemID: number, cellID: number = -1): void {\r\n        const itemType = 3e4 < itemID ? ItemTypeEnum.HERO_TYPE : ItemTypeEnum.ITEM_TYPE;\r\n        const newItem = new roleMapItemVO;\r\n        newItem.heroUID = 0;\r\n        newItem.itemID = itemID;\r\n        newItem.cellID = cellID;\r\n\r\n        if (itemType == ItemTypeEnum.ITEM_TYPE) {\r\n            const itemCfg = gm.data.config_data.getItemCfgByID(itemID);\r\n            if (!itemCfg) return;\r\n            if (!this.itemData[itemCfg.type]) {\r\n                this.itemData[itemCfg.type] = [];\r\n            }\r\n            newItem.itemType = itemCfg.type;\r\n            this.itemData[itemCfg.type].push(newItem);\r\n\r\n        } else if (itemType == ItemTypeEnum.HERO_TYPE) {\r\n            const herofg = gm.data.config_data.getHeroCfgByID(itemID)\r\n            if (!herofg) return;\r\n            if (!this.heroData[herofg.occupation]) {\r\n                this.heroData[herofg.occupation] = [];\r\n            }\r\n            newItem.itemType = herofg.occupation;\r\n            this.heroData[herofg.occupation].push(newItem);\r\n            if (11 == herofg.occupation) {\r\n                gm.ui.emit(\"build_show_towerBuff\");\r\n            }\r\n        }\r\n\r\n        for (let index = 0; index < this.roleSpaceList.length; index++) {\r\n            if (this.roleSpaceList[index] == cellID) {\r\n                this.roleSpaceList.splice(index, 1);\r\n                break;\r\n            }\r\n        }\r\n\r\n        this.unlockBookItem(itemType, itemID);\r\n    }\r\n\r\n    private getHeroDataByID(heroID: number, cellID: number): roleMapItemVO[] | null {\r\n        const heroConfig = gm.data.config_data.getHeroCfgByID(heroID);\r\n        if (heroConfig) {\r\n            if (!this.heroData[heroConfig.occupation] || Object.keys(this.heroData[heroConfig.occupation]).length <= 0) return null;\r\n\r\n            for (let index = 0; index < this.heroData[heroConfig.occupation].length; index++) {\r\n                if (this.heroData[heroConfig.occupation][index].cellID == cellID) {\r\n                    return this.heroData[heroConfig.occupation];\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public getSuperHeroDataByID(heroID: number, cellID: number): SuperHeroVO | null {\r\n        for (let a = 0; a < this.superHeroData.length; a++) {\r\n            if (this.superHeroData[a].cellID == cellID && this.superHeroData[a].heroid === heroID) {\r\n                return this.superHeroData[a];\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public delete_hero(heroUID: number, heroID: number): void {\r\n        const heroConfig = gm.data.config_data.getHeroCfgByID(heroID);\r\n        if (heroConfig) {\r\n            const occupationData = this.heroData[heroConfig.occupation];\r\n            if (occupationData && Object.keys(occupationData).length > 0) {\r\n                for (let i = 0; i < occupationData.length; i++) {\r\n                    if (occupationData[i].heroUID === heroUID) {\r\n                        this.delCellItemByCellID(occupationData[i].cellID);\r\n                        gm.ui.emit(\"item_children_refresh\", occupationData[i].cellID);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public getIsHeroTowerBuff(): boolean {\r\n        return this.heroData[11] && this.heroData[11].length > 0;\r\n    }\r\n\r\n    private delRoleItem(itemID: number, cellID: number): void {\r\n        this.changeMapItemDataByID(cellID, 0, 0);\r\n        const itemType = 3e4 < itemID ? ItemTypeEnum.HERO_TYPE : ItemTypeEnum.ITEM_TYPE;\r\n        if (itemType == ItemTypeEnum.ITEM_TYPE) {\r\n            const itemConfig = gm.data.config_data.getItemCfgByID(itemID);\r\n            if (!itemConfig) return;\r\n            if (!this.itemData[itemConfig.type]) return;\r\n            for (let index = 0; index < this.itemData[itemConfig.type].length; index++) {\r\n                if (this.itemData[itemConfig.type][index].cellID == cellID) {\r\n                    this.itemData[itemConfig.type].splice(index, 1);\r\n                    this.addRoleSpaceCellByID(cellID);\r\n                    break;\r\n                }\r\n            }\r\n        } else if (itemType == ItemTypeEnum.HERO_TYPE) {\r\n            const heroCfg = gm.data.config_data.getHeroCfgByID(itemID);\r\n            if (heroCfg) {\r\n                if (!this.heroData[heroCfg.occupation]) return;\r\n                for (let index = 0; index < this.heroData[heroCfg.occupation].length; index++) {\r\n                    if (this.heroData[heroCfg.occupation][index].cellID == cellID) {\r\n                        this.heroData[heroCfg.occupation].splice(index, 1);\r\n                        this.addRoleSpaceCellByID(cellID);\r\n                        heroCfg.hero_type == HeroTypeEnum.SUPER_HERO_TYPE && this.removeSuperHeroData(itemID, cellID);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        gm.ui.emit(\"refresh_barrel_num\");\r\n    }\r\n\r\n    public getMertrailIDCount(itemID: number): number {\r\n        const itemConfig = gm.data.config_data.getItemCfgByID(itemID);\r\n        if (itemConfig) {\r\n            if (itemConfig.type == PropTypeEnum.COIN_TYPE) return this.roleCoinData.coinNum;\r\n            if (itemConfig.type == PropTypeEnum.DIAMONDS_TYPE) return this.roleCoinData.diamondNum;\r\n            let count = 0;\r\n            if (!this.itemData[itemConfig.type]) return 0;\r\n            for (let index = 0; index < this.itemData[itemConfig.type].length; index++) {\r\n                count += gm.data.config_data.getItemCfgByID(this.itemData[itemConfig.type][index].itemID).number;\r\n            }\r\n            return count;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    public splitItemNum(itemID: number, itemCount: number, startID: number = 0): void {\r\n        const i = 10 * Math.floor(.1 * itemCount) + 1;\r\n        for (let o = itemCount; i <= o; o--) {\r\n            const itemConfig = gm.data.config_data.getItemCfgByID(o);\r\n            if (itemConfig)\r\n                for (; itemID >= itemConfig.number;) {\r\n                    1 == itemID ? itemID = 0 : itemID -= itemConfig.number;\r\n                    this.addWareHouseItem(o, startID)\r\n                }\r\n        }\r\n        gm.ui.emit(\"ship_goods_change\");\r\n    }\r\n\r\n    public onekeyGetGuideAllMertrail(t: number, e: number) {\r\n        let count = 0;\r\n        const tempDataBuild = TempData.getBuildGuideMertarilData();\r\n        for (const key in this.buildData[t].metrailData) {\r\n            if (tempDataBuild) {\r\n                for (let index = 0; index < tempDataBuild.metrailList.length; index++) {\r\n                    if (gm.data.config_data.getItemCfgByID(tempDataBuild.metrailList[index].itemID).type == parseInt(key) && TempData.getBuildGuideMertarilNumByID(this.buildData[t].buildID, tempDataBuild.metrailList[index].itemID) >= tempDataBuild.metrailList[index].needNum) {\r\n                        count++;\r\n                        break\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        const buildDataII = this.buildData[t].metrailData[e];\r\n        if (buildDataII && !(buildDataII.cur >= buildDataII.max)) {\r\n            const minus = buildDataII.max - buildDataII.cur;\r\n            Utils.sort_by_props(this.itemData[e], {\r\n                itemID: \"ascending\"\r\n            });\r\n\r\n            if (e == PropTypeEnum.WOOD_TYPE || e == PropTypeEnum.IRON_TYPE || e == PropTypeEnum.SHELL_MONEY_TYPE) {\r\n                for (let index = this.itemData[e].length - 1; 0 <= index; index--) {\r\n                    const itemID = this.itemData[e][index].itemID;\r\n                    const cellID = this.itemData[e][index].cellID;\r\n                    const itemCfg = gm.data.config_data.getItemCfgByID(itemID);\r\n                    if (0 + itemCfg.number == minus) {\r\n                        const newP = gm.ui.mapMainUI.mapContent.getChildByName(cellID.toString());\r\n                        const newH = newP.getComponent(MainMapItem);\r\n                        if (newP && newH && newH.itemNode) {\r\n                            if (t == BuildTypeEnum.SEAGOINGBOAT_TYPE) {\r\n                                gm.ui.show_item_fly(itemCfg.id, newH.itemNode.convertToWorldSpaceAR(cc.Vec3.ZERO), gm.ui.mapMainUI.ship.convertToWorldSpaceAR(cc.Vec3.ZERO));\r\n\r\n                            } else {\r\n                                const newU = gm.ui.mapMainUI.mapContent.getChildByName(this.buildData[t].cellID.toString());\r\n                                const newM = newU.getComponent(MainMapItem);\r\n                                if (newU && newM && newM.itemNode) {\r\n                                    gm.ui.show_item_fly(itemCfg.id, newH.itemNode.convertToWorldSpaceAR(cc.Vec3.ZERO), newM.itemNode.convertToWorldSpaceAR(cc.Vec3.ZERO));\r\n                                }\r\n                            }\r\n\r\n                            this.reportOnekeyAddMertrail(t, itemCfg.id, count);\r\n                            TempData.setBuildGuideMertaril(this.buildData[t].buildID, itemCfg.id, itemCfg.type, cellID, itemCfg.number,\r\n                                this.buildData[t].metrailData[itemCfg.type].max - this.buildData[t].metrailData[itemCfg.type].cur);\r\n                            gm.ui.emit(\"build_metarail_change\", this.buildData[t].buildID);\r\n                            gm.ui.emit(\"guide_del_item\", cellID);\r\n                            gm.ui.mapMainUI.checkHandAnimDelay();\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                for (let index = 0; index < this.itemData[e].length; index++) {\r\n                    const itemID = this.itemData[e][index].itemID;\r\n                    const cellID = this.itemData[e][index].cellID;\r\n                    if (itemID == buildDataII.id) {\r\n                        const newD = gm.data.config_data.getItemCfgByID(itemID);\r\n                        if (newD) {\r\n                            const newP = gm.ui.mapMainUI.mapContent.getChildByName(cellID.toString());\r\n                            const newH = newP.getComponent(MainMapItem);\r\n                            if (newP && newH && newH.itemNode) {\r\n                                if (t == BuildTypeEnum.SEAGOINGBOAT_TYPE) {\r\n                                    gm.ui.show_item_fly(newD.id, newH.itemNode.convertToWorldSpaceAR(cc.Vec3.ZERO),\r\n                                        gm.ui.mapMainUI.ship.convertToWorldSpaceAR(cc.Vec3.ZERO));\r\n\r\n                                } else {\r\n                                    const newU = gm.ui.mapMainUI.mapContent.getChildByName(this.buildData[t].cellID.toString());\r\n                                    const newM = newU.getComponent(MainMapItem);\r\n                                    if (newU && newM && newM.itemNode) {\r\n                                        gm.ui.show_item_fly(newD.id, newH.itemNode.convertToWorldSpaceAR(cc.Vec3.ZERO),\r\n                                            newM.itemNode.convertToWorldSpaceAR(cc.Vec3.ZERO));\r\n                                    }\r\n                                }\r\n                            }\r\n                            this.reportOnekeyAddMertrail(t, newD.id, count);\r\n                            TempData.setBuildGuideMertaril(this.buildData[t].buildID, itemID, newD.type, cellID, 1,\r\n                                this.buildData[t].metrailData[newD.type].max - this.buildData[t].metrailData[newD.type].cur);\r\n                            gm.ui.emit(\"build_metarail_change\", this.buildData[t].buildID);\r\n                            gm.ui.emit(\"guide_del_item\", cellID);\r\n                            gm.ui.mapMainUI.checkHandAnimDelay();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private reportOnekeyAddMertrail(t: number, e: number, a: number): void {\r\n        let i: number = 0;\r\n        if (0 == this.buildData[t].buildLvl && t == BuildTypeEnum.TOWER_TYPE) {\r\n            i = 22;\r\n        }\r\n        const itemCfg = gm.data.config_data.getItemCfgByID(e)\r\n        if (itemCfg) {\r\n            gm.channel.report_event(\"ohayoo_game_guide\", {\r\n                guideid: i += a,\r\n                guidedesc: cc.js.formatStr(\"%d.一键添加材料%s\", i, itemCfg.name)\r\n            });\r\n        }\r\n    }\r\n\r\n    public onekeyGetAllMertrail(t: number, e: number): void {\r\n        let cellID = 0;\r\n        const metrailData = this.buildData[t].metrailData[e];\r\n        if (metrailData && !(metrailData.cur >= metrailData.max)) {\r\n            const minus = metrailData.max - metrailData.cur;\r\n            Utils.sort_by_props(this.itemData[e], {\r\n                itemID: \"descending\"\r\n            });\r\n\r\n            if (e == PropTypeEnum.WOOD_TYPE || e == PropTypeEnum.IRON_TYPE || e == PropTypeEnum.SHELL_MONEY_TYPE) {\r\n                let count = 0;\r\n                for (let index = this.itemData[e].length - 1; 0 <= index; index--) {\r\n                    const itemID = this.itemData[e][index].itemID;\r\n                    cellID = this.itemData[e][index].cellID;\r\n                    const itemCfg = gm.data.config_data.getItemCfgByID(itemID);\r\n\r\n                    if (!(count + itemCfg.number <= minus)) {\r\n                        this._needRefreshCellList.push(cellID);\r\n                        const newH = minus - count;\r\n                        this.addBuildMetrail(t, itemCfg.type, newH);\r\n                        const childName = gm.ui.mapMainUI.mapContent.getChildByName(cellID.toString());\r\n                        const mainMap = childName.getComponent(MainMapItem);\r\n                        if (childName && mainMap && mainMap.itemNode) {\r\n                            if (t == BuildTypeEnum.SEAGOINGBOAT_TYPE) {\r\n                                gm.ui.show_item_fly(itemCfg.id, mainMap.itemNode.convertToWorldSpaceAR(cc.Vec3.ZERO),\r\n                                    gm.ui.mapMainUI.ship.convertToWorldSpaceAR(cc.Vec3.ZERO));\r\n\r\n                            } else {\r\n                                const newD = gm.ui.mapMainUI.mapContent.getChildByName(this.buildData[t].cellID.toString());\r\n                                const newP = newD.getComponent(MainMapItem);\r\n                                if (newD && newP && newP.itemNode) {\r\n                                    gm.ui.show_item_fly(itemCfg.id, mainMap.itemNode.convertToWorldSpaceAR(cc.Vec3.ZERO),\r\n                                        newP.itemNode.convertToWorldSpaceAR(cc.Vec3.ZERO));\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        this.itemData[e].splice(index, 1);\r\n                        this.changeMapItemDataByID(cellID, 0, 0);\r\n                        this.addRoleSpaceCellByID(cellID);\r\n                        this.splitItemNum(itemCfg.number - newH, itemID);\r\n                        break;\r\n                    }\r\n                    const childName = gm.ui.mapMainUI.mapContent.getChildByName(cellID.toString());\r\n                    const mainMap = childName.getComponent(MainMapItem);\r\n\r\n                    if (childName && mainMap && mainMap.itemNode) {\r\n                        if (t == BuildTypeEnum.SEAGOINGBOAT_TYPE) {\r\n                            gm.ui.show_item_fly(itemCfg.id, mainMap.itemNode.convertToWorldSpaceAR(cc.Vec3.ZERO),\r\n                                gm.ui.mapMainUI.ship.convertToWorldSpaceAR(cc.Vec3.ZERO));\r\n                        } else {\r\n                            const newD = gm.ui.mapMainUI.mapContent.getChildByName(this.buildData[t].cellID.toString());\r\n                            const newP = newD.getComponent(MainMapItem);\r\n                            if (newD && newP && newP.itemNode) {\r\n                                gm.ui.show_item_fly(itemCfg.id, mainMap.itemNode.convertToWorldSpaceAR(cc.Vec3.ZERO),\r\n                                    newP.itemNode.convertToWorldSpaceAR(cc.Vec3.ZERO))\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    this.itemData[e].splice(index, 1);\r\n                    this.changeMapItemDataByID(cellID, 0, 0);\r\n                    count += itemCfg.number;\r\n                    this.addBuildMetrail(t, e, itemCfg.number);\r\n                    this._needRefreshCellList.push(cellID);\r\n                    this.addRoleSpaceCellByID(cellID);\r\n                }\r\n                this.async_write_data();\r\n\r\n            } else {\r\n                for (let index = 0; index < this.itemData[e].length; index++) {\r\n                    const itemID = this.itemData[e][index].itemID;\r\n                    const cellID = this.itemData[e][index].cellID;\r\n                    if (itemID == metrailData.id) {\r\n                        this._needRefreshCellList.push(itemID);\r\n                        this.delRoleItem(itemID, cellID);\r\n                        this.addBuildMetrail(t, e, 1);\r\n                        this.async_write_data();\r\n                        break;\r\n                    }\r\n\r\n                    if (itemID >= metrailData.id) {\r\n                        this._needRefreshCellList.push(cellID);\r\n                        this.delRoleItem(itemID, cellID);\r\n                        const arr = [];\r\n                        for (let f = itemID - 1; f >= metrailData.id; f--) {\r\n                            arr.push(f);\r\n                            if (f == metrailData.id) {\r\n                                this.addBuildMetrail(t, e, 1);\r\n                            }\r\n                        }\r\n\r\n                        this.addWareHouseList(arr, 0);\r\n                        this.async_write_data();\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public onekeyGetAllSpecialMertrail(t: number, e: number) {\r\n        const speciafID = gm.data.config_data.getSpecialByID(t);\r\n        if (speciafID) {\r\n            let value = 0;\r\n            for (let index = 0; index < speciafID.prop.length; index++) {\r\n                if (speciafID.prop[index] == e) {\r\n                    value = speciafID.value[index];\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (0 != value) {\r\n                const special = this.specialList[t];\r\n                if (special && !(special.mertrail[e] >= value)) {\r\n                    const itemCfg = gm.data.config_data.getItemCfgByID(e);\r\n                    if (itemCfg) {\r\n                        const type = itemCfg.type;\r\n                        const newC = value - special.mertrail[e];\r\n                        Utils.sort_by_props(this.itemData[type], {\r\n                            itemID: \"descending\"\r\n                        });\r\n                        if (type == PropTypeEnum.WOOD_TYPE || type == PropTypeEnum.IRON_TYPE || type == PropTypeEnum.SHELL_MONEY_TYPE) {\r\n                            let count = 0;\r\n                            for (let index = this.itemData[type].length - 1; 0 <= index; index--) {\r\n                                const itemID = this.itemData[type][index].itemID;\r\n                                const itemConfig = gm.data.config_data.getItemCfgByID(itemID);\r\n                                if (!(count + itemConfig.number <= newC)) {\r\n                                    this._needRefreshCellList.push(this.itemData[type][index].cellID);\r\n                                    const num = newC - count;\r\n                                    this.specialList[t].mertrail[e] += count;\r\n                                    this.delCellItemByCellID(this.itemData[type][index].cellID);\r\n                                    this.splitItemNum(itemConfig.number - num, itemID);\r\n                                    break;\r\n                                }\r\n                                this._needRefreshCellList.push(this.itemData[type][index].cellID);\r\n                                this.delCellItemByCellID(this.itemData[type][index].cellID);\r\n                                count += itemConfig.number;\r\n                                this.specialList[t].mertrail[e] += count;\r\n                            }\r\n                            this.async_write_data();\r\n\r\n                        } else {\r\n                            for (let index = 0; index < this.itemData[type].length; index++) {\r\n                                if (this.itemData[type][index].itemID == e) {\r\n                                    this._needRefreshCellList.push(this.itemData[type][index].cellID);\r\n                                    this.delRoleItem(e, this.itemData[type][index].cellID);\r\n                                    this.specialList[t].mertrail[e] += 1;\r\n                                    this.async_write_data();\r\n                                    break;\r\n                                }\r\n                                if (this.itemData[type][index].itemID >= e) {\r\n                                    const itemID = this.itemData[type][index].itemID;\r\n                                    this._needRefreshCellList.push(this.itemData[type][index].cellID);\r\n                                    this.delRoleItem(this.itemData[type][index].itemID, this.itemData[type][index].cellID);\r\n\r\n                                    const arr: number[] = [];\r\n                                    for (let o = itemID - 1; e <= o; o--) {\r\n                                        arr.push(o);\r\n                                        if (o == e) {\r\n                                            (this.specialList[t].mertrail[e] += 1);\r\n                                        }\r\n                                    }\r\n                                    this.addWareHouseList(arr, 0);\r\n                                    this.async_write_data();\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public onekeyWatchAdGetSoul(t: number, e: number): void {\r\n        if (gm.data.config_data.getSpecialByID(t)) {\r\n            this.specialList[t].mertrail[e] += 1;\r\n            this.async_write_data();\r\n        }\r\n    }\r\n\r\n    public onekeyGetAllSpecialHeroMertrail(t: number, e: number) {\r\n        const newA = gm.data.config_data.getSpecialByID(t);\r\n        if (newA) {\r\n            let value = 0;\r\n            for (let index = 0; index < newA.prop.length; index++) {\r\n                if (newA.prop[index] == e) {\r\n                    value = newA.value[index];\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (0 != value) {\r\n                const special = this.specialList[t];\r\n                if (special && !(special.mertrail[e].cur >= value)) {\r\n                    const heroConfig = gm.data.config_data.getHeroCfgByID(e)\r\n                    if (heroConfig) {\r\n                        const occupation = heroConfig.occupation;\r\n                        const heroData = this.heroData[occupation];\r\n                        if (heroData)\r\n                            for (let index = heroData.length - 1; 0 <= index; index--)\r\n                                if (heroData[index].itemID == e) {\r\n                                    if (value == special.mertrail[e]) break;\r\n                                    this._needRefreshCellList.push(heroData[index].cellID);\r\n                                    this.delRoleItem(e, heroData[index].cellID);\r\n                                    this.specialList[t].mertrail[e] += 1;\r\n                                }\r\n                        this.async_write_data();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private addBuild(t: number, e: number): void {\r\n        const buildCfg = gm.data.config_data.getBuildCfgByID(t);\r\n        if (buildCfg && !this.getBuildDataByType(buildCfg.buildType)) {\r\n            const roleBuildData = new RoleBuildDataVO;\r\n            roleBuildData.buildState = 1;\r\n            roleBuildData.buildID = buildCfg.buildID;\r\n            roleBuildData.buildType = buildCfg.buildType;\r\n            roleBuildData.buildLvl = buildCfg.buildLv;\r\n            roleBuildData.cellID = e;\r\n            roleBuildData.isCanMove = 0 < buildCfg.cellID ? 0 : 1;\r\n            roleBuildData.productData = null;\r\n            roleBuildData.metrailData = {};\r\n            for (let n = roleBuildData.upNeedCoin = 0; n < buildCfg.consume.length; n++) {\r\n                if (buildCfg.consume[n] == RewardIdEnum.GOLD) {\r\n                    roleBuildData.upNeedCoin = buildCfg.num[n];\r\n\r\n                } else {\r\n                    const itemCfg = gm.data.config_data.getItemCfgByID(buildCfg.consume[n])\r\n                    if (itemCfg) {\r\n                        if (!roleBuildData.metrailData[itemCfg.type]) {\r\n                            roleBuildData.metrailData[itemCfg.type] = {} as metrail;\r\n                        }\r\n                        roleBuildData.metrailData[itemCfg.type].id = buildCfg.consume[n];\r\n                        roleBuildData.metrailData[itemCfg.type].max = buildCfg.num[n];\r\n                        roleBuildData.metrailData[itemCfg.type].cur = 0;\r\n                    }\r\n                }\r\n            }\r\n            this.buildData[roleBuildData.buildType] = roleBuildData;\r\n            if (59e3 == t) {\r\n                this.addBuild(60001, gm.const.shipID);\r\n            }\r\n            this.async_write_data();\r\n        }\r\n    }\r\n\r\n    public getBuildDataByType(t: number): BuildData {\r\n        return this.buildData[t];\r\n    }\r\n\r\n    public upgradeBuild(t: number): void {\r\n        const newE = gm.data.config_data.getBuildCfgByID(t);\r\n        if (newE) {\r\n            const newA = gm.data.config_data.getBuildCfgByID(newE.nextBuildID);\r\n            if (newA) {\r\n                let num = 0;\r\n                const newO = this.buildData[newE.buildType];\r\n                if (newO) {\r\n                    gm.channel.report_event(\"building_upgrade\", {\r\n                        event_desc: \"建筑升级\",\r\n                        building_name: newA.buildName,\r\n                        level: newA.buildLv,\r\n                        desc: cc.js.formatStr(\"%s%d级\", newA.buildName, newA.buildLv)\r\n                    });\r\n\r\n                    gm.data.get_player_score_data_request(() => {\r\n                        gm.data.update_player_score_data_request(gm.data.ladder_temp_data.total_star);\r\n                    });\r\n\r\n                    const newN = gm.const.REPORT_BUILDING_UPGRADE_MAP[newE.buildType];\r\n                    if (0 < newA.buildLv && newA.buildLv < newN.length) {\r\n                        const newS = newN[newA.buildLv - 1];\r\n                        ReportData.instance.report_once_point(newS);\r\n                    }\r\n\r\n                    if (1 == newA.buildLv && newE.buildType == BuildTypeEnum.GARRISION_TYPE) {\r\n                        cc.Canvas.instance.scheduleOnce(() => {\r\n                            gm.ui.show_panel(gm.const.Ladder)\r\n                        }, 2);\r\n\r\n                    } else if (!(gm.data.mapCell_data.isGuide || newE.buildType == BuildTypeEnum.BARRACKS_TYPE)) {\r\n                        (newE.buildType, BuildTypeEnum.WHARFTAX_TYPE);\r\n                    }\r\n\r\n                    if (!gm.data.mapCell_data.isGuide && 3 <= this.getBuildDataByType(BuildTypeEnum.TOWER_TYPE).buildLvl && newE.buildType != BuildTypeEnum.TOWER_TYPE) {\r\n                        cc.Canvas.instance.scheduleOnce(() => {\r\n                            gm.channel.checkShortcut((result: number) => {\r\n                                if (2 <= result) {\r\n                                    gm.ui.show_panel(gm.const.AddDesktop);\r\n                                }\r\n                            });\r\n                        }, 2);\r\n                    }\r\n\r\n                    if (newE.buildType != BuildTypeEnum.SEAGOINGBOAT_TYPE) {\r\n                        this.role_map_data[newO.cellID].itemID = newA.buildID;\r\n                    }\r\n\r\n                    newO.buildID = newA.buildID;\r\n                    newO.buildLvl = newA.buildLv;\r\n                    if (0 < newA.currency && 2 <= newA.rate.length) {\r\n                        if (!newO.productData) {\r\n                            newO.productData = new RoleProductDataVO;\r\n                            newO.productData.productCd = 0;\r\n                            newO.productData.productNum = 0;\r\n                            newO.productData.maxNum = 0;\r\n                            newO.productData.fullTime = 0;\r\n                            newO.productData.productID = 0;\r\n                            newO.productData.beginTime = 0;\r\n                            newO.productData.curNum = 0;\r\n                        }\r\n                        newO.productData.productID = newA.currency;\r\n                        newO.productData.productCd = newA.rate[1];\r\n                        newO.productData.productNum = newA.rate[0];\r\n                        newO.productData.maxNum = newA.capacity;\r\n\r\n                        if (newE.buildType == BuildTypeEnum.PRIVATEHOUSING_TYPE && 0 == newE.buildLv) {\r\n                            newO.productData.curNum = 2;\r\n                        }\r\n\r\n                        newO.productData.beginTime = Math.floor(Date.now() / 1000);\r\n                        if (0 == newO.productData.fullTime) {\r\n                            newO.productData.fullTime = Math.floor(Date.now() / 1e3) + Math.round((newO.productData.maxNum - newO.productData.curNum) / newO.productData.productNum) * newO.productData.productCd;\r\n                        }\r\n                    }\r\n\r\n                    newO.metrailData = {};\r\n                    for (let index = newO.upNeedCoin = 0; index < newA.consume.length; index++) {\r\n                        if (newA.consume[index] == RewardIdEnum.GOLD) {\r\n                            newO.upNeedCoin = newA.num[index];\r\n                        } else {\r\n                            const itemCfg = gm.data.config_data.getItemCfgByID(newA.consume[index]);\r\n                            if (itemCfg) {\r\n                                if (!newO.metrailData[itemCfg.type]) {\r\n                                    newO.metrailData[itemCfg.type] = {} as metrail;\r\n                                }\r\n                                newO.metrailData[itemCfg.type].id = newA.consume[index];\r\n                                newO.metrailData[itemCfg.type].max = newA.num[index];\r\n                                newO.metrailData[itemCfg.type].cur = 0;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (this.isGuide || newA.buildType != BuildTypeEnum.WHARFTAX_TYPE || this.resetBarrelTime(newO.productData), 0 < newA.lockAreaID) {\r\n                        let isCheck = false;\r\n                        for (let index = 0; index < this.roleShowAreaIDList.length; index++) {\r\n                            if (this.roleShowAreaIDList[index] == newA.lockAreaID) {\r\n                                isCheck = true;\r\n                                break;\r\n                            }\r\n                        }\r\n\r\n                        if (!isCheck) {\r\n                            this.openNewAreaByID(newA.lockAreaID);\r\n                        }\r\n\r\n                        if (!gm.const.localCloudAreaList[newA.lockAreaID]) {\r\n                            this.unlockNewAreaID(newA.lockAreaID);\r\n                        }\r\n                    }\r\n\r\n                    if (51001 == newA.buildID) {\r\n                        gm.data.mapCell_data.buildData[BuildTypeEnum.SEAGOINGBOAT_TYPE].cellID = 395;\r\n                        const showAreaID = newA.showAreaID as number[];\r\n\r\n                        for (let index = 0; index < showAreaID.length; index++) {\r\n                            this.openNewAreaByID(showAreaID[index]);\r\n                        }\r\n\r\n                        this.isGuide = false;\r\n                        gm.ui.mapMainUI.lockMainUI();\r\n                        gm.ui.mapMainUI.show_task_main_entry_guide();\r\n                        gm.data.mapCell_data.addBarrelNum(5);\r\n                        gm.ui.mapMainUI.setBarrelNodeActive();\r\n                        gm.ui.mapMainUI.playGuideBarrelFly(5);\r\n                        num = 23;\r\n                        gm.ui.mapMainUI.autoCompose.node.active = !gm.data.mapCell_data.isGuide;\r\n                        gm.ui.emit(\"coin_change\");\r\n\r\n                    } else {\r\n                        newA.buildID;\r\n                    }\r\n\r\n                    if (newE.buildType == BuildTypeEnum.WHARFTAX_TYPE && 0 == newE.buildLv) {\r\n                        const buildCfg = gm.data.config_data.getBuildCfgByID(this.buildData[BuildTypeEnum.WHARFTAX_TYPE].buildID);\r\n                        if (buildCfg && 2 <= buildCfg.rate.length && 2 <= buildCfg.rate.length) {\r\n                            const roleProductData = new RoleProductDataVO;\r\n                            roleProductData.productID = buildCfg.currency;\r\n                            roleProductData.productCd = buildCfg.rate[1];\r\n                            roleProductData.productNum = buildCfg.rate[0];\r\n                            roleProductData.maxNum = buildCfg.capacity;\r\n                            roleProductData.beginTime = Math.floor(Date.now() / 1e3);\r\n                            roleProductData.fullTime = 0;\r\n                            this.resetBarrelTime(roleProductData);\r\n                            this.roleBarrelData.curBarrelNum += 10;\r\n                            roleProductData.fullTime = 0;\r\n                        }\r\n\r\n                    } else if (newE.buildType == BuildTypeEnum.STALL_TYPE && 0 == newE.buildLv) {\r\n                        gm.audio.play_effect(gm.const.AUDIO_15_UNLOCK_STORE);\r\n\r\n                    } else if (newE.buildType == BuildTypeEnum.GARRISION_TYPE) {\r\n                        if (0 == newE.buildLv) {\r\n                            this.initDefanseData();\r\n                            gm.data.ladder_temp_data.total_star = gm.data.ladder_data.ladder_star;\r\n                            const newCc = gm.data.ladder_temp_data.total_star;\r\n                            gm.data.update_player_data_request(() => {\r\n                                gm.data.get_player_score_data_request(() => {\r\n                                    console.log(\"1.update before:\" + newCc + \" update after:\" + gm.data.ladder_temp_data.total_star);\r\n                                });\r\n                            });\r\n\r\n                        } else {\r\n                            gm.ui.async_show_module(gm.const.DEFENSE);\r\n                        }\r\n                    }\r\n\r\n                    if (this.isGuide) {\r\n                        gm.channel.report_event(\"ohayoo_game_guide\", {\r\n                            guideid: num,\r\n                            guidedesc: cc.js.formatStr(\"%d.点击%s升级\", num, newE.buildName)\r\n                        });\r\n                    }\r\n\r\n                    this.role_build_lock_num++, gm.ui.emit(\"unLockNewArea\");\r\n                    const newHh = TempData.getBuildGuideMertarilData();\r\n\r\n                    if (newHh && newHh.buildID == t && 0 < newHh.metrailList.length) {\r\n                        for (let index = newHh.metrailList.length - 1; 0 <= index; index--) {\r\n                            if (newHh.metrailList[index].itemNum > newHh.metrailList[index].needNum) {\r\n                                this.splitItemNum(newHh.metrailList[index].itemNum - newHh.metrailList[index].needNum, newHh.metrailList[index].itemID);\r\n                            }\r\n\r\n                            this.delCellItemByCellID(newHh.metrailList[index].cellID);\r\n                            gm.ui.emit(\"item_children_refresh\", newHh.metrailList[index].cellID), newHh.metrailList.splice(index, 1);\r\n                        }\r\n                    }\r\n\r\n                    if (newE.buildType == BuildTypeEnum.BARRACKS_TYPE && 0 <= newA.rate.length) {\r\n                        for (let index = 0; index < newA.rate.length; index++) {\r\n                            this.reelUnlcokHero(newA.rate[index]);\r\n                        }\r\n                    }\r\n\r\n                    gm.data.task_data.update_build_task_progress(newA.buildType);\r\n                    this.async_write_data();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public getBuildProduct = function (t: number): void {\r\n        if (this.buildData[t].productData && t != BuildTypeEnum.WHARFTAX_TYPE) {\r\n            const productData = this.buildData[t].productData;\r\n            let coin: number\r\n            if (0 == productData.fullTime) {\r\n                coin = productData.curNum;\r\n            } else if (productData.fullTime > Math.floor(Date.now() / 1e3)) {\r\n                if (productData.beginTime + productData.productCd > Math.floor(Date.now() / 1e3)) {\r\n                    coin = productData.curNum;\r\n                } else {\r\n                    coin = Math.floor((Math.floor(Date.now() / 1e3) - productData.beginTime) / productData.productCd * productData.productNum);\r\n                }\r\n            } else {\r\n                coin = productData.maxNum;\r\n            }\r\n\r\n            if (0 < coin) {\r\n                const i = gm.data.config_data.getItemCfgByID(this.buildData[t].productData.productID);\r\n                if (i) {\r\n                    if (i.type == PropTypeEnum.COIN_TYPE) {\r\n                        this.setAddGameCoin(SetItemNumEnum.ADD_ITEM_TYPE, coin);\r\n                    } else {\r\n                        for (let o = 0; o < coin; o++) {\r\n                            this.addWareHouseItem(productData.productID, 1);\r\n                        }\r\n                        gm.ui.emit(\"ship_goods_change\");\r\n                    }\r\n                    this.buildData[t].productData.curNum = 0;\r\n                    this.buildData[t].productData.beginTime = Math.floor(Date.now() / 1e3);\r\n                    this.buildData[t].productData.fullTime = Math.floor(Date.now() / 1e3) + Math.round((productData.maxNum - productData.curNum) / productData.productNum) * productData.productCd;\r\n                    this.async_write_data();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private changeBuildCellPos(t: number, e: number): void {\r\n        if (this.buildData[t]) {\r\n            this.buildData[t].cellID = e;\r\n        }\r\n    }\r\n\r\n    private addBuildMetrail(t: number, e: number, a: number): void {\r\n        const buildData = this.buildData[t];\r\n        if (buildData) {\r\n            buildData.metrailData[e].cur += a;\r\n        }\r\n    }\r\n\r\n    private addWaterBarrel(): void {\r\n        this.waterBarrelList = [];\r\n        const positions = [cc.v3(257, -1087), cc.v3(295, -1145), cc.v3(377, -1083)];\r\n        for (let e = 0; e < positions.length; e++) {\r\n            const a = new roleBarrelItemVO();\r\n            a.itemID = 11006;\r\n            a.itemIndex = e;\r\n            a.itemPos = positions[e];\r\n            this.waterBarrelList.push(a);\r\n        }\r\n        this.async_write_data();\r\n    }\r\n\r\n    public initBarrelTime(): void {\r\n        if (!this.isGuide && this.roleBarrelData.curBarrelNum < this.roleBarrelData.maxBarrelNum) {\r\n            if (this.roleBarrelData.nextFreeBarrelTime > this.roleBarrelData.curFreeBarrelTime) {\r\n                this.roleBarrelData.nextFreeBarrelTime = Math.floor(Date.now() / 1e3) + (this.roleBarrelData.nextFreeBarrelTime - this.roleBarrelData.curFreeBarrelTime);\r\n                this.roleBarrelData.curFreeBarrelTime = Math.floor(Date.now() / 1e3);\r\n            } else {\r\n                this.roleBarrelData.curFreeBarrelTime = Math.floor(Date.now() / 1e3);\r\n                this.roleBarrelData.nextFreeBarrelTime = Math.floor(Date.now() / 1e3) + this.roleBarrelData.freeBarrelCd;\r\n            }\r\n        } else {\r\n            this.roleBarrelData.nextFreeBarrelTime = 0;\r\n            this.roleBarrelData.curFreeBarrelTime = 0;\r\n        }\r\n    }\r\n\r\n    private resetBarrelTime(t: { maxNum: number; productNum: number; productCd: number }): void {\r\n        this.roleBarrelData.maxBarrelNum = t.maxNum;\r\n        this.roleBarrelData.nextFreeBarrelNum = t.productNum;\r\n        this.roleBarrelData.freeBarrelCd = t.productCd;\r\n    }\r\n\r\n    public addBarrelNum(t: number): void {\r\n        this.roleBarrelData.curBarrelNum += t;\r\n        if (this.isGuide || this.roleBarrelData.curBarrelNum >= this.roleBarrelData.maxBarrelNum) {\r\n            this.roleBarrelData.nextFreeBarrelTime = 0;\r\n        } else {\r\n            this.roleBarrelData.nextFreeBarrelTime = Math.floor(Date.now() / 1e3) + this.roleBarrelData.freeBarrelCd;\r\n        }\r\n        this.async_write_data();\r\n        gm.ui.emit(\"refresh_barrel_num\");\r\n    }\r\n\r\n    private addFreeBarrel(): void {\r\n        if (this.roleBarrelData.curBarrelNum >= this.roleBarrelData.maxBarrelNum) {\r\n            this.roleBarrelData.nextFreeBarrelTime = 0;\r\n            this.roleBarrelData.curBarrelNum = 0;\r\n            return;\r\n        }\r\n        this.roleBarrelData.curBarrelNum = Math.min(this.roleBarrelData.curBarrelNum + this.roleBarrelData.nextFreeBarrelNum, this.roleBarrelData.maxBarrelNum);\r\n\r\n        if (this.roleBarrelData.curBarrelNum >= this.roleBarrelData.maxBarrelNum) {\r\n            this.roleBarrelData.nextFreeBarrelTime = 0;\r\n            this.roleBarrelData.curFreeBarrelTime = 0;\r\n\r\n        } else {\r\n            this.roleBarrelData.nextFreeBarrelTime = Math.floor(Date.now() / 1000) + this.roleBarrelData.freeBarrelCd;\r\n            this.roleBarrelData.curFreeBarrelTime = Math.floor(Date.now() / 1000);\r\n        }\r\n        this.async_write_data();\r\n    }\r\n\r\n    public reduceBarrelNum(): void {\r\n        this.roleBarrelData.curBarrelNum--;\r\n        if (!this.isGuide) {\r\n            if (this.roleBarrelData.curBarrelNum < this.roleBarrelData.maxBarrelNum && 0 == this.roleBarrelData.nextFreeBarrelTime) {\r\n                this.roleBarrelData.nextFreeBarrelTime = Math.floor(Date.now() / 1000) + this.roleBarrelData.freeBarrelCd;\r\n                this.roleBarrelData.curFreeBarrelTime = Math.floor(Date.now() / 1000);\r\n            } else if (this.roleBarrelData.curBarrelNum >= this.roleBarrelData.maxBarrelNum) {\r\n                this.roleBarrelData.nextFreeBarrelTime = 0;\r\n                this.roleBarrelData.curFreeBarrelTime = 0;\r\n            }\r\n        }\r\n        this.async_write_data();\r\n    }\r\n\r\n    public getMapHaveSpece(): boolean {\r\n        return this.roleSpaceList.length > 0;\r\n    }\r\n\r\n    private changeMapItemDataByID(t: number, e: number, a: number, i: number = 0, o: boolean = true): void {\r\n        if (this.role_map_data[t]) {\r\n            if (0 == e && 0 == a && o) {\r\n                this.delDefenseDataByID(this.role_map_data[t].heroUID);\r\n            }\r\n            this.role_map_data[t].itemID = a;\r\n            this.role_map_data[t].itemType = e;\r\n            this.role_map_data[t].heroUID = i;\r\n            if (o && 0 < a && e == ItemTypeEnum.HERO_TYPE) {\r\n                const n = gm.data.config_data.getHeroCfgByID(a);\r\n                if (n && 0 < n.occupation && 10 != n.occupation && 11 != n.occupation && 12 != n.occupation) {\r\n                    this.role_map_data[t].heroUID = this.heroTotalNum;\r\n                    this.heroTotalNum++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public openCase(t: number, e: number): void {\r\n        if (this.role_openBarrel_Times > this.initOpenBarrelData) {\r\n            let a = 0;\r\n            if (e == RewardIdEnum.BARREL) {\r\n                const random = gm.data.config_data.getRandomID();\r\n                const row = gm.config.get_row_data_array(\"PoolConfigData\", random + \"\") as PoolConfig[];\r\n                a = gm.config.get_random_case(row);\r\n            } else if (e == RewardIdEnum.SILVER_BARREL) {\r\n                a = 3101;\r\n            } else if (e == RewardIdEnum.GOLD_BARREL) {\r\n                a = 3001;\r\n            }\r\n\r\n            const rowData = gm.config.get_row_data_array(\"PoolConfigData\", a + \"\") as PoolConfig[];\r\n            if (e == RewardIdEnum.GOLD_BARREL) {\r\n                const unlock = this.get_unlock_hero_array();\r\n                for (let n = rowData.length - 1; 0 <= n; n--) {\r\n                    if (unlock.indexOf(rowData[n].prop) <= -1) {\r\n                        rowData.splice(n, 1);\r\n                    }\r\n                }\r\n            }\r\n            const arr: RoleItemDataVO[] = [];\r\n            gm.data.setRandomReward(rowData, arr, 1);\r\n            const itemID = arr[0].itemID;\r\n            const itemType = arr[0].itemType;\r\n            this.changeMapItemDataByID(t, itemType, itemID);\r\n            this.checkIsPlayItemSound(itemID);\r\n            this.addRoleItem(itemID, t);\r\n        } else {\r\n            const caskID = gm.data.config_data.getCaskIDBySortId(this.role_openBarrel_Times);\r\n            this.changeMapItemDataByID(t, caskID[0], caskID[1]);\r\n            this.checkIsPlayItemSound(caskID[1]);\r\n            this.addRoleItem(caskID[1], t);\r\n            if (e != RewardIdEnum.BARREL) {\r\n                cc.log(\"引导阶段，打开桶的奖励走配置\");\r\n            }\r\n        }\r\n\r\n        ReportData.instance.report_point(30101);\r\n        this.role_openBarrel_Times += 1;\r\n        gm.data.task_data.update_task_progress(TaskConditionType.BREAK_BARREL);\r\n        this.async_write_data();\r\n    }\r\n\r\n    public openStoneHero(t: number, e: number): void {\r\n        const itemCfg = gm.data.config_data.getItemCfgByID(e);\r\n        if (itemCfg) {\r\n            this.delCellItemByCellID(t);\r\n            this.addRoleItem(itemCfg.next, t);\r\n            this.changeMapItemDataByID(t, ItemTypeEnum.HERO_TYPE, itemCfg.next);\r\n        }\r\n        this.async_write_data();\r\n    }\r\n\r\n    public randomStoneHero(t: number, e: number, a: number): void {\r\n        const eData = gm.config.get_row_data_array(\"PoolConfigData\", e + \"\") as PoolConfig[];\r\n        const arr: RoleItemDataVO[] = [];\r\n        gm.data.setRandomReward(eData, arr, a);\r\n\r\n        for (let o = 0; o < arr.length; o++) {\r\n            this.addWareHouseItem(arr[o].itemID, 1);\r\n        }\r\n\r\n        this.delCellItemByCellID(t);\r\n    }\r\n\r\n    public checkIsPlayItemSound(t: number): void {\r\n        if (30000 <= t) {\r\n            const row = gm.config.get_row_data(\"HeroConfigData\", t + \"\") as HeroConfig;\r\n            if (row && row.get_merge_audio) {\r\n                gm.audio.play_effect(row.get_merge_audio.toString());\r\n            } else {\r\n                gm.audio.play_effect(gm.const.AUDIO_161_COMPOSE);\r\n            }\r\n        } else {\r\n            const itemCfg = gm.data.config_data.getItemCfgByID(t);\r\n            if (itemCfg) {\r\n                if (itemCfg.soundID) {\r\n                    gm.audio.play_effect(itemCfg.soundID);\r\n                } else {\r\n                    gm.audio.play_effect(gm.const.AUDIO_161_COMPOSE);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private checkBuildState(t: number): number {\r\n        const buildCfg = gm.data.config_data.getBuildCfgByID(t);\r\n        return buildCfg && this.role_map_data[buildCfg.cellID] ? 2 : 1;\r\n    }\r\n\r\n    private changeCellID(t: number, e: number, a: number): void {\r\n        if (t == ItemTypeEnum.ITEM_TYPE) {\r\n            const itemConfig = gm.data.config_data.getItemCfgByID(this.role_map_data[e].itemID);\r\n\r\n            if (itemConfig) {\r\n                const itemData = this.itemData[itemConfig.type];\r\n                if (itemData) {\r\n                    for (let o = 0; o < itemData.length; o++)\r\n                        if (itemData[o].cellID == e) {\r\n                            itemData[o].cellID = a;\r\n                            break;\r\n                        }\r\n                }\r\n            }\r\n        } else if (t == ItemTypeEnum.HERO_TYPE) {\r\n            const heroConfig = gm.data.config_data.getHeroCfgByID(this.role_map_data[e].itemID);\r\n            if (heroConfig) {\r\n                const heroData = this.heroData[heroConfig.occupation];\r\n                if (heroData) {\r\n                    for (let o = 0; o < heroData.length; o++) {\r\n                        if (heroData[o].cellID == e) {\r\n                            heroData[o].cellID = a;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private setItemCellIDAndItemID(itemType: number, cellID: number, newCellID: number, itemID: number, optionalParam: number = 0): void {\r\n        if (itemType == ItemTypeEnum.BUILD_TYPE) {\r\n            const buildCfg = gm.data.config_data.getBuildCfgByID(itemID);\r\n            if (buildCfg) {\r\n                this.buildData[buildCfg.buildType].cellID = newCellID;\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (0 != itemID) {\r\n            const configID = 999 == cellID ? optionalParam : cellID;\r\n            const type = 30000 < itemID ? ItemTypeEnum.HERO_TYPE : ItemTypeEnum.ITEM_TYPE;\r\n            if (itemType == ItemTypeEnum.ITEM_TYPE) {\r\n                if (type == ItemTypeEnum.ITEM_TYPE) {\r\n                    const itemConfig = gm.data.config_data.getItemCfgByID(this.role_map_data[configID].itemID);\r\n                    if (itemConfig) {\r\n                        const itemData = this.itemData[itemConfig.type];\r\n                        if (itemData) {\r\n                            for (let index = 0; index < itemData.length; index++) {\r\n                                if (itemData[index].cellID == cellID) {\r\n                                    if (gm.data.config_data.getItemCfgByID(itemID).type == itemConfig.type) {\r\n                                        itemData[index].cellID = newCellID;\r\n                                        itemData[index].itemID = itemID;\r\n                                    } else {\r\n                                        itemData.splice(index, 1);\r\n                                        this.addRoleItem(itemID, newCellID);\r\n                                    }\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                } else if (type == ItemTypeEnum.HERO_TYPE) {\r\n                    const itemConfig = gm.data.config_data.getItemCfgByID(this.role_map_data[configID].itemID);\r\n                    if (itemConfig) {\r\n                        const itemData = this.itemData[itemConfig.type];\r\n                        if (itemData) {\r\n                            for (let index = 0; index < itemData.length; index++) {\r\n                                if (itemData[index].cellID == cellID) {\r\n                                    itemData.splice(index, 1);\r\n                                    this.addRoleItem(itemID, newCellID);\r\n                                    break\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                } else if (type == ItemTypeEnum.BUILD_TYPE) {\r\n                    const itemConfig = gm.data.config_data.getItemCfgByID(this.role_map_data[configID].itemID);\r\n                    if (itemConfig) {\r\n                        const itemData = this.itemData[itemConfig.type];\r\n                        if (itemData) {\r\n                            for (let index = 0; index < itemData.length; index++) {\r\n                                if (itemData[index].cellID == cellID) {\r\n                                    itemData[index].cellID = newCellID;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            } else if (itemType == ItemTypeEnum.HERO_TYPE) {\r\n                if (type == ItemTypeEnum.ITEM_TYPE) {\r\n                    const heroConfig = gm.data.config_data.getHeroCfgByID(this.role_map_data[configID].itemID);\r\n                    if (heroConfig) {\r\n                        const heroData = this.heroData[heroConfig.occupation];\r\n                        if (heroData) {\r\n                            for (let index = 0; index < heroData.length; index++) {\r\n                                if (heroData[index].cellID == cellID) {\r\n                                    heroData.splice(index, 1), this.addRoleItem(itemID, newCellID);\r\n                                    break\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                } else if (type == ItemTypeEnum.HERO_TYPE) {\r\n                    const heroConfig = gm.data.config_data.getHeroCfgByID(this.role_map_data[configID].itemID);\r\n                    if (heroConfig) {\r\n                        const heroData = this.heroData[heroConfig.occupation];\r\n                        if (heroData) {\r\n                            for (let index = 0; index < heroData.length; index++) {\r\n                                if (heroData[index].cellID == cellID) {\r\n                                    if (gm.data.config_data.getHeroCfgByID(itemID).occupation == heroConfig.occupation) {\r\n                                        heroData[index].cellID = newCellID;\r\n                                        heroData[index].itemID = itemID;\r\n                                    } else {\r\n                                        heroData.splice(index, 1);\r\n                                        this.addRoleItem(itemID, newCellID);\r\n                                    }\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                } else if (type == ItemTypeEnum.BUILD_TYPE) {\r\n                    const heroConfig = gm.data.config_data.getHeroCfgByID(this.role_map_data[configID].itemID);\r\n                    if (heroConfig) {\r\n                        const heroData = this.heroData[heroConfig.occupation]\r\n                        if (heroData) {\r\n                            for (let index = 0; index < heroData.length; index++) {\r\n                                if (heroData[index].cellID == cellID) {\r\n                                    heroData[index].cellID = newCellID;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private addBarracksIDToList(t: number): void {\r\n        this.barracks_unlock_id_list[t] = 2;\r\n    }\r\n\r\n    private checkHeroIDIsUnLock(t: number): number {\r\n        for (let e = 0; e < this.barracks_unlock_data.length; e++) {\r\n            if (this.barracks_unlock_data[e].heroId == t) {\r\n                return gm.data.mapCell_data.barracks_unlock_data[e].state;\r\n            }\r\n        }\r\n        return 2;\r\n    }\r\n\r\n    private changeSingleSuperHeroCellID(t: number, e: number, a: number): void {\r\n        if (30000 < t) {\r\n            const i = gm.data.config_data.getHeroCfgByID(t);\r\n            if (i && i.hero_type == HeroTypeEnum.SUPER_HERO_TYPE) {\r\n                for (let o = 0; o < this.superHeroData.length; o++) {\r\n                    if (this.superHeroData[o].heroid == t && this.superHeroData[o].cellID == e) {\r\n                        this.superHeroData[o].cellID = a;\r\n                        break\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public delSingleSuperHeroCellID(t: number, e: number): void {\r\n        if (30000 < t) {\r\n            const a = gm.data.config_data.getHeroCfgByID(t);\r\n            if (a && a.hero_type === HeroTypeEnum.SUPER_HERO_TYPE) {\r\n                for (let i = 0; i < this.superHeroData.length; i++) {\r\n                    if (this.superHeroData[i].heroid === t && this.superHeroData[i].cellID === e) {\r\n                        this.superHeroData.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public changeCellData(t: number, e: number) {\r\n        if (0 != this.role_map_data[t].itemID && 186 != e) {\r\n            if (395 != e && 313 != e) {\r\n                if (0 == this.role_map_data[e].itemID) {\r\n                    if (this.role_map_data[t].itemType == ItemTypeEnum.BUILD_TYPE) {\r\n                        const buildCfg = gm.data.config_data.getBuildCfgByID(this.role_map_data[t].itemID);\r\n                        if (buildCfg) {\r\n                            this.buildData[buildCfg.buildType].cellID = e;\r\n                        }\r\n\r\n                    } else {\r\n                        this.changeCellID(this.role_map_data[t].itemType, t, e);\r\n                    }\r\n\r\n                    this.changeSingleSuperHeroCellID(this.role_map_data[t].itemID, t, e);\r\n                    this.changeDefenseHeroUIDCell(this.role_map_data[t].heroUID, e);\r\n                    this.changeMapItemDataByID(e, this.role_map_data[t].itemType, this.role_map_data[t].itemID, this.role_map_data[t].heroUID, false);\r\n                    this.changeMapItemDataByID(t, 0, 0, 0, false);\r\n\r\n                    for (let index = 0; index < this.roleSpaceList.length; index++) {\r\n                        if (e == this.roleSpaceList[index]) {\r\n                            this.roleSpaceList.splice(index, 1);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    this.checkEmitWallEvent(this.role_map_data[e].itemID, t, e);\r\n                    this.addRoleSpaceCellByID(t);\r\n                    gm.audio.play_effect(gm.const.AUDIO_160_CHANGEPOS);\r\n                    this.async_write_data();\r\n                    return;\r\n                }\r\n\r\n                if (this.role_map_data[e].itemType != ItemTypeEnum.BUILD_TYPE || this.role_map_data[t].itemType != ItemTypeEnum.HERO_TYPE) {\r\n                    if (this.role_map_data[e].itemType != ItemTypeEnum.BUILD_TYPE || this.role_map_data[t].itemType != ItemTypeEnum.ITEM_TYPE) {\r\n                        if (this.role_map_data[e].itemType == ItemTypeEnum.HERO_TYPE && this.role_map_data[t].itemType == ItemTypeEnum.ITEM_TYPE) {\r\n                            const heroCfg = gm.data.config_data.getHeroCfgByID(this.role_map_data[e].itemID) as HeroConfig;\r\n                            if (!heroCfg) return;\r\n                            for (let index = 0; index < heroCfg.nextNeedItem.length; index++) {\r\n                                if (0 < heroCfg.nextNeedItem[index] && heroCfg.nextNeedItem[index] == this.role_map_data[t].itemID) {\r\n                                    const heroID = this.checkHeroIDIsUnLock(heroCfg.nextLv[index]);\r\n                                    if (this.barracks_unlock_id_list[heroCfg.nextNeedSort[index]] <= 0 || !this.barracks_unlock_id_list[heroCfg.nextNeedSort[index]]) {\r\n                                        gm.ui.show_notice(\"Nâng cấp doanh trại và kích hoạt cuộn giấy để tổng hợp anh hùng\");\r\n                                        return;\r\n                                    }\r\n                                    this.checkIsPlayItemSound(heroID);\r\n\r\n                                    for (let i = 0; i < this.heroData[heroCfg.occupation].length; i++) {\r\n                                        if (this.heroData[heroCfg.occupation][i].cellID == e) {\r\n                                            this.heroData[heroCfg.occupation].splice(i, 1);\r\n                                            this.addRoleItem(heroCfg.nextLv[index], e);\r\n                                            break;\r\n                                        }\r\n                                    }\r\n\r\n                                    const heroIS = this.getHeroIsDefanseByCellID(this.role_map_data[e].cellID);\r\n                                    this.delDefenseDataByID(this.role_map_data[e].heroUID);\r\n                                    this.delRoleItem(this.role_map_data[t].itemID, t);\r\n                                    this.changeMapItemDataByID(e, ItemTypeEnum.HERO_TYPE, heroCfg.nextLv[index]);\r\n\r\n                                    if (heroIS) {\r\n                                        const defenseHeroItemVO = new DefenseHeroItemVO;\r\n                                        defenseHeroItemVO.cellID = e;\r\n                                        defenseHeroItemVO.heroUID = this.role_map_data[e].heroUID;\r\n                                        defenseHeroItemVO.heroid = this.role_map_data[e].itemID;\r\n                                        this.addDefenseDataByID(defenseHeroItemVO);\r\n                                    }\r\n\r\n                                    this.unlockBookItem(ItemTypeEnum.HERO_TYPE, heroCfg.nextLv[index]);\r\n                                    gm.data.task_data.update_task_progress(TaskConditionType.MERGE_HERO);\r\n                                    gm.data.task_data.update_task_progress(TaskConditionType.MERGE);\r\n                                    this.saveAddCompseTimes();\r\n\r\n                                    if (1 == heroID) {\r\n                                        this.compositeUnlockHero(heroCfg.nextLv[index]);\r\n                                        gm.ui.mapMainUI.showHeroUnlockAni(heroCfg.nextLv[index]);\r\n                                    }\r\n\r\n                                    this.async_write_data();\r\n                                    this.checkEmitWallEvent(this.role_map_data[e].itemID, t, e);\r\n                                    void gm.ui.mapMainUI.playComposeAnim(e);\r\n                                    return;\r\n                                }\r\n                            }\r\n                        }\r\n                        if (this.role_map_data[t].itemType == ItemTypeEnum.HERO_TYPE && this.role_map_data[e].itemType == ItemTypeEnum.ITEM_TYPE) {\r\n                            const heroCfg = gm.data.config_data.getHeroCfgByID(this.role_map_data[t].itemID);\r\n                            if (!heroCfg) return;\r\n\r\n                            for (let index = 0; index < heroCfg.nextNeedItem.length; index++) {\r\n                                if (0 < heroCfg.nextNeedItem[index] && heroCfg.nextNeedItem[index] == this.role_map_data[e].itemID) {\r\n                                    const heroIS = this.checkHeroIDIsUnLock(heroCfg.nextLv[index]);\r\n                                    if (this.barracks_unlock_id_list[heroCfg.nextNeedSort[index]] <= 0 || !this.barracks_unlock_id_list[heroCfg.nextNeedSort[index]]) {\r\n                                        gm.ui.show_notice(\"Cần nâng cấp cấp doanh trại và kích hoạt cuộn giấy để tổng hợp\");\r\n                                        return;\r\n                                    } else {\r\n                                        this.checkIsPlayItemSound(heroIS);\r\n                                        const HeroIsDefanseByCellID = this.getHeroIsDefanseByCellID(this.role_map_data[t].cellID);\r\n                                        this.delRoleItem(this.role_map_data[t].itemID, t);\r\n                                        this.delRoleItem(this.role_map_data[e].itemID, e);\r\n                                        this.delDefenseDataByID(this.role_map_data[t].heroUID);\r\n                                        this.changeMapItemDataByID(e, ItemTypeEnum.HERO_TYPE, heroCfg.nextLv[index]);\r\n                                        this.changeMapItemDataByID(t, 0, 0);\r\n                                        this.addRoleItem(heroCfg.nextLv[index], e);\r\n\r\n                                        if (HeroIsDefanseByCellID) {\r\n                                            const defenseHeroItemVO = new DefenseHeroItemVO;\r\n                                            defenseHeroItemVO.cellID = e;\r\n                                            defenseHeroItemVO.heroUID = this.role_map_data[e].heroUID;\r\n                                            defenseHeroItemVO.heroid = this.role_map_data[e].itemID;\r\n                                            this.addDefenseDataByID(defenseHeroItemVO);\r\n                                        }\r\n\r\n                                        this.saveAddCompseTimes();\r\n                                        if (1 == heroIS) {\r\n                                            this.compositeUnlockHero(heroCfg.nextLv[index]);\r\n                                        }\r\n\r\n                                        this.unlockBookItem(ItemTypeEnum.HERO_TYPE, heroCfg.nextLv[index]);\r\n                                        gm.data.task_data.update_task_progress(TaskConditionType.MERGE_HERO);\r\n                                        gm.data.task_data.update_task_progress(TaskConditionType.MERGE);\r\n                                        this.async_write_data();\r\n                                        this.checkEmitWallEvent(this.role_map_data[e].itemID, t, e);\r\n                                        gm.ui.mapMainUI.playComposeAnim(e);\r\n\r\n                                        if (1 == heroIS) {\r\n                                            this.compositeUnlockHero(heroCfg.nextLv[index]);\r\n                                            gm.ui.mapMainUI.showHeroUnlockAni(heroCfg.nextLv[index]);\r\n                                        }\r\n\r\n                                        return;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        if (this.role_map_data[e].itemType == ItemTypeEnum.HERO_TYPE && ItemTypeEnum.HERO_TYPE == this.role_map_data[t].itemType) {\r\n                            const heroCfg = gm.data.config_data.getHeroCfgByID(this.role_map_data[t].itemID);\r\n                            if (!heroCfg) return;\r\n                            const HeroCfgByID = gm.data.config_data.getHeroCfgByID(this.role_map_data[e].itemID)\r\n                            if (!HeroCfgByID) return;\r\n                            if (1 == this.role_compose_total_times) {\r\n                                gm.ui.show_notice(\"Bạn cần hoàn thành phần vũ khí và hướng dẫn dân làng!\");\r\n                                return;\r\n                            }\r\n\r\n                            if (heroCfg.heroid == HeroCfgByID.heroid) {\r\n                                if (0 == heroCfg.occupation) {\r\n                                    gm.ui.show_notice(\"Dân làng cần tổng hợp vũ khí!!!\");\r\n                                    return;\r\n                                }\r\n\r\n                                if (11 == heroCfg.occupation || 12 == heroCfg.occupation || 1 == heroCfg.hero_type) {\r\n                                    if (0 == heroCfg.nextLv[0]) {\r\n                                        gm.ui.show_notice(\"Đã đạt đến cấp độ cao nhất!!!\");\r\n                                        return;\r\n                                    }\r\n                                } else if (3 == heroCfg.lv) {\r\n                                    gm.ui.show_notice(\"Đã đạt đến cấp độ cao nhất!!!\");\r\n                                    return;\r\n                                }\r\n\r\n                                if (HeroCfgByID.occupation == heroCfg.occupation && 0 < heroCfg.nextNeedItem[0]) {\r\n                                    for (let y = 0; y < heroCfg.nextNeedItem.length; y++) {\r\n                                        if (heroCfg.nextNeedItem[y] == HeroCfgByID.heroid && this.checkHeroIDIsUnLock(HeroCfgByID.nextLv[y])) {\r\n                                            if (HeroCfgByID.hero_type == HeroTypeEnum.SUPER_HERO_TYPE) {\r\n                                                let n = 0;\r\n                                                for (let r = 0; r < this.superHeroData.length; r++) {\r\n                                                    if (this.superHeroData[r].heroid == heroCfg.heroid &&\r\n                                                        this.superHeroData[r].cellID == t &&\r\n                                                        0 == this.superHeroData[r].heroState ||\r\n                                                        this.superHeroData[r].heroid == heroCfg.heroid &&\r\n                                                        this.superHeroData[r].cellID == e &&\r\n                                                        0 == this.superHeroData[r].heroState) {\r\n                                                        n++;\r\n                                                    }\r\n                                                }\r\n\r\n                                                if (n < 2) {\r\n                                                    gm.ui.show_notice(\"Siêu anh hùng không thể tổng hợp trong quá trình hồi sinh\");\r\n                                                    return;\r\n                                                }\r\n\r\n                                                for (let r = 0; r < this.superHeroData.length; r++) {\r\n                                                    if (this.superHeroData[r].heroid == heroCfg.heroid && this.superHeroData[r].cellID == e) {\r\n                                                        this.superHeroData[r].heroid = HeroCfgByID.nextLv[y];\r\n                                                        const heroCfg = gm.data.config_data.getHeroCfgByID(HeroCfgByID.nextLv[y]);\r\n                                                        if (heroCfg) {\r\n                                                            this.superHeroData[r].hp = heroCfg.hp;\r\n                                                            this.superHeroData[r].maxHp = heroCfg.hp;\r\n                                                            this.superHeroData[r].curReliveTime = 0;\r\n                                                            this.superHeroData[r].nextReliveTime = 0;\r\n                                                        }\r\n                                                        break;\r\n                                                    }\r\n                                                }\r\n\r\n                                                for (let r = 0; r < this.superHeroData.length; r++) {\r\n                                                    if (this.superHeroData[r].heroid == heroCfg.heroid && this.superHeroData[r].cellID == t) {\r\n                                                        this.superHeroData.splice(r, 1);\r\n                                                        break;\r\n                                                    }\r\n                                                }\r\n                                            }\r\n\r\n                                            const heroIDI = this.checkHeroIDIsUnLock(HeroCfgByID.nextLv[y]);\r\n                                            this.checkIsPlayItemSound(heroIDI);\r\n                                            const heroIS = this.getHeroIsDefanseByCellID(this.role_map_data[t].cellID);\r\n                                            if (!heroIS) {\r\n                                                this.getHeroIsDefanseByCellID(this.role_map_data[e].cellID);\r\n                                            }\r\n\r\n                                            for (i = 0; i < this.heroData[heroCfg.occupation].length; i++) {\r\n                                                if (this.heroData[heroCfg.occupation][i].cellID == e) {\r\n                                                    this.heroData[heroCfg.occupation][i].itemID = HeroCfgByID.nextLv[y];\r\n                                                    break;\r\n                                                }\r\n                                            }\r\n\r\n                                            this.delRoleItem(this.role_map_data[t].itemID, t);\r\n                                            this.delDefenseDataByID(this.role_map_data[e].heroUID);\r\n                                            this.changeMapItemDataByID(e, ItemTypeEnum.HERO_TYPE, HeroCfgByID.nextLv[y]);\r\n\r\n                                            if (heroIS) {\r\n                                                const defenseHeroItemVO = new DefenseHeroItemVO;\r\n                                                defenseHeroItemVO.cellID = e;\r\n                                                defenseHeroItemVO.heroUID = this.role_map_data[e].heroUID;\r\n                                                defenseHeroItemVO.heroid = this.role_map_data[e].itemID;\r\n                                                this.addDefenseDataByID(defenseHeroItemVO);\r\n                                            }\r\n\r\n                                            this.saveAddCompseTimes();\r\n                                            if (1 == heroIDI) {\r\n                                                this.compositeUnlockHero(HeroCfgByID.nextLv[y]);\r\n                                                gm.ui.mapMainUI.showHeroUnlockAni(HeroCfgByID.nextLv[y]);\r\n                                            }\r\n\r\n                                            this.unlockBookItem(ItemTypeEnum.HERO_TYPE, HeroCfgByID.nextLv[y]);\r\n                                            gm.data.task_data.update_task_progress(TaskConditionType.MERGE_HERO);\r\n                                            gm.data.task_data.update_task_progress(TaskConditionType.MERGE);\r\n                                            this.async_write_data();\r\n                                            gm.ui.mapMainUI.playComposeAnim(e);\r\n\r\n                                            if (!(heroCfg.hero_type != HeroTypeEnum.SUPER_HERO_TYPE && 11 != heroCfg.occupation && 12 != heroCfg.occupation)) {\r\n                                                gm.ui.set_module_args(gm.const.SUPERHEROOP.key, [HeroCfgByID.nextLv[y], e]);\r\n                                                gm.ui.async_show_module(gm.const.SUPERHEROOP);\r\n                                            }\r\n                                            return;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        if (this.role_map_data[e].itemType == ItemTypeEnum.ITEM_TYPE && ItemTypeEnum.ITEM_TYPE == this.role_map_data[t].itemType) {\r\n                            const itemCfg = gm.data.config_data.getItemCfgByID(this.role_map_data[t].itemID);\r\n                            if (!itemCfg) return;\r\n                            const itemCfgID = gm.data.config_data.getItemCfgByID(this.role_map_data[e].itemID);\r\n                            if (!itemCfgID) return;\r\n\r\n                            if (itemCfgID.type == PropTypeEnum.WEAPON_TYPE && itemCfg.id == itemCfgID.id) {\r\n                                gm.ui.show_notice(\"Vũ khí cần phải kết hợp với dân làng để trở thành anh hùng\");\r\n                                return;\r\n                            }\r\n\r\n                            if (0 == itemCfg.next && itemCfg.id == itemCfgID.id) {\r\n                                gm.ui.show_notice(\"Đã đạt đến cấp độ cao nhất!\");\r\n                                return;\r\n                            }\r\n\r\n                            if (itemCfgID.type == itemCfg.type && 0 < itemCfg.next && itemCfg.id == itemCfgID.id) {\r\n                                for (i = 0; i < this.itemData[itemCfg.type].length; i++) {\r\n                                    if (this.itemData[itemCfg.type][i].cellID == e) {\r\n                                        this.itemData[itemCfg.type][i].itemID = itemCfgID.next;\r\n                                        break;\r\n                                    }\r\n                                }\r\n\r\n                                this.delRoleItem(this.role_map_data[t].itemID, t);\r\n                                this.changeMapItemDataByID(e, ItemTypeEnum.ITEM_TYPE, itemCfgID.next);\r\n\r\n                                if (itemCfgID.next == gm.const.HEROGIFTID) {\r\n                                    gm.channel.report_event(\"merge_box\", {\r\n                                        event_desc: \"合成盲盒\",\r\n                                        desc: \"合成盲盒超级英雄\",\r\n                                        item_id: itemCfgID.next\r\n                                    });\r\n                                    ReportData.instance.report_once_point(10871);\r\n                                    ReportData.instance.report_point(10872);\r\n\r\n                                } else if (itemCfgID.next == gm.const.GIFTID) {\r\n                                    gm.channel.report_event(\"merge_box\", {\r\n                                        event_desc: \"合成盲盒\",\r\n                                        desc: \"合成盲盒水精灵\",\r\n                                        item_id: itemCfgID.next\r\n                                    });\r\n                                    ReportData.instance.report_once_point(10875);\r\n                                    ReportData.instance.report_point(10876);\r\n\r\n                                } else if (itemCfgID.next == gm.const.PAGODAGIFTID) {\r\n                                    gm.channel.report_event(\"merge_box\", {\r\n                                        event_desc: \"合成盲盒\",\r\n                                        desc: \"合成盲盒炮塔\",\r\n                                        item_id: itemCfgID.next\r\n                                    });\r\n                                    ReportData.instance.report_once_point(10873);\r\n                                    ReportData.instance.report_point(10874);\r\n                                }\r\n\r\n                                this.saveAddCompseTimes();\r\n                                this.unlockBookItem(ItemTypeEnum.ITEM_TYPE, itemCfgID.next);\r\n                                gm.data.task_data.update_task_progress(TaskConditionType.MERGE);\r\n                                this.async_write_data();\r\n\r\n                                if (12 <= itemCfgID.type && itemCfgID.type <= 14 || 19 == itemCfgID.type) {\r\n                                    gm.ui.mapMainUI.showGiftBar(itemCfgID.next, e);\r\n                                }\r\n                                gm.ui.mapMainUI.playComposeAnim(e);\r\n                                return;\r\n                            }\r\n                        }\r\n\r\n                        const itemID = this.role_map_data[e].itemID;\r\n                        const itemType = this.role_map_data[e].itemType;\r\n                        const heroUID = this.role_map_data[e].heroUID;\r\n\r\n                        if (this.role_map_data[t].itemType == ItemTypeEnum.BUILD_TYPE) {\r\n                            if (this.role_map_data[e].itemType == ItemTypeEnum.BUILD_TYPE) {\r\n                                const buildCfg = gm.data.config_data.getBuildCfgByID(this.role_map_data[t].itemID);\r\n                                if (!buildCfg) return;\r\n                                const buildCfg1 = gm.data.config_data.getBuildCfgByID(this.role_map_data[e].itemID);\r\n                                if (!buildCfg1) return;\r\n\r\n                                if (buildCfg.buildType == BuildTypeEnum.SEAGOINGBOAT_TYPE || buildCfg.buildType == BuildTypeEnum.WHARFTAX_TYPE) return;\r\n                                if (buildCfg1.buildType == BuildTypeEnum.SEAGOINGBOAT_TYPE || buildCfg1.buildType == BuildTypeEnum.WHARFTAX_TYPE) return;\r\n                                if (this.buildData[buildCfg.buildType].buildLvl <= 0) return;\r\n                                if (this.buildData[buildCfg1.buildType].buildLvl <= 0) return;\r\n                                this.buildData[buildCfg.buildType].cellID = e;\r\n                                this.buildData[buildCfg1.buildType].cellID = t;\r\n\r\n                            } else {\r\n                                const buildCfg = gm.data.config_data.getBuildCfgByID(this.role_map_data[t].itemID);\r\n                                if (!buildCfg) return;\r\n                                if (this.buildData[buildCfg.buildType].buildLvl <= 0) return;\r\n                                this.buildData[buildCfg.buildType].cellID = e;\r\n                                this.changeCellID(this.role_map_data[e].itemType, e, t);\r\n                                this.changeDefenseHeroUIDCell(this.role_map_data[e].heroUID, t);\r\n                                this.setSuperHeroNewCellID(this.role_map_data[t].itemID, this.role_map_data[t].heroUID, e);\r\n                            }\r\n                        } else {\r\n                            this.changeDefenseHeroUIDCell(this.role_map_data[t].heroUID, e);\r\n                            this.changeDefenseHeroUIDCell(this.role_map_data[e].heroUID, t);\r\n                            this.setItemCellIDAndItemID(this.role_map_data[t].itemType, t, 999, this.role_map_data[t].itemID);\r\n                            this.setItemCellIDAndItemID(this.role_map_data[e].itemType, e, e, this.role_map_data[t].itemID);\r\n                            this.setItemCellIDAndItemID(this.role_map_data[t].itemType, 999, t, this.role_map_data[e].itemID, t);\r\n                            this.changeSuperHeroCellID(this.role_map_data[t].itemType, this.role_map_data[t].itemID, t, itemType, itemID, e);\r\n                        }\r\n\r\n                        this.changeMapItemDataByID(e, this.role_map_data[t].itemType, this.role_map_data[t].itemID, this.role_map_data[t].heroUID, false);\r\n                        this.changeMapItemDataByID(t, itemType, itemID, heroUID, false);\r\n                        gm.audio.play_effect(gm.const.AUDIO_160_CHANGEPOS);\r\n                        this.async_write_data();\r\n\r\n                        if (this.role_map_data[t].itemType == ItemTypeEnum.HERO_TYPE) {\r\n                            const heroCfg = gm.data.config_data.getHeroCfgByID(this.role_map_data[t].itemID);\r\n                            if (heroCfg && 10 == heroCfg.occupation) {\r\n                                this.checkEmitWallEvent(this.role_map_data[t].itemID, t, e);\r\n                            } else {\r\n                                this.checkEmitWallEvent(this.role_map_data[e].itemID, t, e);\r\n                            }\r\n\r\n                        } else if (this.role_map_data[e].itemType == ItemTypeEnum.HERO_TYPE) {\r\n                            const heroCfg = gm.data.config_data.getHeroCfgByID(this.role_map_data[e].itemID);\r\n                            if (heroCfg && 10 == heroCfg.occupation) {\r\n                                this.checkEmitWallEvent(this.role_map_data[e].itemID, t, e);\r\n                            } else {\r\n                                this.checkEmitWallEvent(this.role_map_data[t].itemID, t, e);\r\n                            }\r\n                        }\r\n\r\n                    } else {\r\n                        const itemCfg = gm.data.config_data.getItemCfgByID(this.role_map_data[t].itemID);\r\n                        const buildCfg = gm.data.config_data.getBuildCfgByID(this.role_map_data[e].itemID);\r\n                        if (itemCfg && buildCfg) {\r\n                            if (buildCfg.lock == this.role_build_lock_num) {\r\n                                const buildData = this.buildData[buildCfg.buildType];\r\n                                if (buildData.metrailData[itemCfg.type] && buildData.metrailData[itemCfg.type].cur < buildData.metrailData[itemCfg.type].max) {\r\n                                    if (itemCfg.type == PropTypeEnum.WOOD_TYPE || itemCfg.type == PropTypeEnum.IRON_TYPE || itemCfg.type == PropTypeEnum.SHELL_MONEY_TYPE) {\r\n                                        if (buildData.metrailData[itemCfg.type].cur < buildData.metrailData[itemCfg.type].max) {\r\n                                            if (this.isGuide) {\r\n                                                if (!gm.ui.mapMainUI.roleGuideBuildUpgrade.active) {\r\n                                                    gm.ui.mapMainUI.showBuildUpgrade(buildCfg.buildID, e);\r\n                                                }\r\n\r\n                                                if (itemCfg.number >= buildData.metrailData[itemCfg.type].max - buildData.metrailData[itemCfg.type].cur) {\r\n                                                    TempData.setBuildGuideMertaril(buildCfg.buildID, itemCfg.id, itemCfg.type, t, itemCfg.number, buildData.metrailData[itemCfg.type].max - buildData.metrailData[itemCfg.type].cur);\r\n                                                    gm.ui.emit(\"build_metarail_change\", buildCfg.buildID);\r\n                                                    gm.ui.emit(\"guide_del_item\", t);\r\n                                                }\r\n                                                return;\r\n                                            }\r\n\r\n                                            if (itemCfg.number <= buildData.metrailData[itemCfg.type].max - buildData.metrailData[itemCfg.type].cur) {\r\n                                                buildData.metrailData[itemCfg.type].cur += itemCfg.number;\r\n                                            } else {\r\n                                                const metrailData = buildData.metrailData[itemCfg.type].max - buildData.metrailData[itemCfg.type].cur;\r\n                                                this.splitItemNum(metrailData, itemCfg.id);\r\n                                                buildData.metrailData[itemCfg.type].cur = buildData.metrailData[itemCfg.type].max;\r\n                                            }\r\n                                            this.delRoleItem(itemCfg.id, t);\r\n                                            gm.ui.emit(\"build_metarail_change\", buildCfg.buildID);\r\n                                        }\r\n\r\n                                    } else {\r\n                                        if (this.isGuide) {\r\n                                            if (!gm.ui.mapMainUI.roleGuideBuildUpgrade.active) {\r\n                                                gm.ui.mapMainUI.showBuildUpgrade(buildCfg.buildID, e);\r\n                                            }\r\n\r\n                                            if (itemCfg.id == buildData.metrailData[itemCfg.type].id) {\r\n                                                TempData.setBuildGuideMertaril(buildCfg.buildID, itemCfg.id, itemCfg.type, t, 1, 1);\r\n                                                gm.ui.emit(\"build_metarail_change\", buildCfg.buildID);\r\n                                                gm.ui.emit(\"guide_del_item\", t);\r\n                                            }\r\n                                            return;\r\n                                        }\r\n\r\n                                        if (itemCfg.id == buildData.metrailData[itemCfg.type].id) {\r\n                                            buildData.metrailData[itemCfg.type].cur = 1;\r\n                                            this.delRoleItem(itemCfg.id, t);\r\n                                            this._needRefreshCellList.push(t);\r\n                                            gm.ui.emit(\"build_metarail_change\", buildCfg.buildID);\r\n\r\n                                        } else if (itemCfg.id > buildData.metrailData[itemCfg.type].id) {\r\n                                            this.delRoleItem(itemCfg.id, t);\r\n                                            this._needRefreshCellList.push(t);\r\n                                            const Num: number[] = [];\r\n                                            for (let y = itemCfg.id - 1; y >= buildData.metrailData[itemCfg.type].id; y--) {\r\n                                                Num.push(y);\r\n                                                if (y == buildData.metrailData[itemCfg.type].id) {\r\n                                                    buildData.metrailData[itemCfg.type].cur += 1;\r\n                                                    break;\r\n                                                }\r\n                                            }\r\n                                            this.addWareHouseList(Num, 0);\r\n                                            gm.ui.emit(\"build_metarail_change\", buildCfg.buildID);\r\n                                        }\r\n                                    }\r\n                                }\r\n                                this.async_write_data();\r\n                            } else {\r\n                                gm.ui.show_notice(\"Hãy nâng cấp tòa nhà \" + gm.data.config_data.getSortBuildName() + \"trước!!!\");\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                if (this.role_map_data[t].itemType == ItemTypeEnum.ITEM_TYPE) {\r\n                    const itemCfg = gm.data.config_data.getItemCfgByID(this.role_map_data[t].itemID);\r\n                    if (!itemCfg) return;\r\n                    const buildCfg = gm.data.config_data.getBuildCfgByID(this.buildData[BuildTypeEnum.SEAGOINGBOAT_TYPE].buildID);\r\n                    if (!buildCfg) return;\r\n                    if (buildCfg.lock != this.role_build_lock_num) {\r\n                        gm.ui.show_notice(\"Hãy nâng cấp tòa nhà \" + gm.data.config_data.getSortBuildName() + \"trước!!!\");\r\n                        return;\r\n                    }\r\n\r\n                    const buildData = this.buildData[buildCfg.buildType];\r\n                    if (buildData.metrailData[itemCfg.type] && buildData.metrailData[itemCfg.type].cur < buildData.metrailData[itemCfg.type].max) {\r\n                        if (itemCfg.type == PropTypeEnum.WOOD_TYPE || itemCfg.type == PropTypeEnum.IRON_TYPE || itemCfg.type == PropTypeEnum.SHELL_MONEY_TYPE) {\r\n                            if (buildData.metrailData[itemCfg.type].cur < buildData.metrailData[itemCfg.type].max) {\r\n                                if (this.isGuide) {\r\n                                    if (itemCfg.number >= buildData.metrailData[itemCfg.type].max - buildData.metrailData[itemCfg.type].cur) {\r\n                                        if (!gm.ui.mapMainUI.roleGuideBuildUpgrade.active) {\r\n                                            gm.ui.mapMainUI.showBuildUpgrade(buildCfg.buildID, e);\r\n                                        }\r\n                                        TempData.setBuildGuideMertaril(buildCfg.buildID, itemCfg.id, itemCfg.type, t, itemCfg.number, buildData.metrailData[itemCfg.type].max - buildData.metrailData[itemCfg.type].cur);\r\n                                        gm.ui.emit(\"build_metarail_change\", buildCfg.buildID);\r\n                                        gm.ui.emit(\"guide_del_item\", t);\r\n                                    }\r\n                                    return;\r\n                                }\r\n\r\n                                if (itemCfg.number <= buildData.metrailData[itemCfg.type].max - buildData.metrailData[itemCfg.type].cur) {\r\n                                    buildData.metrailData[itemCfg.type].cur += itemCfg.number, this.delRoleItem(itemCfg.id, t);\r\n                                    gm.ui.emit(\"build_metarail_change\", buildCfg.buildID);\r\n                                    return;\r\n                                }\r\n\r\n                                const metrailData = buildData.metrailData[itemCfg.type].max - buildData.metrailData[itemCfg.type].cur;\r\n                                this.splitItemNum(metrailData, itemCfg.id);\r\n                                buildData.metrailData[itemCfg.type].cur = buildData.metrailData[itemCfg.type].max;\r\n                                this.delRoleItem(itemCfg.id, t);\r\n                                gm.ui.emit(\"build_metarail_change\", buildCfg.buildID);\r\n                                return;\r\n                            }\r\n\r\n                        } else {\r\n                            if (this.isGuide) {\r\n                                if (itemCfg.id == buildData.metrailData[itemCfg.type].id) {\r\n                                    if (!gm.ui.mapMainUI.roleGuideBuildUpgrade.active) {\r\n                                        gm.ui.mapMainUI.showBuildUpgrade(buildCfg.buildID, e);\r\n                                    }\r\n                                    TempData.setBuildGuideMertaril(buildCfg.buildID, itemCfg.id, itemCfg.type, t, 1, 1);\r\n                                    gm.ui.emit(\"build_metarail_change\", buildCfg.buildID);\r\n                                    gm.ui.emit(\"guide_del_item\", t);\r\n                                }\r\n                                return;\r\n                            }\r\n\r\n                            if (itemCfg.id == buildData.metrailData[itemCfg.type].id) {\r\n                                buildData.metrailData[itemCfg.type].cur = 1;\r\n                                this.delRoleItem(itemCfg.id, t);\r\n                                this._needRefreshCellList.push(t);\r\n                                void gm.ui.emit(\"build_metarail_change\", buildCfg.buildID);\r\n                                return;\r\n                            }\r\n\r\n                            if (itemCfg.id > buildData.metrailData[itemCfg.type].id) {\r\n                                this.delRoleItem(itemCfg.id, t), this._needRefreshCellList.push(t);\r\n                                const Num: number[] = []\r\n                                for (let y = itemCfg.id - 1; y >= buildData.metrailData[itemCfg.type].id; y--) {\r\n                                    Num.push(y);\r\n                                    if (y == buildData.metrailData[itemCfg.type].id) {\r\n                                        (buildData.metrailData[itemCfg.type].cur += 1);\r\n                                    }\r\n                                }\r\n\r\n                                this.addWareHouseList(Num, 0);\r\n                                gm.ui.emit(\"build_metarail_change\", buildCfg.buildID);\r\n                                return;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this.async_write_data();\r\n            }\r\n        }\r\n    }\r\n\r\n    private changeSuperHeroCellID(\r\n        t: ItemTypeEnum,\r\n        e: number,\r\n        a: number,\r\n        i: ItemTypeEnum,\r\n        o: number,\r\n        n: number\r\n    ): void {\r\n        if (t == ItemTypeEnum.HERO_TYPE && i != ItemTypeEnum.HERO_TYPE) {\r\n            const heroConfig = gm.data.config_data.getHeroCfgByID(e);\r\n            if (heroConfig && heroConfig.hero_type == HeroTypeEnum.SUPER_HERO_TYPE) {\r\n                this.setSuperHeroNewCellID(e, a, n);\r\n            }\r\n\r\n        } else if (t != ItemTypeEnum.HERO_TYPE && i == ItemTypeEnum.HERO_TYPE) {\r\n            const heroConfig = gm.data.config_data.getHeroCfgByID(o);\r\n            if (heroConfig && heroConfig.hero_type == HeroTypeEnum.SUPER_HERO_TYPE) {\r\n                this.setSuperHeroNewCellID(o, n, a);\r\n            }\r\n\r\n        } else if (t == ItemTypeEnum.HERO_TYPE && i == ItemTypeEnum.HERO_TYPE) {\r\n            const heroConfig1 = gm.data.config_data.getHeroCfgByID(e);\r\n            const heroConfig2 = gm.data.config_data.getHeroCfgByID(o);\r\n            if (heroConfig1 && heroConfig2) {\r\n                if (heroConfig1.hero_type != HeroTypeEnum.SUPER_HERO_TYPE || heroConfig2.hero_type == HeroTypeEnum.SUPER_HERO_TYPE) {\r\n                    if (heroConfig1.hero_type == HeroTypeEnum.SUPER_HERO_TYPE || heroConfig2.hero_type != HeroTypeEnum.SUPER_HERO_TYPE) {\r\n                        if (heroConfig1.hero_type == HeroTypeEnum.SUPER_HERO_TYPE && heroConfig2.hero_type == HeroTypeEnum.SUPER_HERO_TYPE) {\r\n                            this.setSuperHeroNewCellID(e, a, 999);\r\n                            this.setSuperHeroNewCellID(o, n, a);\r\n                            this.setSuperHeroNewCellID(e, 999, n);\r\n                        }\r\n                        return;\r\n                    }\r\n                    this.setSuperHeroNewCellID(o, n, a)\r\n\r\n                } else {\r\n                    this.setSuperHeroNewCellID(e, a, n);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private setSuperHeroNewCellID(t: number, e: number, a: number): void {\r\n        for (let i = 0; i < this.superHeroData.length; i++) {\r\n            if (this.superHeroData[i].cellID == e && this.superHeroData[i].heroid == t) {\r\n                this.superHeroData[i].cellID = a;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private checkEmitWallEvent(t: number, e: number, a: number): void {\r\n        if (30000 < t) {\r\n            const heroConfig = gm.data.config_data.getHeroCfgByID(t);\r\n            if (heroConfig && 10 == heroConfig.occupation) {\r\n                const calldire = gm.data.config_data.getCallDireCellID(e);\r\n                for (let o = 0; o < calldire.length; o++) {\r\n                    if (0 <= calldire[o] && this.getCellIsWall(calldire[o])) {\r\n                        gm.ui.emit(\"updateWall\", calldire[o]);\r\n                    }\r\n                }\r\n\r\n                if (e != a) {\r\n                    const calldire = gm.data.config_data.getCallDireCellID(a);\r\n                    for (let o = 0; o < calldire.length; o++) {\r\n                        if (0 <= calldire[o] && this.getCellIsWall(calldire[o])) {\r\n                            gm.ui.emit(\"updateWall\", calldire[o]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public setAddGameCoin(t: number, e: number): void {\r\n        if (t == SetItemNumEnum.ADD_ITEM_TYPE) {\r\n            this.roleCoinData.coinNum += e;\r\n        } else if (t == SetItemNumEnum.REDUCE_ITEM_TYPE) {\r\n            this.roleCoinData.coinNum -= e;\r\n            this.roleCoinData.coinNum = Math.max(0, this.roleCoinData.coinNum);\r\n        }\r\n\r\n        gm.ui.emit(\"coin_change\");\r\n        this.async_write_data();\r\n    }\r\n\r\n    public setAddGameDiamond(t: number, e: number): void {\r\n        if (t == SetItemNumEnum.ADD_ITEM_TYPE) {\r\n            this.roleCoinData.diamondNum += e;\r\n        } else if (t == SetItemNumEnum.REDUCE_ITEM_TYPE) {\r\n            this.roleCoinData.diamondNum -= e;\r\n            this.roleCoinData.diamondNum = Math.max(0, this.roleCoinData.diamondNum);\r\n        }\r\n        gm.ui.emit(\"coin_change\");\r\n        this.async_write_data();\r\n    }\r\n\r\n    public delCellItemByCellID(t: number): void {\r\n        if (this.role_map_data[t]) {\r\n            this.delRoleItem(this.role_map_data[t].itemID, t);\r\n            this.async_write_data();\r\n        }\r\n    }\r\n\r\n    public delCellItem(t: number, e: number): void {\r\n        const rowData = gm.config.get_row_data(\"ItemConfigData\", t.toString()) as ItemConfig;\r\n        if (rowData.type == PropTypeEnum.COIN_TYPE) {\r\n            this.setAddGameCoin(SetItemNumEnum.REDUCE_ITEM_TYPE, e);\r\n\r\n        } else if (rowData.type == PropTypeEnum.DIAMONDS_TYPE) {\r\n            this.setAddGameDiamond(SetItemNumEnum.REDUCE_ITEM_TYPE, e);\r\n        } else if (rowData.type == PropTypeEnum.WOOD_TYPE ||\r\n            rowData.type == PropTypeEnum.IRON_TYPE ||\r\n            rowData.type == PropTypeEnum.SHELL_MONEY_TYPE ||\r\n            rowData.type == PropTypeEnum.KEY_TYPE ||\r\n            rowData.type == PropTypeEnum.SHIPANCHORL_TYPE ||\r\n            rowData.type == PropTypeEnum.HORN_TYPE ||\r\n            rowData.type == PropTypeEnum.JAR_TYPE ||\r\n            rowData.type == PropTypeEnum.SOUL_TYPE) {\r\n            Utils.sort_by_props(this.itemData[rowData.type], {\r\n                itemID: \"descending\"\r\n            });\r\n\r\n            let count = 0;\r\n            for (let index = this.itemData[rowData.type].length - 1; 0 <= index; index--) {\r\n                let itemID = this.itemData[rowData.type][index].itemID;\r\n                const itemConfig = gm.data.config_data.getItemCfgByID(itemID);\r\n                if (!(count + itemConfig.number <= e)) {\r\n                    this._needRefreshCellList.push(this.itemData[rowData.type][index].cellID);\r\n                    itemID = e - count;\r\n                    if (gm.ui.mapMainUI) {\r\n                        const newR = gm.ui.mapMainUI.mapContent.getChildByName(this.itemData[rowData.type][index].cellID.toString());\r\n                        const newS = gm.ui.mapMainUI.mapContent.getChildByName(this.buildData[BuildTypeEnum.STALL_TYPE].cellID.toString());\r\n                        if (newR && newS) {\r\n                            const newN = newS.getComponent(MainMapItem);\r\n                            if (newN && newN.itemNode) {\r\n                                gm.ui.show_item_fly(\r\n                                    itemConfig.id,\r\n                                    newR.convertToWorldSpaceAR(cc.Vec3.ZERO),\r\n                                    newN.itemNode.convertToWorldSpaceAR(cc.Vec3.ZERO));\r\n                            }\r\n                        }\r\n                    }\r\n                    this.delCellItemByCellID(this.itemData[rowData.type][index].cellID);\r\n                    this.splitItemNum(itemConfig.number - itemID, itemConfig.id);\r\n                    break;\r\n                }\r\n\r\n                this._needRefreshCellList.push(this.itemData[rowData.type][index].cellID);\r\n                if (gm.ui.mapMainUI) {\r\n                    const newR = gm.ui.mapMainUI.mapContent.getChildByName(this.itemData[rowData.type][index].cellID.toString());\r\n                    const newS = gm.ui.mapMainUI.mapContent.getChildByName(this.buildData[BuildTypeEnum.STALL_TYPE].cellID.toString());\r\n                    if (newR && newS) {\r\n                        const newN = newS.getComponent(MainMapItem);\r\n                        if (newN && newN.itemNode) {\r\n                            gm.ui.show_item_fly(\r\n                                itemConfig.id,\r\n                                newR.convertToWorldSpaceAR(cc.Vec3.ZERO),\r\n                                newN.itemNode.convertToWorldSpaceAR(cc.Vec3.ZERO));\r\n                        }\r\n                    }\r\n                }\r\n                this.delCellItemByCellID(this.itemData[rowData.type][index].cellID);\r\n                count += itemConfig.number;\r\n            }\r\n            this.async_write_data();\r\n\r\n        } else if (rowData.type == PropTypeEnum.WEAPON_TYPE) {\r\n            const itemData = this.itemData[rowData.type];\r\n            Utils.sort_by_props(itemData, {\r\n                itemID: \"descending\"\r\n            });\r\n\r\n            let d, p = 0;\r\n            for (let o = itemData.length - 1; 0 <= o && !((d = itemData[o]).itemID == t && (this._needRefreshCellList.push(d.cellID), this.delCellItemByCellID(d.cellID), ++p >= e)); o--);\r\n            this.async_write_data();\r\n        }\r\n    }\r\n\r\n    public getCoinNum(t: number, e: number): boolean {\r\n        if (t == PropTypeEnum.WOOD_TYPE || t == PropTypeEnum.IRON_TYPE || t == PropTypeEnum.SHELL_MONEY_TYPE) {\r\n            return !!(this.itemData[t] && 0 < this.itemData[t].length);\r\n        }\r\n        if (this.itemData[t]) {\r\n            for (let a = 0; a < this.itemData[t].length; a++) {\r\n                if (this.itemData[t][a].itemID >= e) return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public getHeroNum(t: number, e: number): boolean {\r\n        if (this.heroData[t]) {\r\n            for (let a = 0; a < this.heroData[t].length; a++) {\r\n                if (this.heroData[t][a].itemID == e) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public async_write_data(...argArray: any[]): void {\r\n        this.last_timestamp = Math.floor(Date.now() / 1e3);\r\n        gm.data.event_emitter.emit(MapCellCfgData.EVENT_DATA_CHANGE);\r\n        super.async_write_data.call(this, argArray);\r\n    }\r\n\r\n    public getNextLockCell(): MapCell | null {\r\n        return gm.data.config_data.getAreaNextOpenCellID(this.role_cur_unlock_area_ID, this.role_cur_unlock_area_sort) || null\r\n    }\r\n\r\n    private checkBuildIsActive(t: number): void {\r\n        for (const key in this.buildData) {\r\n            if (0 == this.buildData[key].buildLvl && 1 == this.buildData[key].buildState) {\r\n                const buildCfg = gm.data.config_data.getBuildCfgByID(this.buildData[key].buildID);\r\n                if (buildCfg && buildCfg.activeCellID == t) {\r\n                    if (buildCfg.buildType == BuildTypeEnum.TOWER_TYPE) return;\r\n                    this.buildData[key].buildState = 2;\r\n                    gm.ui.emit(\"item_children_refresh\", this.buildData[key].cellID);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private saveAddCompseTimes(): void {\r\n        this.role_compose_times++;\r\n        this.role_compose_total_times++;\r\n        gm.ui.emit(\"item_compose_time_change\", this.role_compose_total_times);\r\n\r\n        const lockCell = this.getNextLockCell();\r\n        if (lockCell) {\r\n            if (this.role_compose_times >= lockCell.comTimes) {\r\n                this.role_compose_times = 0;\r\n                const mapCell = gm.data.config_data.getMapCellCfgByID(lockCell.cellID);\r\n                if (this.role_compose_times == mapCell.isObstruct) {\r\n                    const mapItemData = new MapItemDataVO;\r\n                    mapItemData.cellID = lockCell.cellID;\r\n                    mapItemData.cellState = 2;\r\n                    mapItemData.itemState = 2;\r\n                    mapItemData.itemID = mapCell.itemID;\r\n                    mapItemData.heroUID = 0;\r\n                    mapItemData.itemType = mapCell.itemType;\r\n                    this.role_map_data[mapItemData.cellID] = mapItemData;\r\n\r\n                    if (0 < this.role_map_data[mapItemData.cellID].itemID) {\r\n                        if (mapItemData.itemType == ItemTypeEnum.BUILD_TYPE) {\r\n                            this.addBuild(mapItemData.itemID, mapItemData.cellID);\r\n                        } else {\r\n                            this.addRoleItem(mapItemData.itemID, mapItemData.cellID);\r\n                        }\r\n                    } else {\r\n                        this.addRoleSpaceCellByID(mapItemData.cellID);\r\n                    }\r\n                }\r\n\r\n                this.addIndexToList(listTypeEnum.MAP_TOTAL_TYPE, lockCell.cellID);\r\n                this.addIndexToList(listTypeEnum.REPORT_CELL_TYPE, lockCell.cellID);\r\n                this.checkBuildIsActive(lockCell.cellID);\r\n                gm.ui.emit(\"item_unlock_refresh\", lockCell.cellID);\r\n                this.role_cur_unlock_area_sort += 1;\r\n                this.checkEmitWallEvent(mapCell.itemID, lockCell.cellID, lockCell.cellID);\r\n                this.async_write_data();\r\n\r\n                if (gm.const.funPosList[lockCell.cellID]) {\r\n                    gm.ui.mapMainUI.setLockSenceMoveMap(gm.const.funPosList[lockCell.cellID].toString())\r\n                }\r\n\r\n                ReportData.instance.report_once_point(5e4 + lockCell.cellID);\r\n                gm.channel.report_event(\"unlock_map_cell\", {\r\n                    event_desc: \"解锁地图格子\",\r\n                    cell_count: lockCell.cellID,\r\n                    desc: cc.js.formatStr(\"解锁地图格子%d\", lockCell.cellID)\r\n                });\r\n                gm.ui.emit(\"compostimeChange\");\r\n                gm.ui.emit(\"build_show_stateIcon\", true);\r\n            }\r\n\r\n        } else {\r\n            const unlockArea = this.role_cur_unlock_area_ID + 1;\r\n            for (let o = 0; o < this.roleUnlockAreaIDList.length; o++) {\r\n                if (unlockArea == this.roleUnlockAreaIDList[o]) {\r\n                    this.role_cur_unlock_area_ID = unlockArea;\r\n                    const areaID = gm.data.config_data.getAreaIDList(unlockArea);\r\n                    if (areaID) {\r\n                        for (const key in this.role_cur_unlock_area_sort = 0, areaID) {\r\n                            if (10000 == areaID[key].comTimes) {\r\n                                this.role_cur_unlock_area_sort++;\r\n                            }\r\n                        }\r\n                        this.role_compose_times = 0;\r\n                        this.async_write_data();\r\n                        gm.ui.mapMainUI.showNextCellNode();\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        gm.ui.emit(\"show_hand_anim\", false);\r\n        if (1 == this.role_compose_total_times) {\r\n            gm.channel.report_event(\"ohayoo_game_guide\", {\r\n                guideid: 5,\r\n                guidedesc: \"5.第1次合成1级鱼叉兵\"\r\n            });\r\n            gm.ui.mapMainUI.checkHandAnimDelay();\r\n\r\n        } else if (2 == this.role_compose_total_times) {\r\n            gm.channel.report_event(\"ohayoo_game_guide\", {\r\n                guideid: 6,\r\n                guidedesc: \"6.第2次合成1级鱼叉兵\"\r\n            });\r\n            gm.ui.mapMainUI.checkHandAnimDelay();\r\n\r\n        } else if (3 == this.role_compose_total_times) {\r\n            gm.channel.report_event(\"ohayoo_game_guide\", {\r\n                guideid: 7,\r\n                guidedesc: \"7.第1次合成2级鱼叉兵\"\r\n            });\r\n            gm.data.mapCell_data.setRoleGuideData(13, 0);\r\n            gm.ui.mapMainUI.checkGuideIsShow();\r\n\r\n        } else if (4 == this.role_compose_total_times) {\r\n            gm.channel.report_event(\"ohayoo_game_guide\", {\r\n                guideid: 19,\r\n                guidedesc: \"19.第1次合成4级木头\"\r\n            });\r\n            gm.ui.mapMainUI.checkHandAnimDelay();\r\n\r\n        } else if (5 == this.role_compose_total_times) {\r\n            gm.channel.report_event(\"ohayoo_game_guide\", {\r\n                guideid: 20,\r\n                guidedesc: \"20.第1次合成2级铁矿\"\r\n            });\r\n            gm.ui.mapMainUI.checkHandAnimDelay();\r\n        }\r\n    }\r\n\r\n    private unlockBookItem(t: number, e: number): void {\r\n        if (null != gm.config.get_config_data(\"BookConfigData\").data[e] as BookConfig) {\r\n            if (null == this.tUnlockData[t]) {\r\n                this.tUnlockData[t] = {} as number[];\r\n            }\r\n            if (null == this.tUnlockData[t][e]) {\r\n                const row = gm.config.get_row_data(\"BookConfigData\", e.toString()) as BookConfig;\r\n                this.tUnlockData[t][e] = row.reward <= 0 ? 1 : 0;\r\n                gm.ui.emit(\"bookRedStatus\", true);\r\n            }\r\n        }\r\n    }\r\n\r\n    public checkBookItemIsUnlock(t: number): boolean {\r\n        for (const key in this.tUnlockData) {\r\n            const unlock = this.tUnlockData[key]\r\n            if (null != unlock && null != unlock[t]) return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public checkBookItemHaveUnlockReward(t: number | null = null): boolean {\r\n        for (const key in this.tUnlockData) {\r\n            const unlock = this.tUnlockData[key];\r\n            if (null != unlock)\r\n                if (null != t) {\r\n                    if (null != unlock[t]) return 0 == unlock[t];\r\n                } else {\r\n                    for (const i in unlock) {\r\n                        if (0 == unlock[i]) return true;\r\n                    }\r\n                }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public setBookItemGainUnlockReward(t: number): void {\r\n        for (const key in this.tUnlockData) {\r\n            const unlock = this.tUnlockData[key]\r\n            if (null != unlock && null != unlock[t]) {\r\n                unlock[t] = 1;\r\n                break\r\n            }\r\n        }\r\n        this.async_write_data();\r\n    }\r\n\r\n    private get_unlock_hero_array(): number[] {\r\n        const t = this.tUnlockData[ItemTypeEnum.HERO_TYPE];\r\n        const e: number[] = [];\r\n        if (t) {\r\n            for (const a in t) {\r\n                e.push(parseInt(a));\r\n            }\r\n        }\r\n        return e;\r\n    }\r\n\r\n    private changeDefenseHeroUIDCell(t: number, e: number): void {\r\n        if (Object.keys(this._defenseList).length < 0 || this._defenseList[t]) {\r\n            this._defenseList[t].cellID = e;\r\n        }\r\n    }\r\n\r\n    public delDefenseDataByID(t: number): void {\r\n        if (!(Object.keys(this._defenseList).length < 0 || !this._defenseList[t])) {\r\n            const defense = this._defenseList[t].cellID;\r\n            delete this._defenseList[t];\r\n            gm.ui.emit(\"updateDefenseHero\", defense, false);\r\n            gm.data.update_player_data_request();\r\n        }\r\n    }\r\n\r\n    public addDefenseDataByID(t: DefenseHeroItemVO): void {\r\n        const buildData = this.getBuildDataByType(BuildTypeEnum.GARRISION_TYPE);\r\n        if (!(!buildData || buildData.buildLvl < 1)) {\r\n            this._defenseList[t.heroUID] = t;\r\n            gm.ui.emit(\"updateDefenseHero\", t.cellID, true);\r\n            gm.data.update_player_data_request();\r\n        }\r\n    }\r\n\r\n    private initDefanseData(): void {\r\n        const buildData = this.getBuildDataByType(BuildTypeEnum.GARRISION_TYPE);\r\n        if (buildData && !(buildData.buildLvl < 1)) {\r\n            TempData.getInitAllHeroList(true);\r\n            this.defense_List = {};\r\n\r\n            const heroList = TempData.getHeroList();\r\n            const buildCfg = gm.data.config_data.getBuildCfgByID(buildData.buildID);\r\n            if (buildCfg) {\r\n                let o = 0;\r\n                let count = 0;\r\n                for (let r = 0; r < buildCfg.capacity; r++) {\r\n                    if (o == buildCfg.capacity) return;\r\n                    if (heroList.length > r) {\r\n                        for (let s = 0; s < heroList[r].cellID.length; s++) {\r\n                            if (o == buildCfg.capacity) return;\r\n                            if (gm.data.config_data.getHeroCfgByID(heroList[r].heroID).hero_type == HeroTypeEnum.SUPER_HERO_TYPE) {\r\n                                if (1 == this.getDefenseSuperNum()) continue;\r\n                                0 == count && count++;\r\n                            }\r\n\r\n                            const defenseHeroItem = new DefenseHeroItemVO;\r\n                            defenseHeroItem.cellID = heroList[r].cellID[s];\r\n                            defenseHeroItem.heroid = heroList[r].heroID;\r\n                            defenseHeroItem.heroUID = heroList[r].heroUID[s];\r\n                            this._defenseList[heroList[r].heroUID[s]] = defenseHeroItem;\r\n                            o++;\r\n                        }\r\n                    }\r\n                }\r\n                for (const i in this._defenseList) {\r\n                    gm.ui.emit(\"updateDefenseHero\", this._defenseList[i].cellID, true);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public getDefanseHeroData(): Record<number, DefenseHeroItemVO> {\r\n        return this._defenseList;\r\n    }\r\n\r\n    public getDefenseSuperNum(): number {\r\n        let count = 0;\r\n        for (const ket in this._defenseList) {\r\n            if (gm.data.config_data.getHeroCfgByID(this._defenseList[ket].heroid).hero_type == HeroTypeEnum.SUPER_HERO_TYPE) {\r\n                count++;\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n\r\n    public getHeroIsDefanseByCellID(t: number): boolean {\r\n        return !(this.role_map_data[t] && 0 == this.role_map_data[t].heroUID || !(0 < Object.keys(this._defenseList).length && this.role_map_data[t] && this._defenseList[this.role_map_data[t].heroUID]))\r\n    }\r\n\r\n    public getHeroDefanseDataByHeroUID(t: number) {\r\n        return Object.keys(this._defenseList).length <= 0 ? null : this._defenseList[t]\r\n    }\r\n\r\n    public autoOpenCase(): boolean {\r\n        for (const t in this.role_map_data) {\r\n            if (this.role_map_data[t].itemID == RewardIdEnum.BARREL ||\r\n                this.role_map_data[t].itemID == RewardIdEnum.SILVER_BARREL ||\r\n                this.role_map_data[t].itemID == RewardIdEnum.GOLD_BARREL) {\r\n                gm.ui.mapMainUI.mapContent.getChildByName(this.role_map_data[t].cellID.toString()).getComponent(MainMapItem).itemNode.children[0].getComponent(PropItem).onOpenBarrel();\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public autoCompose(): boolean {\r\n        for (const key in this.itemData) {\r\n            const propTypeID = parseInt(key);\r\n            if (propTypeID == PropTypeEnum.STONE_HERO_TYPE) {\r\n                for (let index = 0; index < this.itemData[key].length; index++) {\r\n                    const cellID = this.itemData[key][index].cellID;\r\n                    if (this.role_map_data[cellID].itemID == this.itemData[key][index].itemID) {\r\n                        if (!gm.ui.mapMainUI.mapContent.getChildByName(cellID.toString()) ||\r\n                            !gm.ui.mapMainUI.mapContent.getChildByName(cellID.toString()).getComponent(MainMapItem) ||\r\n                            0 == gm.ui.mapMainUI.mapContent.getChildByName(cellID.toString()).getComponent(MainMapItem).itemNode.childrenCount ||\r\n                            !gm.ui.mapMainUI.mapContent.getChildByName(cellID.toString()).getComponent(MainMapItem).itemNode.children[0].getComponent(PropItem)) continue;\r\n\r\n                        gm.ui.mapMainUI.mapContent.getChildByName(cellID.toString()).getComponent(MainMapItem).itemNode.children[0].getComponent(PropItem).onClickOpenHero();\r\n                        return true;\r\n                    }\r\n                }\r\n\r\n            } else {\r\n                if (propTypeID == PropTypeEnum.STATUE_TYPE || propTypeID == PropTypeEnum.SHELL_TYPE || propTypeID == PropTypeEnum.FOUNTAIN_TYPE) {\r\n                    for (let index = 0; index < this.itemData[key].length; index++) {\r\n                        const cellID = this.itemData[key][index].cellID;\r\n                        const itemCfg = gm.data.config_data.getItemCfgByID(this.itemData[key][index].itemID);\r\n\r\n                        if (itemCfg && itemCfg.next <= 0 && this.role_map_data[cellID].itemID == this.itemData[key][index].itemID) {\r\n                            if (itemCfg.id == gm.const.HEROGIFTID) {\r\n                                if (!gm.ui.mapMainUI.mapContent.getChildByName(cellID.toString()) ||\r\n                                    !gm.ui.mapMainUI.mapContent.getChildByName(cellID.toString()).getComponent(MainMapItem) ||\r\n                                    0 == gm.ui.mapMainUI.mapContent.getChildByName(cellID.toString()).getComponent(MainMapItem).itemNode.childrenCount ||\r\n                                    !gm.ui.mapMainUI.mapContent.getChildByName(cellID.toString()).getComponent(MainMapItem).itemNode.children[0].getComponent(PropItem)) continue;\r\n\r\n                                gm.ui.mapMainUI.mapContent.getChildByName(cellID.toString()).getComponent(MainMapItem).itemNode.children[0].getComponent(PropItem).onOpenSuperHeroCase();\r\n                                return true;\r\n                            }\r\n\r\n                            if (itemCfg.id == gm.const.GIFTID || itemCfg.id == gm.const.PAGODAGIFTID) {\r\n                                if (!gm.ui.mapMainUI.mapContent.getChildByName(cellID.toString()) ||\r\n                                    !gm.ui.mapMainUI.mapContent.getChildByName(cellID.toString()).getComponent(MainMapItem) ||\r\n                                    0 == gm.ui.mapMainUI.mapContent.getChildByName(cellID.toString()).getComponent(MainMapItem).itemNode.childrenCount ||\r\n                                    !gm.ui.mapMainUI.mapContent.getChildByName(cellID.toString()).getComponent(MainMapItem).itemNode.children[0].getComponent(PropItem)) continue;\r\n\r\n                                gm.ui.mapMainUI.mapContent.getChildByName(cellID.toString()).getComponent(MainMapItem).itemNode.children[0].getComponent(PropItem).onOpenGiftCase();\r\n                                return true;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                for (let index = 0; index < this.itemData[key].length; index++) {\r\n                    const itemCfg = gm.data.config_data.getItemCfgByID(this.itemData[key][index].itemID);\r\n                    if (itemCfg && 0 < itemCfg.next) {\r\n                        for (let intemIndex = 0; intemIndex < this.itemData[key].length; intemIndex++) {\r\n                            if (this.itemData[key][intemIndex].itemID == itemCfg.id && this.itemData[key][intemIndex].cellID != this.itemData[key][index].cellID) {\r\n                                const aa = this.itemData[key][index].cellID;\r\n                                const ii = this.itemData[key][intemIndex].cellID;\r\n\r\n                                if (this.role_map_data[aa].itemID == itemCfg.id && this.role_map_data[ii].itemID == this.itemData[key][intemIndex].itemID) {\r\n                                    gm.ui.emit(\"close_new_anim\", ii);\r\n                                    this.changeCellData(aa, ii);\r\n                                    gm.ui.emit(\"item_children_refresh\", ii);\r\n                                    gm.ui.emit(\"item_children_refresh\", aa);\r\n                                    return true;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        for (const key in this.heroData) {\r\n            const propTypeID = parseInt(key);\r\n            for (let heroIndex = 0; heroIndex < this.heroData[propTypeID].length; heroIndex++) {\r\n                const heroCfg = gm.data.config_data.getHeroCfgByID(this.heroData[propTypeID][heroIndex].itemID);\r\n                if (heroCfg) {\r\n                    for (let lvIndex = 0; lvIndex < heroCfg.nextLv.length; lvIndex++) {\r\n                        if (0 < heroCfg.nextLv[lvIndex]) {\r\n                            if (heroCfg.nextNeedItem[lvIndex] <= 30000 && 0 < this.barracks_unlock_id_list[heroCfg.nextNeedSort[lvIndex]]) {\r\n                                if (0 == this.itemData[PropTypeEnum.WEAPON_TYPE].length) continue;\r\n\r\n                                for (let intemIndex = 0; intemIndex < this.itemData[PropTypeEnum.WEAPON_TYPE].length; intemIndex++) {\r\n                                    if (this.itemData[PropTypeEnum.WEAPON_TYPE][intemIndex].itemID == heroCfg.nextNeedItem[lvIndex]) {\r\n                                        const aa = this.heroData[propTypeID][heroIndex].cellID;\r\n                                        const ii = this.itemData[PropTypeEnum.WEAPON_TYPE][intemIndex].cellID;\r\n                                        if (this.role_map_data[aa].itemID == heroCfg.heroid && this.role_map_data[ii].itemID == this.itemData[PropTypeEnum.WEAPON_TYPE][intemIndex].itemID) {\r\n                                            gm.ui.emit(\"close_new_anim\", ii);\r\n                                            this.changeCellData(aa, ii);\r\n                                            gm.ui.emit(\"item_children_refresh\", ii);\r\n                                            gm.ui.emit(\"item_children_refresh\", aa);\r\n                                            return true;\r\n                                        }\r\n                                    }\r\n                                }\r\n\r\n                            } else if (heroCfg.nextNeedItem[lvIndex] == heroCfg.heroid && 0 < heroCfg.occupation) {\r\n                                if (0 == this.heroData[heroCfg.occupation].length) continue;\r\n\r\n                                const surperHero = this.getSuperHeroData(heroCfg.heroid, this.heroData[propTypeID][heroIndex].cellID);\r\n                                if (heroCfg.hero_type == HeroTypeEnum.SUPER_HERO_TYPE && surperHero && 1 == surperHero.heroState) continue;\r\n\r\n                                for (let s = 0; s < this.heroData[propTypeID].length; s++) {\r\n                                    if (this.heroData[propTypeID][s].itemID == heroCfg.heroid && this.heroData[propTypeID][s].cellID != this.heroData[propTypeID][heroIndex].cellID) {\r\n                                        const aa = this.heroData[propTypeID][heroIndex].cellID;\r\n                                        const ii = this.heroData[propTypeID][s].cellID;\r\n\r\n                                        if (this.role_map_data[aa].itemID == heroCfg.heroid && this.role_map_data[ii].itemID == this.heroData[propTypeID][s].itemID) {\r\n                                            const heroCfgID = gm.data.config_data.getHeroCfgByID(this.role_map_data[ii].itemID);\r\n                                            const superHeroData = this.getSuperHeroData(heroCfg.heroid, this.heroData[propTypeID][s].cellID);\r\n\r\n                                            if (heroCfgID.hero_type == HeroTypeEnum.SUPER_HERO_TYPE && superHeroData && 1 == superHeroData.heroState) continue;\r\n                                            gm.ui.emit(\"close_new_anim\", ii);\r\n                                            this.changeCellData(aa, ii);\r\n                                            gm.ui.emit(\"item_children_refresh\", ii);\r\n                                            gm.ui.emit(\"item_children_refresh\", aa);\r\n                                            return true;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\nexport class roleCoinDataVO {\r\n    public coinNum: number;\r\n    public diamondNum: number;\r\n\r\n    constructor() {\r\n        this.coinNum = 1000;\r\n        this.diamondNum = 100;\r\n    }\r\n}\r\n\r\nexport class roleMapItemVO {\r\n    public heroUID: number;\r\n    public itemID: number;\r\n    public cellID: number;\r\n    public itemType: number;\r\n}\r\n\r\nexport class MapItemDataVO {\r\n    public cellID: number;\r\n    public cellState: number;\r\n    public itemState: number;\r\n    public itemType: ItemTypeEnum;\r\n    public itemID: number;\r\n    public heroUID: number;\r\n}\r\n\r\nexport class RoleBuildDataVO implements BuildData {\r\n    public buildState: number;\r\n    public buildID: number;\r\n    public buildType: number;\r\n    public buildLvl: number;\r\n    public cellID: number;\r\n    public isCanMove: number;\r\n    public productData: RoleProductDataVO;\r\n    public upNeedCoin: number;\r\n    public metrailData: Record<number, metrail>;\r\n}\r\n\r\nexport class roleGoBattleItemVO {\r\n    public cellID: number;\r\n    public hp: number;\r\n    public itemID: number;\r\n    public itemType: number;\r\n    public maxHp: number;\r\n}\r\n\r\nexport class RoleItemDataVO {\r\n    public itemID: number;\r\n    public itemType: number;\r\n}\r\n\r\nexport class RoleProductDataVO {\r\n    public productCd: number;\r\n    public productNum: number;\r\n    public maxNum: number;\r\n    public fullTime: number;\r\n    public productID: number;\r\n    public beginTime: number;\r\n    public curNum: number;\r\n}\r\n\r\nexport class RoleBarrelDataVO {\r\n    public curBarrelNum: number;\r\n    public maxBarrelNum: number;\r\n    public freeBarrelCd: number;\r\n    public nextFreeBarrelNum: number;\r\n    public nextFreeBarrelTime: number;\r\n    public curFreeBarrelTime: number;\r\n}\r\n\r\nexport class roleBarrelItemVO {\r\n    public itemID: number;\r\n    public itemIndex: number;\r\n    public itemPos: cc.Vec3;\r\n}\r\n\r\nexport class heroUnloockData {\r\n    public heroId: number;\r\n    public unlockId: number;\r\n    public state: number;\r\n    public ani_state: number;\r\n}\r\n\r\nexport class GuideVO {\r\n    public guideID: number;\r\n    public runningIndex: number;\r\n    public isFinishAllGuide: number;\r\n    public step: number;\r\n    public isEnd: boolean;\r\n}\r\n\r\nexport class GuideGiftVO {\r\n    public guideBeginTime: number;\r\n    public guideIsGet: boolean;\r\n}\r\n\r\nexport class SuperHeroVO {\r\n    public heroid: number;\r\n    public hp: number;\r\n    public heroState: number;\r\n    public curReliveTime: number;\r\n    public nextReliveTime: number;\r\n    public maxHp: number;\r\n    public cellID: number;\r\n}\r\n\r\nexport class DefenseHeroItemVO {\r\n    public cellID: number;\r\n    public heroid: number;\r\n    public heroUID: number;\r\n}\r\n\r\n\r\n\r\n"]}