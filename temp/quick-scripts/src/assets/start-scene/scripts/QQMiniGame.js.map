{"version":3,"sources":["assets\\start-scene\\scripts\\QQMiniGame.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\"use strict\";\r\nimport { ChannelManager } from \"./ChannelManager\";\r\nimport { gm } from \"./GameManager\";\r\nimport { Utils } from \"./Utils\";\r\nimport { IAd } from \"./VIVOMiniGame\";\r\nimport { VDCallback } from \"./WXMiniGame\";\r\n\r\ninterface Share {\r\n    title: string;\r\n    url: string;\r\n}\r\n\r\ninterface type {\r\n    call: (context: any, num?: number) => any\r\n}\r\nexport class QQMiniGame {\r\n    private static _instance: QQMiniGame = null;\r\n    public static ad_enable: boolean = false;\r\n    private _min_banner_ad_width: number;\r\n    private _banner_ad_id_array: string[];\r\n    private _create_banner_count: number;\r\n    private _video_ad_id: string;\r\n    private _interstitial_ad_id: string;\r\n    private _app_box_ad_id: string;\r\n    private _banner_ad: IAd;\r\n    private _is_show_banner_ad: boolean;\r\n    private _video_ad: IAd;\r\n    private _video_cb: VDCallback;\r\n    private _video_cb_target: ChannelManager;\r\n    private _interstitial_ad: IAd;\r\n    private _interstitial_ad_loaded: boolean;\r\n    private _app_box: IAd;\r\n    private _app_box_loaded: boolean\r\n    private _share_array: Share[];\r\n    private _default_share: Share;\r\n\r\n    constructor() {\r\n        this._min_banner_ad_width = 300;\r\n        this._banner_ad_id_array = [];\r\n        this._create_banner_count = 0;\r\n        this._video_ad_id = \"\";\r\n        this._interstitial_ad_id = \"\";\r\n        this._app_box_ad_id = \"\";\r\n        this._banner_ad = null;\r\n        this._is_show_banner_ad = false;\r\n        this._video_ad = null;\r\n        this._video_cb = null;\r\n        this._video_cb_target = null;\r\n        this._interstitial_ad = null;\r\n        this._interstitial_ad_loaded = false;\r\n        this._app_box = null;\r\n        this._app_box_loaded = false;\r\n        this._share_array = [];\r\n        this._default_share = {\r\n            title: \"亿万只僵尸，全新塔防式枪战游戏\",\r\n            url: \"https://cdnres.qszhg.6hwan.com/tower_shoot/share/1.jpg?v=1\"\r\n        };\r\n    }\r\n\r\n    public static get instance(): QQMiniGame {\r\n        if (!this._instance) {\r\n            this._instance = new QQMiniGame;\r\n        }\r\n        return this._instance;\r\n    }\r\n    \r\n\r\n    public load_channel_env(call: () => void): boolean {\r\n        window.qq.onHide(() => { });\r\n        window.qq.onShow(() => { });\r\n        this._banner_ad_id_array = [\"2f8ac2ffc33b7e529a912057bcfb9ccd\", \"60417757de8d65e26e7e8e390fe9e06b\", \"c0d363df09a7ce229b619b6102de60ad\", \"2eed354af6f5e86fc73aef2f22ce7646\", \"c075b792decf84b2eef03a209734a793\"];\r\n        this._video_ad_id = \"f13d03fb4b1cf7be56931498549ac49d\";\r\n        this._interstitial_ad_id = \"d34d938f28603205ecf889ae577c3c21\";\r\n        this._app_box_ad_id = \"10cfef832c966646cf75295e7d083666\";\r\n        console.log(\"qq\" + JSON.stringify(window.qq));\r\n        window.qq.login({});\r\n        this._share_array = ChannelManager.SHARE_CONFIG.share_array;\r\n        this.show_share_menu();\r\n        call();\r\n        return true;\r\n    }\r\n\r\n    public get is_rank(): boolean {\r\n        return true;\r\n    }\r\n\r\n    public get is_share(): boolean {\r\n        return true;\r\n    }\r\n\r\n    public get is_video_share(): boolean {\r\n        return false;\r\n    }\r\n\r\n    private show_share_menu(): boolean {\r\n        window.qq.showShareMenu({});\r\n        window.qq.onShareAppMessage(() => {\r\n            const shareData = 0 == this._share_array.length\r\n                ? this._default_share\r\n                : this._share_array[Utils.math_random(true, 0, this._share_array.length)];\r\n\r\n            return {\r\n                title: shareData.title,\r\n                imageUrl: shareData.url,\r\n                success: (t) => {\r\n                    console.log(\"转发成功\");\r\n                    console.log(t);\r\n                },\r\n                fail: (t) => {\r\n                    console.log(\"fail qq onShareAppMessage\" + t);\r\n                }\r\n            }\r\n        });\r\n\r\n        return true;\r\n    }\r\n\r\n    public load_sub_packages_env(call: () => void): boolean {\r\n        call();\r\n        return true;\r\n    }\r\n\r\n    private analyzeUrlPram(): boolean {\r\n        return true;\r\n    }\r\n\r\n    public get_app_name(): string {\r\n        return ChannelManager.APP_QQ;\r\n    }\r\n\r\n    public vibrate_short(): void {\r\n        if (qq.vibrateShort) {\r\n            qq.vibrateShort({\r\n                success: (t) => {\r\n                    console.log(\"\" + t);\r\n                },\r\n                fail: () => {\r\n                    console.log(\"vibrateShort调用失败\");\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    public vibrate_long(): void {\r\n        if (qq.vibrateLong) {\r\n            qq.vibrateLong({\r\n                success: (t) => {\r\n                    console.log(\"\" + t);\r\n                },\r\n                fail: () => {\r\n                    console.log(\"vibrateLong调用失败\");\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    public get is_support_more_game(): boolean {\r\n        return \"ios\" != window.qq.getSystemInfoSync().platform && !!(window.qq.navigateToMiniProgram && window.qq.onNavigateToMiniProgram && window.qq.showMoreGamesModal);\r\n    }\r\n\r\n    public show_more_game(callback: type, context: any): void {\r\n        if (this.is_support_more_game) {\r\n            window.qq.onMoreGamesModalClose((t) => {\r\n                console.log(\"modal closed\", t)\r\n            });\r\n\r\n            window.qq.onNavigateToMiniProgram((t) => {\r\n                console.log(t.errCode);\r\n                console.log(t.errMsg)\r\n            });\r\n\r\n            window.qq.showMoreGamesModal({\r\n                appLaunchOptions: [],\r\n                success: (t) => {\r\n                    console.log(\"success\", t.errMsg);\r\n                    if (callback && context) {\r\n                        callback.call(context, 0);\r\n                    }\r\n                },\r\n                fail: (t) => {\r\n                    console.log(\"fail\", t.errMsg);\r\n                    if (callback && context) {\r\n                        callback.call(context, 1);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    public share_req(callback: type, context: any): boolean {\r\n        const shareData = 0 == this._share_array.length\r\n            ? this._default_share\r\n            : this._share_array[Utils.math_random(true, 0, this._share_array.length)];\r\n        if (window.qq.shareAppMessage && shareData) {\r\n            window.qq.shareAppMessage({\r\n                title: shareData.title,\r\n                imageUrl: shareData.url,\r\n                success: (t) => {\r\n                    console.log(\"转发到群的结果\");\r\n                    console.log(t);\r\n                    callback.call(context);\r\n                },\r\n                fail: (t) => {\r\n                    console.log(t);\r\n                }\r\n            })\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private loginReport(): void { }\r\n\r\n    private create_banner_ad(): void {\r\n        if (window.qq) {\r\n            const SystemInfo = window.qq.getSystemInfoSync();\r\n            const windowWidth = SystemInfo.windowWidth;\r\n            const windowHeight = SystemInfo.windowHeight;\r\n            const num = this._create_banner_count % this._banner_ad_id_array.length;\r\n            const createBannerAd = window.qq.createBannerAd({\r\n                adUnitId: this._banner_ad_id_array[num],\r\n                adIntervals: 40,\r\n                style: {\r\n                    width: this._min_banner_ad_width,\r\n                    top: windowHeight,\r\n                    left: (windowWidth - this._min_banner_ad_width) / 2\r\n                }\r\n            });\r\n\r\n            if (this._banner_ad) {\r\n                this._banner_ad.destroy();\r\n            }\r\n\r\n            this._banner_ad = createBannerAd;\r\n            this._banner_ad.onLoad(() => {\r\n                console.log(\"banner ad id:\" + this._banner_ad_id_array[num] + \" onLoad\");\r\n                if (this._is_show_banner_ad && createBannerAd) {\r\n                    createBannerAd.show().then(() => {\r\n                        if (this._is_show_banner_ad) {\r\n                            console.log(\"广告显示成功\");\r\n                        } else {\r\n                            createBannerAd.destroy();\r\n                            console.log(\"广告显示慢了，不需要显示了\");\r\n                        }\r\n                    }).catch((t) => {\r\n                        console.log(\"广告组件出现问题\", t);\r\n                    });\r\n                }\r\n            });\r\n\r\n            createBannerAd.onResize((t) => {\r\n                createBannerAd.style.left = (windowWidth - t.width) / 2;\r\n                createBannerAd.style.top = windowHeight - t.height;\r\n                console.log(\"banner_ad.onResize:\", t.width, t.height);\r\n                const getDevicePixelRatio = cc.view.getDevicePixelRatio();\r\n                const getScaleX = cc.view.getScaleX();\r\n\r\n                console.log(\"banner need design size:\", t.width * getDevicePixelRatio / getScaleX, t.height * getDevicePixelRatio / getScaleX);\r\n            });\r\n\r\n            this._create_banner_count++;\r\n        }\r\n    }\r\n\r\n    public show_banner_ad(): void {\r\n        this._is_show_banner_ad = true;\r\n        this.create_banner_ad();\r\n    }\r\n\r\n    public hide_banner_ad(): void {\r\n        this._is_show_banner_ad = false;\r\n        const banner = this._banner_ad;\r\n        if (banner) {\r\n            banner.destroy();\r\n        }\r\n    }\r\n\r\n    public create_video_ad(): void {\r\n        if (null != window.qq.createRewardedVideoAd) {\r\n            this._video_ad = window.qq.createRewardedVideoAd({\r\n                adUnitId: this._video_ad_id\r\n            });\r\n\r\n            this._video_ad.onClose((t) => {\r\n                if (t.isEnded) {\r\n                    console.log(\"视频广告观看完成\");\r\n                    this._video_cb.apply(this._video_cb_target);\r\n                } else {\r\n                    console.log(\"视频广告观看中断\");\r\n                    gm.ui.show_notice(\"Quảng cáo video bị gián đoạn, không có phần thưởng\");\r\n                }\r\n                cc.game.resume();\r\n            });\r\n        }\r\n    }\r\n\r\n    public show_video_ad(call: () => void, chanel: ChannelManager): void {\r\n        this._video_cb = call;\r\n        this._video_cb_target = chanel;\r\n        if (this._video_ad) {\r\n            this._video_ad.show().then(() => {\r\n                console.log(\"视频广告显示成功\");\r\n                cc.game.pause();\r\n            }).catch(() => {\r\n                console.log(\"视频手动加载成功\");\r\n                this._video_ad.show().then(() => {\r\n                    console.log(\"重试，视频广告显示成功\");\r\n                    cc.game.pause();\r\n                }).catch((t) => {\r\n                    console.log(\"重试，视频广告组件出现问题\", t);\r\n                    if (1004 == t.errCode) {\r\n                        gm.ui.show_notice(\"Quảng cáo khuyến khích video ngày nay đã được sử dụng hết\");\r\n                    } else {\r\n                        gm.ui.show_notice(\"Quảng cáo có thưởng bằng video không mở được\");\r\n                    }\r\n                });\r\n            })\r\n        } else {\r\n            gm.ui.show_notice(\"Quảng cáo được thưởng bằng video chưa được khởi tạo\");\r\n        }\r\n    }\r\n\r\n    public create_app_box_ad(): void {\r\n        if (qq.createAppBox) {\r\n            this._app_box = qq.createAppBox({\r\n                adUnitId: this._app_box_ad_id\r\n            });\r\n\r\n            this._app_box.load().then(() => {\r\n                this._app_box_loaded = true;\r\n            }).catch((t) => {\r\n                console.error(t);\r\n            })\r\n        } else {\r\n            console.log(\"不支持广告盒子，请升级QQ\");\r\n        }\r\n    }\r\n\r\n    public get is_support_app_box(): boolean {\r\n        return !!qq.createAppBox;\r\n    }\r\n\r\n    public show_app_box_ad(): void {\r\n        if (qq.createAppBox) {\r\n            if (this._app_box_loaded && this._app_box) {\r\n                this._app_box.show().then(() => {\r\n                    this._app_box_loaded = true;\r\n                    console.log(\"显示广告盒子\")\r\n                }).catch(function (t) {\r\n                    console.error(t)\r\n                });\r\n            } else {\r\n                this.create_app_box_ad();\r\n                console.log(\"_app_box_loaded:\" + this._app_box_loaded);\r\n            }\r\n        } else {\r\n            console.log(\"不支持广告盒子，请升级QQ\");\r\n        }\r\n    }\r\n\r\n    private create_interstitial_ad(): void {\r\n        if (qq.createInterstitialAd) {\r\n            this._interstitial_ad = window.qq.createInterstitialAd({\r\n                adUnitId: this._interstitial_ad_id\r\n            });\r\n\r\n            this._interstitial_ad.load().catch((t) => {\r\n                console.error(\"load\", t)\r\n            });\r\n\r\n            this._interstitial_ad.onLoad(() => {\r\n                this._interstitial_ad_loaded = true;\r\n            });\r\n\r\n            this._interstitial_ad.onClose(() => {\r\n                console.log(\"close event emit\")\r\n            });\r\n\r\n            this._interstitial_ad.onError((t) => {\r\n                console.log(\"error\", t)\r\n            });\r\n        }\r\n    }\r\n\r\n    public get is_support_interstitial_ad(): boolean {\r\n        if (qq.createInterstitialAd) {\r\n            console.log(\"is_support_interstitial_ad: true\");\r\n            return true;\r\n        } else {\r\n            console.log(\"is_support_interstitial_ad: false\");\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public show_interstitial_ad(callback: type, context: any): void {\r\n        if (this._interstitial_ad && this._interstitial_ad_loaded) {\r\n            this._interstitial_ad.show().then(() => {\r\n                console.log(\"插屏广告显示成功\");\r\n                if (callback && context) {\r\n                    callback.call(context, 0);\r\n                }\r\n            }).catch((t) => {\r\n                console.error(\"show\", t);\r\n                if (callback && context) {\r\n                    callback.call(context, 1);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    public set_rank_value(): void {\r\n        const object = {\r\n            qqgame: {\r\n                score: 0,\r\n                update_time: Math.floor((new Date).getTime() / 1e3)\r\n            },\r\n            cost_time: 0\r\n        };\r\n\r\n        window.qq.setUserCloudStorage({\r\n            KVDataList: [{\r\n                key: \"level\",\r\n                value: JSON.stringify(object)\r\n            }]\r\n        });\r\n        cc.log(\"上报排行数据\");\r\n    }\r\n\r\n    public get_rank_data(): boolean {\r\n        window.qq.getOpenDataContext().postMessage({\r\n            message: 1\r\n        });\r\n        return true;\r\n    }\r\n\r\n    public set_rank_close(): void {\r\n        window.qq.getOpenDataContext().postMessage({\r\n            message: 99\r\n        });\r\n    }\r\n\r\n    public on_rank_pre_page_click(): void {\r\n        window.qq.getOpenDataContext().postMessage({\r\n            message: 100\r\n        });\r\n    }\r\n\r\n    public on_rank_next_page_click(): void {\r\n        window.qq.getOpenDataContext().postMessage({\r\n            message: 101\r\n        });\r\n    }\r\n\r\n    public get_self_rank_data(): boolean {\r\n        window.qq && window.qq.getOpenDataContext().postMessage({\r\n            message: 300\r\n        });\r\n        return true;\r\n    }\r\n\r\n    public set_self_rank_close(): void {\r\n        window.qq && window.qq.getOpenDataContext().postMessage({\r\n            message: 301\r\n        });\r\n    }\r\n\r\n    public clear_cache(): void {\r\n        if (window.wxDownloader) {\r\n            window.wxDownloader.cleanAllAssets();\r\n            console.log(\"delete cache success\");\r\n        }\r\n    }\r\n}"]}