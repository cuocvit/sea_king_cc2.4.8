{"version":3,"sources":["assets\\store\\scripts\\RMBStore.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,+CAA0C;AAC1C,qEAA2D;AAC3D,iEAAiE;AAE3D,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA6B,kCAAY;IAAzC;QAAA,qEA+CC;QA7CW,oBAAc,GAAmB,IAAI,CAAC;QAGtC,cAAQ,GAAmB,IAAI,CAAC;QAGhC,gBAAU,GAAmB,IAAI,CAAC;;IAuC9C,CAAC;IArCa,iCAAQ,GAAlB;QAAA,iBA0BC;QAzBG,IAAM,SAAS,GAAG,gBAAE,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;QAErD,IAAM,YAAY,GAAG,UAAC,KAAa;oCACtB,SAAS;gBACd,IAAM,IAAI,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC;gBACzC,gBAAE,CAAC,IAAI,CAAC,SAAS,CAAC,sBAAU,CAAC,KAAK,EAAE,oBAAoB,EAAE,sBAAY,EAAE,UAAC,SAAS;;oBAC9E,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC;oBACtB,IAAI,IAAI,CAAC,SAAS,IAAI,CAAC,EAAE;wBACrB,MAAA,KAAI,CAAC,cAAc,0CAAE,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE;qBACjD;yBAAM,IAAI,IAAI,CAAC,SAAS,IAAI,CAAC,EAAE;wBAC5B,MAAA,KAAI,CAAC,UAAU,0CAAE,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE;qBAC7C;yBAAM,IAAI,IAAI,CAAC,SAAS,IAAI,CAAC,EAAE;wBAC5B,MAAA,KAAI,CAAC,QAAQ,0CAAE,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE;qBAC3C;gBACL,CAAC,CAAC,CAAC;;YAXP,KAAK,IAAI,SAAS,GAAG,CAAC,EAAE,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,MAAM,EAAE,SAAS,EAAE;wBAA/D,SAAS;aAYjB;QACL,CAAC,CAAC;QAEF,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAC1C,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACpC,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAEtC,KAAK,IAAM,KAAK,IAAI,gBAAE,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,EAAE;YACpD,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;SAC/B;IACL,CAAC;IAEO,qCAAY,GAApB;QACI,gBAAE,CAAC,EAAE,CAAC,iBAAiB,CAAC,gBAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAC/C,CAAC;IAES,kCAAS,GAAnB;QACI,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAC1C,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACpC,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAC1C,CAAC;IA5CD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;0DAC4B;IAG9C;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;oDACsB;IAGxC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;sDACwB;IARxC,cAAc;QADnB,OAAO;OACF,cAAc,CA+CnB;IAAD,qBAAC;CA/CD,AA+CC,CA/C4B,EAAE,CAAC,SAAS,GA+CxC","file":"","sourceRoot":"/","sourcesContent":["import RMBStoreItem from './RMBStoreItem';\r\nimport { gm } from '../../start-scene/scripts/GameManager';\r\nimport { BundleName } from '../../start-scene/scripts/Constants';\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nclass StoreComponent extends cc.Component {\r\n    @property(cc.Node)\r\n    private barrelDiamList: cc.Node | null = null;\r\n\r\n    @property(cc.Node)\r\n    private diamList: cc.Node | null = null;\r\n\r\n    @property(cc.Node)\r\n    private barrelList: cc.Node | null = null;\r\n\r\n    protected onEnable(): void {\r\n        const storeList = gm.data.config_data.getStoreList();\r\n\r\n        const addStoreItem = (index: number): void => {\r\n            for (let itemIndex = 0; itemIndex < storeList[index].length; itemIndex++) {\r\n                const item = storeList[index][itemIndex];\r\n                gm.pool.async_get(BundleName.STORE, \"prefabs/store_item\", RMBStoreItem, (storeItem) => {\r\n                    storeItem.data = item;\r\n                    if (item.shop_type == 1) {\r\n                        this.barrelDiamList?.addChild(storeItem.node);\r\n                    } else if (item.shop_type == 3) {\r\n                        this.barrelList?.addChild(storeItem.node);\r\n                    } else if (item.shop_type == 2) {\r\n                        this.diamList?.addChild(storeItem.node);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n\r\n        gm.pool.put_children(this.barrelDiamList);\r\n        gm.pool.put_children(this.diamList);\r\n        gm.pool.put_children(this.barrelList);\r\n\r\n        for (const index in gm.data.config_data.getStoreList()) {\r\n            addStoreItem(Number(index));\r\n        }\r\n    }\r\n\r\n    private onClickClose(): void {\r\n        gm.ui.async_hide_module(gm.const.RMBSTORE);\r\n    }\r\n\r\n    protected onDisable(): void {\r\n        gm.pool.put_children(this.barrelDiamList);\r\n        gm.pool.put_children(this.diamList);\r\n        gm.pool.put_children(this.barrelList);\r\n    }\r\n}"]}