{"version":3,"sources":["assets\\fight\\scripts\\FightResultPropItem.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uEAAsE;AACtE,yDAAwD;AACxD,iEAAiE;AAG3D,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAkC,uCAAY;IAU5C;QAAA,YACE,iBAAO,SACR;QAVO,eAAS,GAAqB,IAAI,CAAC;QAGnC,cAAQ,GAAqB,IAAI,CAAC;QAGlC,aAAO,GAAoB,IAAI,CAAC;;IAIxC,CAAC;IAED,sBAAW,qCAAI;aAAf;YACE,OAAO,IAAI,CAAC,KAAK,CAAC;QACpB,CAAC;aAED,UAAgB,KAAqC;YACnD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,WAAW,EAAE,CAAC;QACrB,CAAC;;;OALA;IAOM,yCAAW,GAAlB;QACE,IAAI,CAAC,IAAI,CAAC,KAAK;YAAE,OAAO;QACxB,aAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,SAAS,EAAE,sBAAU,CAAC,MAAM,EAAE,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QACjG,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,EAAE;YACxB,aAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,QAAQ,EAAE,sBAAU,CAAC,MAAM,EAAE,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;YAChG,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;YAChD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACjC;aAAM;YACL,aAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,QAAQ,EAAE,sBAAU,CAAC,MAAM,EAAE,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;YAChG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACjC,aAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAClE,aAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;SAClE;QACD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,CAAC;IAClD,CAAC;IAEM,mCAAK,GAAZ;QACE,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,EAAE,CAAC;IAC3B,CAAC;IAxCD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;0DACuB;IAG3C;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;yDACsB;IAG1C;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;wDACqB;IARpC,mBAAmB;QADxB,OAAO;OACF,mBAAmB,CA2CxB;IAAD,0BAAC;CA3CD,AA2CC,CA3CiC,2BAAY,GA2C7C","file":"","sourceRoot":"/","sourcesContent":["import { ListViewItem } from '../../start-scene/scripts/ListViewItem';\r\nimport { Utils } from '../../start-scene/scripts/Utils';\r\nimport { BundleName } from '../../start-scene/scripts/Constants';\r\nimport { FightResultPropItemData } from '../../start-scene/scripts/FightTempData';\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nclass FightResultPropItem extends ListViewItem {\r\n  @property(cc.Sprite)\r\n  private color_spr: cc.Sprite | null = null;\r\n\r\n  @property(cc.Sprite)\r\n  private prop_spr: cc.Sprite | null = null;\r\n\r\n  @property(cc.Label)\r\n  private num_lbl: cc.Label | null = null;\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  public get data(): FightResultPropItemData | null {\r\n    return this._data;\r\n  }\r\n\r\n  public set data(value: FightResultPropItemData | null) {\r\n    this._data = value;\r\n    this.update_view();\r\n  }\r\n\r\n  public update_view(): void {\r\n    if (!this._data) return;\r\n    Utils.async_set_sprite_frame(this.color_spr, BundleName.COMMON, \"res/color_\" + this._data.color);\r\n    if (this._data.type == 1) {\r\n      Utils.async_set_sprite_frame(this.prop_spr, BundleName.COMMON, \"res/handbook/\" + this._data.id);\r\n      this.num_lbl.string = this._data.num.toString();\r\n      this.num_lbl.node.active = true;\r\n    } else {\r\n      Utils.async_set_sprite_frame(this.prop_spr, BundleName.COMMON, \"res/handbook/\" + this._data.id);\r\n      this.num_lbl.node.active = false;\r\n      Utils.set_sprite_state(this.color_spr.node, cc.Sprite.State.GRAY);\r\n      Utils.set_sprite_state(this.prop_spr.node, cc.Sprite.State.GRAY);\r\n    }\r\n    this.num_lbl.node.active = this._data.type == 1;\r\n  }\r\n\r\n  public reset(): void {\r\n    this.prop_spr.spriteFrame = null;\r\n    this.num_lbl.string = \"\";\r\n  }\r\n}\r\n"]}