{"version":3,"sources":["assets\\ladder\\scripts\\LadderRewardItem.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uEAAsE;AACtE,yDAAwD;AACxD,iEAAiE;AACjE,qEAA2D;AAIrD,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAsC,oCAAY;IAgB9C;QAAA,YACI,iBAAO,SACV;QAhBO,eAAS,GAAqB,IAAI,CAAC;QAGnC,gBAAU,GAAqB,IAAI,CAAC;QAGpC,aAAO,GAAoB,IAAI,CAAC;QAGhC,eAAS,GAAmB,IAAI,CAAC;QAGjC,gBAAU,GAAmB,IAAI,CAAC;;IAI1C,CAAC;IAED,sBAAW,kCAAI;aAAf;YACI,OAAO,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;aAED,UAAgB,KAA8B;YAC1C,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,WAAW,EAAE,CAAC;QACvB,CAAC;;;OALA;IAOD,sBAAW,oCAAM;aAAjB,UAAkB,KAAc;YAC5B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,UAAU,EAAE;gBACnC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC;aAC1D;QACL,CAAC;;;OAAA;IAEM,sCAAW,GAAlB;QACI,IAAM,OAAO,GAAG,gBAAE,CAAC,MAAM,CAAC,YAAY,CAAC,gBAAgB,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAe,CAAC;QACxG,IAAI,OAAO,EAAE;YACT,aAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,SAAS,EAAE,sBAAU,CAAC,MAAM,EAAE,YAAY,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;YAC9F,aAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,UAAU,EAAE,sBAAU,CAAC,MAAM,EAAE,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;SAC3F;QACD,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,EAAE,CAAC;IACrD,CAAC;IAEM,gCAAK,GAAZ;QACI,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC;SACtC;QACD,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,EAAE,CAAC;SAC5B;IACL,CAAC;IAlDD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;uDACuB;IAG3C;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;wDACwB;IAG5C;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;qDACqB;IAGxC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;uDACuB;IAGzC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;wDACwB;IAdjC,gBAAgB;QAD5B,OAAO;OACK,gBAAgB,CAqD5B;IAAD,uBAAC;CArDD,AAqDC,CArDqC,2BAAY,GAqDjD;AArDY,4CAAgB","file":"","sourceRoot":"/","sourcesContent":["import { ListViewItem } from '../../start-scene/scripts/ListViewItem';\r\nimport { Utils } from '../../start-scene/scripts/Utils';\r\nimport { BundleName } from '../../start-scene/scripts/Constants';\r\nimport { gm } from '../../start-scene/scripts/GameManager';\r\nimport { ItemConfig } from '../../common/configs/item';\r\nimport { LadderRewardData } from '../../start-scene/scripts/LadderTempData';\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport class LadderRewardItem extends ListViewItem {\r\n    @property(cc.Sprite)\r\n    private color_spr: cc.Sprite | null = null;\r\n\r\n    @property(cc.Sprite)\r\n    private reward_spr: cc.Sprite | null = null;\r\n\r\n    @property(cc.Label)\r\n    private num_lbl: cc.Label | null = null;\r\n\r\n    @property(cc.Node)\r\n    private mask_node: cc.Node | null = null;\r\n\r\n    @property(cc.Node)\r\n    private right_node: cc.Node | null = null;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public get data(): LadderRewardData | null {\r\n        return this._data;\r\n    }\r\n\r\n    public set data(value: LadderRewardData | null) {\r\n        this._data = value;\r\n        this.update_view();\r\n    }\r\n\r\n    public set select(value: boolean) {\r\n        this._select = value;\r\n        if (this.mask_node && this.right_node) {\r\n            this.mask_node.active = this.right_node.active = value;\r\n        }\r\n    }\r\n\r\n    public update_view(): void {\r\n        const rowData = gm.config.get_row_data(\"ItemConfigData\", this._data.reward_id.toString()) as ItemConfig;\r\n        if (rowData) {\r\n            Utils.async_set_sprite_frame(this.color_spr, BundleName.COMMON, \"res/color_\" + rowData.color);\r\n            Utils.async_set_sprite_frame(this.reward_spr, BundleName.LADDER, \"res/\" + rowData.icon);\r\n        }\r\n        this.num_lbl.string = this._data.reward_num + \"\";\r\n    }\r\n\r\n    public reset(): void {\r\n        if (this.reward_spr) {\r\n            this.reward_spr.spriteFrame = null;\r\n        }\r\n        if (this.num_lbl) {\r\n            this.num_lbl.string = \"\";\r\n        }\r\n    }\r\n}"]}