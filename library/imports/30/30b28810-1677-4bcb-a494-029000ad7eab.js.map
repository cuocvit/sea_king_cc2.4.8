{"version":3,"sources":["assets\\start-scene\\scripts\\FightOfflineItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// +-+\r\nimport { ListViewItem } from './ListViewItem';\r\nimport { Utils } from './Utils';\r\nimport { BundleName, HeroTypeEnum } from './Constants';\r\nimport { gm } from './GameManager';\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\ninterface TypeData {\r\n    itemID: number;\r\n    heroNum: number;\r\n}\r\n\r\n@ccclass\r\nclass FightOfflineItem extends ListViewItem {\r\n    @property(cc.Sprite)\r\n    private heroColorSpr: cc.Sprite | null = null;\r\n\r\n    @property(cc.Sprite)\r\n    private heroSpr: cc.Sprite | null = null;\r\n\r\n    @property(cc.Label)\r\n    private HeroNumLbl: cc.Label | null = null;\r\n\r\n    @property(cc.Sprite)\r\n    private heroLvlSpr: cc.Sprite | null = null;\r\n\r\n    @property(cc.Node)\r\n    private isSuperHero: cc.Node | null = null;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n   public get data(): TypeData {\r\n        return this._data;\r\n    }\r\n\r\n    public set data(value: TypeData) {\r\n        this._data = value;\r\n        this.update_view();\r\n    }\r\n\r\n    public update_view(): void {\r\n        this.isSuperHero.active = false;\r\n        this.heroLvlSpr.spriteFrame = null;\r\n\r\n        if (this._data.itemID > 30000) {\r\n            const heroConfig = gm.data.config_data.getHeroCfgByID(this._data.itemID);\r\n            if (!heroConfig) return;\r\n\r\n            Utils.async_set_sprite_frame(this.heroColorSpr, BundleName.COMMON, `res/color_${heroConfig.lv}`);\r\n            Utils.async_set_sprite_frame(this.heroSpr, BundleName.COMMON, `res/handbook/${this._data.itemID}`);\r\n            Utils.async_set_sprite_frame(this.heroLvlSpr, BundleName.MAP, `res/hero/heroPhoto${heroConfig.lv}`);\r\n\r\n            this.isSuperHero.active = heroConfig && heroConfig.hero_type === HeroTypeEnum.SUPER_HERO_TYPE;\r\n            this.HeroNumLbl.string = this._data.heroNum.toString();\r\n        } else {\r\n            const itemConfig = gm.data.config_data.getItemCfgByID(this._data.itemID);\r\n            if (!itemConfig) return;\r\n\r\n            Utils.async_set_sprite_frame(this.heroColorSpr, BundleName.COMMON, `res/color_${itemConfig.lv}`);\r\n            Utils.async_set_sprite_frame(this.heroSpr, BundleName.COMMON, `res/handbook/${this._data.itemID}`);\r\n        }\r\n\r\n        this.HeroNumLbl.string = `x${this.data.heroNum}`;\r\n    }\r\n\r\n    public reset(): void {\r\n        this.heroSpr.spriteFrame = null;\r\n        this.heroLvlSpr.spriteFrame = null;\r\n        this.HeroNumLbl.string = \"\";\r\n    }\r\n}\r\n\r\nexport { FightOfflineItem }"]}