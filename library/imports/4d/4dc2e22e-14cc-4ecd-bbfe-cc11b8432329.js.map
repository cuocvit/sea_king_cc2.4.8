{"version":3,"sources":["assets\\start-scene\\scripts\\StartData.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,6CAAmC;AACnC,6CAA4C;AAE5C;IAA+B,6BAAW;IAMtC;QAAA,YACI,iBAAO,SAGV;QAFG,KAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,KAAI,CAAC,2BAA2B,GAAG,CAAC,CAAC;;IACzC,CAAC;IACM,mCAAe,GAAtB,UAA0B,QAA4B;QAAtD,iBAQC;QAPG,iBAAM,eAAe,YAAC,UAAC,IAAO;YAC1B,IAAI,CAAC,KAAI,CAAC,OAAO,EAAE;gBACf,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,KAAI,CAAC,gBAAgB,EAAE,CAAC;aAC3B;YACD,IAAI,OAAO,QAAQ,KAAK,UAAU;gBAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;QACvD,CAAC,CAAC,CAAC;IACP,CAAC;IAEM,oCAAgB,GAAvB,UAAwB,QAAqB;QACzC,gBAAE,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC;QACxD,iBAAM,gBAAgB,YAAC,QAAQ,CAAC,CAAC;IACrC,CAAC;IAvBsB,2BAAiB,GAAW,mBAAmB,CAAC;IAChD,0BAAgB,GAAW,kBAAkB,CAAC;IAuBzE,gBAAC;CAzBD,AAyBC,CAzB8B,yBAAW,GAyBzC;AAzBY,8BAAS","file":"","sourceRoot":"/","sourcesContent":["import { gm } from \"./GameManager\";\r\nimport { StorageBase } from \"./StorageBase\";\r\n\r\nexport class StartData extends StorageBase {\r\n    public static readonly EVENT_DATA_CHANGE: string = \"start_data_change\";\r\n    public static readonly BUILDING_UPGRADE: string = \"building_upgrade\";\r\n\r\n    public user_subscribe_message_stat: number;\r\n\r\n    constructor() {\r\n        super();\r\n        this.STORAGE_KEY = \"StartData\";\r\n        this.user_subscribe_message_stat = 0;\r\n    } \r\n    public async_read_data<T>(callback?: (data: T) => void): void {\r\n        super.async_read_data((data: T) => {\r\n            if (!this.is_init) {\r\n                this.is_init = true;\r\n                this.async_write_data();\r\n            }\r\n            if (typeof callback === \"function\") callback(data);\r\n        });\r\n    }\r\n\r\n    public async_write_data(callback?: () => void): void {\r\n        gm.data.event_emitter.emit(StartData.EVENT_DATA_CHANGE);\r\n        super.async_write_data(callback);\r\n    }\r\n}"]}