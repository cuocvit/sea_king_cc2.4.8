{"version":3,"sources":["assets\\start-scene\\scripts\\GuideGiftEntry.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAM;AACN,6CAAmC;AACnC,+CAA8C;AAExC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA6B,kCAAY;IAAzC;QAAA,qEA0CC;QAxCW,cAAQ,GAAqB,IAAI,CAAC;QAGlC,oBAAc,GAAmB,IAAI,CAAC;QAGtC,cAAQ,GAAoB,IAAI,CAAC;QAEjC,aAAO,GAAW,CAAC,CAAC;QACpB,mBAAa,GAAW,CAAC,CAAC;;IA+BtC,CAAC;IA5Ba,iCAAQ,GAAlB;QACI,gBAAE,CAAC,EAAE,CAAC,EAAE,CAAC,iBAAiB,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;QACpD,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,EAAE,CAAC;IAC9B,CAAC;IAES,+BAAM,GAAhB,cAA2B,CAAC;IAElB,kCAAS,GAAnB;QACI,gBAAE,CAAC,EAAE,CAAC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;IACzD,CAAC;IAEO,oCAAW,GAAnB;QACI,IAAI,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,UAAU,EAAE;YAC3C,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;gBAClB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC;aACnC;YACD,gBAAE,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACvB,OAAO;SACV;QACD,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,IAAI,CAAC;IACtC,CAAC;IAEO,uDAA8B,GAAtC,UAAuC,KAAe;;QAClD,IAAI,KAAK,CAAC,MAAM,WAAI,IAAI,CAAC,QAAQ,0CAAE,IAAI,CAAA,EAAE;YACrC,gBAAE,CAAC,EAAE,CAAC,UAAU,CAAC,gBAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;SACxC;IACL,CAAC;IAvCD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;oDACsB;IAG1C;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;0DAC4B;IAG9C;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;oDACsB;IARvC,cAAc;QADnB,OAAO;OACF,cAAc,CA0CnB;IAAD,qBAAC;CA1CD,AA0CC,CA1C4B,2BAAY,GA0CxC;AAEQ,wCAAc","file":"","sourceRoot":"/","sourcesContent":["// +-+\r\nimport { gm } from './GameManager';\r\nimport { NodePoolItem } from './NodePoolItem';\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nclass GuideGiftEntry extends NodePoolItem {\r\n    @property(cc.Button)\r\n    private Gift_btn: cc.Button | null = null;\r\n\r\n    @property(cc.Node)\r\n    private red_point_node: cc.Node | null = null;\r\n\r\n    @property(cc.Label)\r\n    private time_lbl: cc.Label | null = null;\r\n\r\n    private endTime: number = 0;\r\n    private timeContainer: number = 0;\r\n\r\n\r\n    protected onEnable(): void {\r\n        gm.ui.on(\"guideGiftChange\", this.update_view, this);\r\n        this.update_view();\r\n        this.time_lbl.string = \"\";\r\n    }\r\n\r\n    protected update(): void { }\r\n\r\n    protected onDisable(): void {\r\n        gm.ui.off(\"guideGiftChange\", this.update_view, this);\r\n    }\r\n\r\n    private update_view(): void {\r\n        if (gm.data.mapCell_data.guideGift.guideIsGet) {\r\n            if (this.node.parent) {\r\n                this.node.parent.active = false;\r\n            }\r\n            gm.pool.put(this.node);\r\n            return;\r\n        }\r\n        this.red_point_node.active = true;\r\n    }\r\n\r\n    private editor_on_button_click_handler(event: cc.Event): void {\r\n        if (event.target == this.Gift_btn?.node) {\r\n            gm.ui.show_panel(gm.const.GUIDEGIFT);\r\n        }\r\n    }\r\n}\r\n\r\nexport { GuideGiftEntry };"]}