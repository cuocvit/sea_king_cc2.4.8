{"version":3,"sources":["assets\\start-scene\\scripts\\CoinMgr.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAM;AACA,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAC5C,6CAAmC;AAGnC;IAA6B,2BAAY;IAAzC;QAAA,qEAqCC;QAnCW,aAAO,GAAoB,IAAI,CAAC;QAGhC,gBAAU,GAAoB,IAAI,CAAC;QAGnC,gBAAU,GAAmB,IAAI,CAAC;QAGlC,aAAO,GAAmB,IAAI,CAAC;;IA0B3C,CAAC;IAxBa,0BAAQ,GAAlB;QACI,gBAAE,CAAC,EAAE,CAAC,EAAE,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAEO,6BAAW,GAAnB;QACI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QAC3E,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;QACjF,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;IACjF,CAAC;IAEO,iCAAe,GAAvB;QACI,gBAAE,CAAC,EAAE,CAAC,eAAe,CAAC,gBAAE,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;QACrD,gBAAE,CAAC,EAAE,CAAC,UAAU,CAAC,gBAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IACzC,CAAC;IAEO,oCAAkB,GAA1B;QACI,gBAAE,CAAC,EAAE,CAAC,eAAe,CAAC,gBAAE,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QACpD,gBAAE,CAAC,EAAE,CAAC,UAAU,CAAC,gBAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IACzC,CAAC;IAES,2BAAS,GAAnB;QACI,gBAAE,CAAC,EAAE,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;IACrD,CAAC;IAlCD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;4CACqB;IAGxC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;+CACwB;IAG3C;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;+CACwB;IAG1C;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;4CACqB;IAX9B,OAAO;QADnB,OAAO;OACK,OAAO,CAqCnB;IAAD,cAAC;CArCD,AAqCC,CArC4B,EAAE,CAAC,SAAS,GAqCxC;AArCY,0BAAO","file":"","sourceRoot":"/","sourcesContent":["// +-+\r\nconst { ccclass, property } = cc._decorator;\r\nimport { gm } from \"./GameManager\";\r\n\r\n@ccclass\r\nexport class CoinMgr extends cc.Component {\r\n    @property(cc.Label)\r\n    private coinLbl: cc.Label | null = null;\r\n\r\n    @property(cc.Label)\r\n    private diamondLbl: cc.Label | null = null;\r\n\r\n    @property(cc.Node)\r\n    private diamondAdd: cc.Node | null = null;\r\n\r\n    @property(cc.Node)\r\n    private coinAdd: cc.Node | null = null;\r\n\r\n    protected onEnable(): void {\r\n        gm.ui.on(\"coin_change\", this.refreshCoin, this);\r\n        this.refreshCoin();\r\n    }\r\n\r\n    private refreshCoin(): void {\r\n        this.coinLbl.string = gm.data.mapCell_data.roleCoinData.coinNum.toString();\r\n        this.diamondLbl.string = gm.data.mapCell_data.roleCoinData.diamondNum.toString();\r\n        this.diamondAdd.active = this.coinAdd.active = !gm.data.mapCell_data.isGuide;\r\n    }\r\n\r\n    private onClickOpenCoin(): void {\r\n        gm.ui.set_module_args(gm.const.GETCOINOP.key, false);\r\n        gm.ui.show_panel(gm.const.GETCOINOP);\r\n    }\r\n\r\n    private onClickOpendiamond(): void {\r\n        gm.ui.set_module_args(gm.const.GETCOINOP.key, true);\r\n        gm.ui.show_panel(gm.const.GETCOINOP);\r\n    }\r\n\r\n    protected onDisable(): void {\r\n        gm.ui.off(\"coin_change\", this.refreshCoin, this);\r\n    }\r\n}\r\n"]}