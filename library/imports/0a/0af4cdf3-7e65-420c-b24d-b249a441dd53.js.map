{"version":3,"sources":["assets\\start-scene\\scripts\\SettingsData.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,IAAI;AACJ,6CAAmC;AACnC,6CAA4C;AAE5C,IAAI;AACJ;IAAkC,gCAAW;IAI3C,IAAI;IACJ;QAAA,YACE,iBAAO,SAER;QADC,KAAI,CAAC,WAAW,GAAG,cAAc,CAAC,CAAC,kBAAkB;;IACvD,CAAC;IAED,QAAQ;IACD,sCAAe,GAAtB,UAA0B,QAA4B;QAAtD,iBAQC;QAPC,iBAAM,eAAe,YAAC,UAAC,IAAO;YAC5B,IAAI,CAAC,KAAI,CAAC,OAAO,EAAE;gBACjB,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,KAAI,CAAC,gBAAgB,EAAE,CAAC;aACzB;YACD,IAAI,QAAQ;gBAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC;IACL,CAAC;IAGD,IAAI;IACG,uCAAgB,GAAvB,UAAwB,QAAqB;QAC3C,gBAAE,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,CAAC;QAC3D,iBAAM,gBAAgB,YAAC,QAAQ,CAAC,CAAC;IACnC,CAAC;IAzBD,IAAI;IACmB,8BAAiB,GAAW,sBAAsB,CAAC;IAyB5E,mBAAC;CA3BD,AA2BC,CA3BiC,yBAAW,GA2B5C;AA3BY,oCAAY","file":"","sourceRoot":"/","sourcesContent":["// @\r\nimport { gm } from './GameManager';\r\nimport { StorageBase } from './StorageBase';\r\n\r\n// @\r\nexport class SettingsData extends StorageBase {\r\n  // @\r\n  public static readonly EVENT_DATA_CHANGE: string = \"settings_data_change\";\r\n\r\n  // @\r\n  constructor() {\r\n    super();\r\n    this.STORAGE_KEY = \"SettingsData\"; // (extends super)\r\n  }\r\n\r\n  // @ !!!\r\n  public async_read_data<T>(callback?: (data: T) => void): void {\r\n    super.async_read_data((data: T) => {\r\n      if (!this.is_init) {\r\n        this.is_init = true;\r\n        this.async_write_data();\r\n      }\r\n      if (callback) callback(data);\r\n    });\r\n  }\r\n\r\n  \r\n  // @\r\n  public async_write_data(callback?: () => void): void {\r\n    gm.data.event_emitter.emit(SettingsData.EVENT_DATA_CHANGE);\r\n    super.async_write_data(callback);\r\n  }\r\n}\r\n"]}