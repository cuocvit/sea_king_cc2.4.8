{"version":3,"sources":["assets\\start-scene\\scripts\\MainMapItem.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAI;AACJ,iCAAgC;AAChC,yCAAoF;AACpF,6CAAmC;AACnC,uCAAkC,CAAC,KAAK;AACxC,iDAA4C,CAAC,KAAK;AAClD,+CAA8C;AAIxC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAE5C,EAAE;AAEF;IAAyC,+BAAY;IAiDjD,IAAI;IACJ;QAAA,YACI,iBAAO,SAaV;QA9DO,cAAQ,GAAY,IAAI,CAAC;QAGzB,cAAQ,GAAY,IAAI,CAAC;QAGzB,aAAO,GAAa,IAAI,CAAC;QAGzB,QAAE,GAAY,IAAI,CAAC;QAGpB,cAAQ,GAAY,IAAI,CAAC;QAGzB,kBAAY,GAAY,IAAI,CAAC;QAG5B,iBAAW,GAAY,IAAI,CAAC;QAG5B,cAAQ,GAAa,IAAI,CAAC;QAG1B,eAAS,GAAY,IAAI,CAAC;QAG3B,eAAS,GAAY,IAAI,CAAC;QAGzB,cAAQ,GAAY,IAAI,CAAC;QAGzB,cAAQ,GAAsB,IAAI,CAAC;QAGnC,cAAQ,GAAsB,IAAI,CAAC;QAcvC,KAAI,CAAC,UAAU,GAAG;YACd,EAAE,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,KAAK;YAC9B,EAAE,CAAC,KAAK,CAAC,MAAM,EAAE,EAAE,CAAC,KAAK,CAAC,MAAM;YAChC,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI;YAC3B,EAAE,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI;SAChC,CAAC;QACF,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,KAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;QAClB,KAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,KAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,KAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;;IACvB,CAAC;IAED,cAAc;IACP,8BAAQ,GAAf,UAAgB,IAAa,EAAE,QAAgB,EAAE,QAAgB,EAAE,MAAuB;QAA1F,iBAgEC;QAhEkE,uBAAA,EAAA,cAAuB;QACtF,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC;QAC1B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;QAC1B,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,EAAE,CAAC;QAC9C,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;QAC3C,aAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,sBAAU,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;QAElG,IAAI,EAAE,IAAI,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE;YAClC,aAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,sBAAU,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;SACtG;QAED,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC;QACpD,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE;YACtB,IAAM,GAAG,GAAG,gBAAE,CAAC,MAAM,CAAC,YAAY,CAAC,oBAAoB,EAAE,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,EAAE,CAAmB,CAAC;YAC1G,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC;YAChD,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC;YAChD,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC;YACzD,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACpC,IAAI,GAAG,EAAE;gBACL,IAAI,EAAE,IAAI,GAAG,CAAC,MAAM,EAAE;oBAClB,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE;wBAClC,gBAAE,CAAC,IAAI,CAAC,SAAS,CAAC,sBAAU,CAAC,GAAG,EAAE,GAAG,CAAC,MAAM,EAAE,2BAAY,EAAE,UAAC,CAAC;4BAC1D,IAAI,CAAC,IAAI,KAAI,CAAC,QAAQ,CAAC,aAAa,EAAE;gCAClC,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;6BAClC;wBACL,CAAC,CAAC,CAAA;qBACL;iBACJ;qBAAM;oBACH,aAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,sBAAU,CAAC,IAAI,EAAE,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;iBAC5G;aACJ;SACJ;QACD,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;QAE9B,IAAM,YAAY,GAAG,gBAAE,CAAC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QACpF,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,YAAY,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YACtD,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,EAAE;gBAC1B,IAAI,CAAC,CAAC,IAAI,YAAY,CAAC,KAAK,CAAC,EAAE;oBAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;oBAC5B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;oBAC7B,MAAM;iBACT;gBACD,IAAI,CAAC,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,EAAE;oBAC1D,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;oBAC5B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;oBAC7B,MAAM;iBACT;aACJ;SACJ;QAED,IAAI,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;YAChC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;SAChC;QAED,IAAI,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC;QAClC,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE,CAAC;IAC1C,CAAC,EAAC,gBAAgB;IAElB,+BAA+B;IACrB,8BAAQ,GAAlB;QACI,IAAI,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;YAChC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;SAC3E;QAED,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,EAAE;YACpB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC;YACvD,aAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,sBAAU,CAAC,IAAI,EAAE,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAClI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;YAExB,IAAM,YAAY,GAAG,gBAAE,CAAC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YACpF,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;YAC7B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;YAE9B,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,YAAY,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;gBACtD,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,EAAE;oBAC1B,IAAI,CAAC,CAAC,IAAI,YAAY,CAAC,KAAK,CAAC,EAAE;wBAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;wBAC5B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;wBAC7B,MAAM;qBACT;oBACD,IAAI,CAAC,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,EAAE;wBAC1D,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;wBAC5B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;wBAC7B,MAAM;qBACT;iBACJ;aACJ;YAED,IAAI,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;gBAChC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;gBAC5B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;aAChC;SAEJ;aAAM,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,EAAE;YAC3B,aAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,sBAAU,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;YAC1G,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC;YAC9B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;YAC9B,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;YAC7B,IAAI,CAAC,gBAAgB,EAAE,CAAC;SAE3B;aAAM,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,EAAE;YAC3B,aAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,sBAAU,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;YAC1G,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC;YAC9B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;YAC9B,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;YAC7B,IAAI,CAAC,yBAAyB,EAAE,CAAC;SAEpC;aAAM,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,EAAE;YAC3B,aAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,sBAAU,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;YAC1G,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC;YAC9B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;YAC9B,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;YAC7B,IAAI,CAAC,eAAe,EAAE,CAAC;SAC1B;IACL,CAAC,EAAC,gBAAgB;IAElB,QAAQ;IACA,kCAAY,GAApB;QACI,IAAI,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,IAAI,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,yBAAa,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,yBAAa,CAAC,aAAa,CAAC,CAAC,QAAQ,EAAE;YACzK,gBAAE,CAAC,EAAE,CAAC,eAAe,CAAC,gBAAE,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,EAAE,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,yBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,CAAC;YACnH,gBAAE,CAAC,EAAE,CAAC,iBAAiB,CAAC,gBAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;SAC/C;IACL,CAAC;IAED,SAAS;IACF,wCAAkB,GAAzB,UAA0B,OAAe;QACrC,IAAI,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE;YACrC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,uBAAa,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;SAC5F;IACL,CAAC;IAED,QAAQ;IACD,mCAAa,GAApB;QACI,IAAI,IAAI,CAAC,YAAY,CAAC,aAAa,GAAG,CAAC,EAAE;YACrC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,uBAAa,CAAC,CAAC,aAAa,EAAE,CAAC;SAC7E;IACL,CAAC;IAED,QAAQ;IACA,mCAAa,GAArB;QACI,IAAI,IAAI,CAAC,YAAY,CAAC,aAAa,GAAG,CAAC,EAAE;YACrC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,uBAAa,CAAC,CAAC,aAAa,EAAE,CAAC;SAC7E;IACL,CAAC;IAED,QAAQ;IACD,iCAAW,GAAlB;QACI,IAAI,IAAI,CAAC,QAAQ,CAAC,aAAa,GAAG,CAAC,EAAE;YACjC,IAAI,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC;SACrC;IACL,CAAC;IAED,QAAQ;IACD,iCAAW,GAAlB;QAAA,iBAuEC;QAtEG,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC;QAChC,IAAM,OAAO,GAAG,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAE5E,IAAI,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE;YAC3D,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC;YAC7C,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;YACxB,IAAI,OAAO,IAAI,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE;gBAC/B,IAAM,OAAO,GAAG,gBAAE,CAAC,EAAE,CAAC,SAAS,CAAC;gBAChC,IAAI,OAAO,EAAE;oBACT,IAAI,CAAC,IAAI,OAAO,CAAC,QAAQ,EAAE;wBACvB,IAAI,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC;wBAClC,IAAI,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE;4BACrC,IAAI,CAAC,YAAY,CAAC,OAAO,GAAG,GAAG,CAAC;4BAChC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,uBAAa,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;yBAC/E;6BAAM;4BACH,IAAM,WAAW,GAAG,EAAE,CAAC,WAAW,CAAC,OAAO,CAAC,eAAe,CAAC,CAAA;4BAC3D,WAAW,CAAC,YAAY,CAAC,uBAAa,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;4BAC1D,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;yBAC3C;qBACJ;yBAAM;wBACH,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE,CAAC;wBACtC,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE;4BACjC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,kBAAQ,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;yBACtE;6BAAM;4BACH,IAAM,WAAW,GAAG,EAAE,CAAC,WAAW,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;4BAC3D,WAAW,CAAC,YAAY,CAAC,kBAAQ,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;4BACrD,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;yBACvC;qBACJ;iBACJ;aACJ;iBAAM;gBACH,IAAI,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC;gBAClC,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE,CAAC;gBACtC,IAAI,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;oBAChC,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE;wBAClC,gBAAE,CAAC,IAAI,CAAC,SAAS,CAAC,sBAAU,CAAC,GAAG,EAAE,cAAc,EAAE,2BAAY,EAAE,UAAC,CAAC;4BAC9D,IAAI,CAAC,IAAI,KAAI,CAAC,QAAQ,CAAC,aAAa,EAAE;gCAClC,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;gCAC/B,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;gCACb,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC;6BAClB;wBACL,CAAC,CAAC,CAAC;qBACN;iBACJ;qBAAM,IAAI,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;oBACvC,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE;wBAClC,gBAAE,CAAC,IAAI,CAAC,SAAS,CAAC,sBAAU,CAAC,GAAG,EAAE,aAAa,EAAE,2BAAY,EAAE,UAAC,CAAC;4BAC7D,IAAI,CAAC,IAAI,KAAI,CAAC,QAAQ,CAAC,aAAa,EAAE;gCAClC,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;gCAC/B,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;gCAClB,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC;gCACf,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;gCACb,KAAI,CAAC,MAAM,GAAG,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;gCAC1C,KAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;6BAC9C;wBACL,CAAC,CAAC,CAAC;qBACN;iBACJ;qBAAM,IAAI,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE;oBAC3E,gBAAE,CAAC,IAAI,CAAC,SAAS,CAAC,sBAAU,CAAC,GAAG,EAAE,gBAAgB,EAAE,2BAAY,EAAE,UAAC,CAAC;wBAChE,IAAI,CAAC,IAAI,KAAI,CAAC,QAAQ,CAAC,aAAa,EAAE;4BAClC,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;4BAC/B,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;4BACjB,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;4BACb,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC;yBACjB;oBACL,CAAC,CAAC,CAAA;iBACL;aACJ;SACJ;aAAM;YACH,IAAI,CAAC,eAAe,EAAE,CAAC;SAC1B;IACL,CAAC,EAAC,mBAAmB;IAErB,aAAa;IACL,sCAAgB,GAAxB;QAAA,iBA6BC;QA5BG,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;QAC9B,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC;QAC9B,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC;QAElC,aAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,sBAAU,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;QAE1G,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAC3B,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,QAAQ,CAAC;YACvC,aAAK,CAAC,sBAAsB,CAAC,KAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,sBAAU,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;QAC9G,CAAC,CAAC,EACE,EAAE,CAAC,SAAS,CAAC,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,EACjC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,EACb,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAC3B,EAAE,CAAC,QAAQ,CAAC;YACR,aAAK,CAAC,sBAAsB,CAAC,KAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,sBAAU,CAAC,IAAI,EAAE,MAAM,GAAG,KAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAClI,KAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;YAC5B,KAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;YAC5B,KAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;YAC7B,KAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;YAC5B,KAAI,CAAC,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC;YAChC,KAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC;YACrC,KAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,GAAG,CAAC;YAC5B,KAAI,CAAC,WAAW,EAAE,CAAC;YACnB,KAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;QACtB,CAAC,CAAC,EACF,EAAE,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,sBAAsB,EAAE,CAAC,CAAC,CAAC,CAAA;IACvG,CAAC,EAAC,wBAAwB;IAE1B,aAAa;IACL,+CAAyB,GAAjC;QAAA,iBA6BC;QA5BG,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;QAC9B,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC;QAC9B,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC;QAClC,gBAAE,CAAC,KAAK,CAAC,WAAW,CAAC,gBAAE,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;QAClD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC;QAEjE,aAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,sBAAU,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;QAC1G,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,SAAS,CAAC,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,QAAQ,CAAC;YACrJ,KAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;YAC7B,KAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;YAC5B,KAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,GAAG,CAAC;YACpC,KAAI,CAAC,WAAW,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC;YACxC,KAAI,CAAC,WAAW,CAAC,OAAO,GAAG,GAAG,CAAC;YAC/B,KAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC;YACrC,KAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,GAAG,CAAC;QAChC,CAAC,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,sBAAsB,EAAE,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,QAAQ,CAAC;YAC1I,KAAI,CAAC,WAAW,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;YAC3D,KAAI,CAAC,WAAW,CAAC,OAAO,GAAG,GAAG,CAAC;YAC/B,KAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;YACxD,KAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,GAAG,CAAC;YAC5B,KAAI,CAAC,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;YAC9B,KAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;QACjC,CAAC,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,QAAQ,CAAC;YACtG,KAAI,CAAC,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;YAC9B,KAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;QACjC,CAAC,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAA;IACvC,CAAC,EAAC,iCAAiC;IAEnC,aAAa;IACN,sCAAgB,GAAvB;QAAA,iBAiBC;QAhBG,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,QAAQ,CAAC;YACjG,aAAK,CAAC,sBAAsB,CAAC,KAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,sBAAU,CAAC,IAAI,EAAE,MAAM,GAAG,KAAI,CAAC,WAAW,CAAC,SAAS,CAAC;gBAC7H,KAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;YACjC,KAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;YAC5B,KAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,GAAG,CAAC;YACpC,KAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC;YACrC,KAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,GAAG,CAAC;YAC5B,KAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;YAClB,KAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;YAC5B,KAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;QAChC,CAAC,CAAC,EACE,EAAE,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,sBAAsB,EAAE,CAAC,EAC/D,EAAE,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EACxD,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EACzD,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAA;IACjE,CAAC,EAAC,wBAAwB;IAE1B,aAAa;IACN,kCAAY,GAAnB,UAAoB,SAA0B;QAA1B,0BAAA,EAAA,iBAA0B;QAC1C,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC;QAChC,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAM,OAAO,GAAG,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAC5E,IAAI,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE;YAC3D,IAAI,OAAO,IAAI,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE;gBAC/B,IAAI,gBAAE,CAAC,EAAE,CAAC,SAAS,EAAE;oBACjB,IAAI,CAAC,IAAI,OAAO,CAAC,QAAQ,EAAE;wBACvB,IAAI,CAAC,YAAY,CAAC,OAAO,GAAG,GAAG,CAAC;qBACnC;yBAAM;wBACH,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;qBAC3B;iBACJ;aACJ;iBAAM;gBACH,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;gBACxB,IAAI,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC;gBAClC,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE,CAAC;aACzC;SACJ;IACL,CAAC,EAAC,oBAAoB;IAEtB,aAAa;IACL,qCAAe,GAAvB;QACI,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;QAC3D,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,GAAG,CAAC;QAE/B,IAAM,OAAO,GAAG,gBAAE,CAAC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAC/E,IAAI,OAAO,IAAI,CAAC,GAAG,OAAO,CAAC,QAAQ,IAAI,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE;YACvD,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,IAAI,OAAO,CAAC,QAAQ,EAAE;gBACvB,IAAM,OAAO,GAAG,gBAAE,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;gBACnE,IAAI,OAAO,EAAE;oBACT,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,OAAO,CAAC,OAAO,CAAC;oBACrC,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,OAAO,CAAC,MAAM,GAAG,EAAE,CAAC;iBAC5C;aACJ;iBAAM,IAAI,CAAC,IAAI,OAAO,CAAC,QAAQ,EAAE;gBAC9B,IAAM,QAAQ,GAAG,gBAAE,CAAC,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;gBACrE,IAAI,QAAQ,EAAE;oBACV,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC;oBACtC,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,QAAQ,CAAC,MAAM,GAAG,EAAE,CAAC;iBAC7C;aACJ;iBAAM;gBACH,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC;gBACvB,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,EAAE,CAAC;aAC3B;YAED,IAAI,CAAC,IAAI,OAAO,CAAC,QAAQ,EAAE;gBACvB,aAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,sBAAU,CAAC,GAAG,EAAE,YAAY,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;gBACtH,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,QAAQ,CAAA;aACpC;iBAAM;gBACH,IAAM,MAAM,GAAG,KAAK,IAAI,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC;gBAChE,IAAM,OAAO,GAAG,gBAAE,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;gBAC3D,IAAI,OAAO,EAAE;oBACT,aAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,sBAAU,CAAC,GAAG,EAAE,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;iBACjH;gBACD,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,CAAC,CAAC;aAC9B;SACJ;IACL,CAAC,EAAC,uBAAuB;IAEzB,aAAa;IACN,yCAAmB,GAA1B,UAA2B,KAAc,EAAE,MAAkB;QAAlB,uBAAA,EAAA,UAAkB;QACzD,IAAM,OAAO,GAAG,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAC5E,IAAI,OAAO,EAAE;YACT,IAAI,OAAO,CAAC,MAAM,IAAI,MAAM;gBAAE,OAAO;YACrC,IAAI,IAAI,CAAC,WAAW,CAAC,QAAQ,IAAI,wBAAY,CAAC,WAAW;gBAAE,OAAO;YAClE,IAAI,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,IAAI,OAAO,CAAC,QAAQ,IAAI,wBAAY,CAAC,UAAU;gBAAE,OAAO;SAC3F;QAED,IAAI,CAAC,IAAI,MAAM,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,gBAAE,CAAC,EAAE,CAAC,SAAS,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;YAC9F,IAAI,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;gBAChC,IAAI,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE;oBAC9B,OAAO,SAAS,CAAC;iBACpB;qBAAM;oBACH,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;oBACjD,IAAI,CAAC,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE;wBAC/B,gBAAE,CAAC,EAAE,CAAC,IAAI,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC;qBAC/C;oBACD,OAAO;iBACV;aAEJ;iBAAM,IAAI,OAAO,IAAI,KAAK,IAAI,OAAO,CAAC,MAAM,IAAI,MAAM,IAAI,OAAO,CAAC,MAAM,EAAE;gBACvE,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;gBACrE,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,kBAAQ,CAAC,EAAE;oBACrF,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,kBAAQ,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC;iBAC/E;gBAED,IAAI,CAAC,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,IAAI,OAAO,CAAC,QAAQ,IAAI,wBAAY,CAAC,UAAU,EAAE;oBAC9E,gBAAE,CAAC,EAAE,CAAC,IAAI,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC;oBAC5C,IAAI,CAAC,YAAY,EAAE,CAAC;oBACpB,OAAO,IAAI,CAAC;iBAEf;qBAAM;oBACH,OAAO,SAAS,CAAC;iBACpB;aACJ;SACJ;IACL,CAAC,EAAC,2BAA2B;IAE7B,2BAA2B;IACjB,+BAAS,GAAnB;QACI,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,IAAI,GAAG,EAAE;YAChC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;SAC5E;IACL,CAAC;IAED,IAAI;IACI,6BAAO,GAAf;QACI,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE;YAC1C,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;SACtB;QACD,IAAI,CAAC,EAAE,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACpD,CAAC;IAjfD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;iDACe;IAGjC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;iDACe;IAGjC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;gDACc;IAGjC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;2CACS;IAG3B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;iDACc;IAGhC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;qDACkB;IAGpC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;oDACkB;IAGpC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;iDACe;IAGlC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;kDACgB;IAGlC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;kDACe;IAGjC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;iDACe;IAGjC;QADC,QAAQ,CAAC,EAAE,CAAC,cAAc,CAAC;iDACe;IAG3C;QADC,QAAQ,CAAC,EAAE,CAAC,cAAc,CAAC;iDACe;IAtC1B,WAAW;QAD/B,OAAO;OACa,WAAW,CAof/B;IAAD,kBAAC;CApfD,AAofC,CApfwC,2BAAY,GAofpD;kBApfoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["// @\r\nimport { Utils } from './Utils';\r\nimport { BundleName, BuildTypeEnum, PropTypeEnum, ItemTypeEnum } from './Constants';\r\nimport { gm } from './GameManager';\r\nimport PropItem from './PropItem'; // js\r\nimport BuildIconItem from './BuildIconItem'; // js\r\nimport { NodePoolItem } from './NodePoolItem';\r\nimport { DecorateConfig } from '../../common/configs/decorate';\r\nimport { MapCell } from '../../common/configs/mapcell';\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n//\r\n@ccclass\r\nexport default class MainMapItem extends NodePoolItem {\r\n    @property(cc.Node)\r\n    private landNode: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    private treeNode: cc.Node = null;\r\n\r\n    @property(cc.Label)\r\n    private itemNum: cc.Label = null;\r\n\r\n    @property(cc.Node)\r\n    private bg: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    public itemNode: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    public mapBuildNode: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    private lockImgNode: cc.Node = null;\r\n\r\n    @property(cc.Label)\r\n    private lblIndex: cc.Label = null;\r\n\r\n    @property(cc.Node)\r\n    private waterNode: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    public touchNode: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    private waveNode: cc.Node = null;\r\n\r\n    @property(cc.ParticleSystem)\r\n    private shuihua1: cc.ParticleSystem = null;\r\n\r\n    @property(cc.ParticleSystem)\r\n    private shuihua2: cc.ParticleSystem = null;\r\n\r\n    // private\r\n    private readonly _colorList: cc.Color[];\r\n    private _mapItemCfg: MapCell;\r\n    private _mapType: number;\r\n    private _mapIndex: number;\r\n    private _curIndex: number;\r\n    private _isNextCell: boolean;\r\n    private _spine: sp.Skeleton;\r\n\r\n    // @\r\n    constructor() {\r\n        super();\r\n        this._colorList = [\r\n            cc.Color.WHITE, cc.Color.GREEN,\r\n            cc.Color.ORANGE, cc.Color.YELLOW,\r\n            cc.Color.RED, cc.Color.BLUE,\r\n            cc.Color.BLACK, cc.Color.GRAY\r\n        ];\r\n        this._mapItemCfg = null;\r\n        this._mapType = 1;\r\n        this._mapIndex = 1;\r\n        this._curIndex = 0;\r\n        this._isNextCell = false;\r\n        this._spine = null;\r\n    }\r\n\r\n    // @, !!! type\r\n    public initData(item: MapCell, number01: number, number02: number, isTrue: boolean = false): void {\r\n        this._isNextCell = isTrue;\r\n        this._mapItemCfg = item;\r\n        this._mapType = number01;\r\n        this._mapIndex = number02;\r\n        this.lblIndex.string = \"\";\r\n        this.itemNum.string = \"\";\r\n        this.waterNode.active = true;\r\n        this.waveNode.active = true;\r\n        this.node.name = this._mapItemCfg.cellID + \"\";\r\n        this.node.zIndex = this._mapItemCfg.cellID;\r\n        Utils.async_set_sprite_frame(this.waterNode.getComponent(cc.Sprite), BundleName.TEST, \"res/2003\");\r\n\r\n        if (23 == this._mapItemCfg.landImgID) {\r\n            Utils.async_set_sprite_frame(this.waterNode.getComponent(cc.Sprite), BundleName.TEST, \"res/yiban\");\r\n        }\r\n\r\n        this.treeNode.active = 0 < this._mapItemCfg.plantID;\r\n        if (this.treeNode.active) {\r\n            const row = gm.config.get_row_data(\"DecorateConfigData\", this._mapItemCfg.plantID + \"\") as DecorateConfig;\r\n            this.treeNode.x = this._mapItemCfg.plantXOffset;\r\n            this.treeNode.y = this._mapItemCfg.plantYOffset;\r\n            this.treeNode.getComponent(cc.Sprite).spriteFrame = null;\r\n            gm.pool.put_children(this.treeNode);\r\n            if (row) {\r\n                if (\"\" != row.animID) {\r\n                    if (0 == this.treeNode.childrenCount) {\r\n                        gm.pool.async_get(BundleName.MAP, row.animID, NodePoolItem, (t) => {\r\n                            if (0 == this.treeNode.childrenCount) {\r\n                                this.treeNode.addChild(t.node);\r\n                            }\r\n                        })\r\n                    }\r\n                } else {\r\n                    Utils.async_set_sprite_frame(this.treeNode.getComponent(cc.Sprite), BundleName.TEST, \"res/\" + row.imgID);\r\n                }\r\n            }\r\n        }\r\n        this.waveNode.active = false;\r\n        this.waterNode.active = false;\r\n\r\n        const callDireCell = gm.data.config_data.getCallDireCellID(this._mapItemCfg.cellID);\r\n        for (let index = 0; index < callDireCell.length; index++) {\r\n            if (1 == index || 2 == index) {\r\n                if (-1 == callDireCell[index]) {\r\n                    this.waveNode.active = true;\r\n                    this.waterNode.active = true;\r\n                    break;\r\n                }\r\n                if (!gm.data.mapCell_data.role_map_data[callDireCell[index]]) {\r\n                    this.waveNode.active = true;\r\n                    this.waterNode.active = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (198 == this._mapItemCfg.cellID) {\r\n            this.waveNode.active = true;\r\n            this.waterNode.active = true;\r\n        }\r\n\r\n        this.itemNode.removeAllChildren();\r\n        this.mapBuildNode.removeAllChildren();\r\n    } // end: initData\r\n\r\n    // @ !!! (LIFE-CYCLE CALLBACKS)\r\n    protected onEnable(): void {\r\n        if (186 == this._mapItemCfg.cellID) {\r\n            this.touchNode.on(cc.Node.EventType.TOUCH_END, this.onClickBuild, this);\r\n        }\r\n\r\n        if (1 == this._mapType) {\r\n            this.node.children[0].y = this._mapItemCfg.landYOffset;\r\n            Utils.async_set_sprite_frame(this.node.children[0].getComponent(cc.Sprite), BundleName.TEST, \"res/\" + this._mapItemCfg.landImgID);\r\n            this.showItemNode(true);\r\n\r\n            const callDireCell = gm.data.config_data.getCallDireCellID(this._mapItemCfg.cellID);\r\n            this.waveNode.active = false;\r\n            this.waterNode.active = false;\r\n\r\n            for (let index = 0; index < callDireCell.length; index++) {\r\n                if (1 == index || 2 == index) {\r\n                    if (-1 == callDireCell[index]) {\r\n                        this.waveNode.active = true;\r\n                        this.waterNode.active = true;\r\n                        break;\r\n                    }\r\n                    if (!gm.data.mapCell_data.role_map_data[callDireCell[index]]) {\r\n                        this.waveNode.active = true;\r\n                        this.waterNode.active = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (198 == this._mapItemCfg.cellID) {\r\n                this.waveNode.active = true;\r\n                this.waterNode.active = true;\r\n            }\r\n\r\n        } else if (3 == this._mapType) {\r\n            Utils.async_set_sprite_frame(this.node.children[0].getComponent(cc.Sprite), BundleName.TEST, \"res/water\");\r\n            this.node.children[0].y = -24;\r\n            this.waterNode.active = false;\r\n            this.waveNode.active = false;\r\n            this.playNormalUpAnim();\r\n\r\n        } else if (4 == this._mapType) {\r\n            Utils.async_set_sprite_frame(this.node.children[0].getComponent(cc.Sprite), BundleName.TEST, \"res/water\");\r\n            this.node.children[0].y = -24;\r\n            this.waterNode.active = false;\r\n            this.waveNode.active = false;\r\n            this.playComposeUnderWaterAnim();\r\n\r\n        } else if (2 == this._mapType) {\r\n            Utils.async_set_sprite_frame(this.node.children[0].getComponent(cc.Sprite), BundleName.TEST, \"res/water\");\r\n            this.node.children[0].y = -24;\r\n            this.waterNode.active = false;\r\n            this.waveNode.active = false;\r\n            this.showLockImgNode();\r\n        }\r\n    } // end: onEnable\r\n\r\n    // @ !!!\r\n    private onClickBuild(): void {\r\n        if (gm.data.mapCell_data.isGuide || gm.data.mapCell_data.buildData[BuildTypeEnum.WHARFTAX_TYPE] && 0 < gm.data.mapCell_data.buildData[BuildTypeEnum.WHARFTAX_TYPE].buildLvl) {\r\n            gm.ui.set_module_args(gm.const.BUILDINFO.key, gm.data.mapCell_data.buildData[BuildTypeEnum.WHARFTAX_TYPE].buildID);\r\n            gm.ui.async_show_module(gm.const.BUILDINFO);\r\n        }\r\n    }\r\n\r\n    // @ !!!!\r\n    public setBuildImgOpacity(opacity: number): void {\r\n        if (0 < this.mapBuildNode.childrenCount) {\r\n            this.mapBuildNode.children[0].getComponent(BuildIconItem).itemImg.node.opacity = opacity;\r\n        }\r\n    }\r\n\r\n    // @ !!!\r\n    public playScaleAnim(): void {\r\n        if (this.mapBuildNode.childrenCount > 0) {\r\n            this.mapBuildNode.children[0].getComponent(BuildIconItem).playScaleAnim();\r\n        }\r\n    }\r\n\r\n    // @ !!!\r\n    private stopScaleAnim(): void {\r\n        if (this.mapBuildNode.childrenCount > 0) {\r\n            this.mapBuildNode.children[0].getComponent(BuildIconItem).stopScaleAnim();\r\n        }\r\n    }\r\n\r\n    // @ !!!\r\n    public delItemNode(): void {\r\n        if (this.itemNode.childrenCount > 0) {\r\n            this.itemNode.removeAllChildren();\r\n        }\r\n    }\r\n\r\n    // @ !!!\r\n    public refreshItem(): void {\r\n        this.lockImgNode.active = false;\r\n        const roleMap = gm.data.mapCell_data.role_map_data[this._mapItemCfg.cellID];\r\n\r\n        if (gm.data.mapCell_data.getIsUnlock(this._mapItemCfg.cellID)) {\r\n            this.node.children[0].color = cc.Color.WHITE;\r\n            this.node.opacity = 255;\r\n            if (roleMap && 0 < roleMap.itemID) {\r\n                const mainMap = gm.ui.mapMainUI;\r\n                if (mainMap) {\r\n                    if (2 == roleMap.itemType) {\r\n                        this.itemNode.removeAllChildren();\r\n                        if (0 < this.mapBuildNode.childrenCount) {\r\n                            this.mapBuildNode.opacity = 255;\r\n                            this.mapBuildNode.children[0].getComponent(BuildIconItem).initData(roleMap);\r\n                        } else {\r\n                            const instantiate = cc.instantiate(mainMap.buildItemPrefab)\r\n                            instantiate.getComponent(BuildIconItem).initData(roleMap);\r\n                            this.mapBuildNode.addChild(instantiate);\r\n                        }\r\n                    } else {\r\n                        this.mapBuildNode.removeAllChildren();\r\n                        if (0 < this.itemNode.childrenCount) {\r\n                            this.itemNode.children[0].getComponent(PropItem).initData(roleMap);\r\n                        } else {\r\n                            const instantiate = cc.instantiate(mainMap.propItemPrefab);\r\n                            instantiate.getComponent(PropItem).initData(roleMap);\r\n                            this.itemNode.addChild(instantiate);\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                this.itemNode.removeAllChildren();\r\n                this.mapBuildNode.removeAllChildren();\r\n                if (223 == this._mapItemCfg.cellID) {\r\n                    if (0 == this.landNode.childrenCount) {\r\n                        gm.pool.async_get(BundleName.MAP, \"prefabs/tree\", NodePoolItem, (t) => {\r\n                            if (0 == this.landNode.childrenCount) {\r\n                                this.landNode.addChild(t.node);\r\n                                t.node.x = 0;\r\n                                t.node.y = -15;\r\n                            }\r\n                        });\r\n                    }\r\n                } else if (235 == this._mapItemCfg.cellID) {\r\n                    if (0 == this.landNode.childrenCount) {\r\n                        gm.pool.async_get(BundleName.MAP, \"prefabs/gui\", NodePoolItem, (t) => {\r\n                            if (0 == this.landNode.childrenCount) {\r\n                                this.landNode.addChild(t.node);\r\n                                t.node.scale = .5;\r\n                                t.node.x = -15;\r\n                                t.node.y = 0;\r\n                                this._spine = t.getComponent(sp.Skeleton);\r\n                                this._spine.setAnimation(0, \"stay2\", true);\r\n                            }\r\n                        });\r\n                    }\r\n                } else if (143 == this._mapItemCfg.cellID && 0 == this.landNode.childrenCount) {\r\n                    gm.pool.async_get(BundleName.MAP, \"prefabs/dongku\", NodePoolItem, (t) => {\r\n                        if (0 == this.landNode.childrenCount) {\r\n                            this.landNode.addChild(t.node);\r\n                            t.node.scale = 1;\r\n                            t.node.x = 0;\r\n                            t.node.y = 35;\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        } else {\r\n            this.showLockImgNode();\r\n        }\r\n    } // end: refreshItem\r\n\r\n    // @ type!!!!\r\n    private playNormalUpAnim(): void {\r\n        this.showLockImgNode();\r\n        this.waterNode.active = false;\r\n        this.waveNode.active = false;\r\n        this.node.children[0].y = -65;\r\n        this.node.children[0].opacity = 0;\r\n\r\n        Utils.async_set_sprite_frame(this.node.children[0].getComponent(cc.Sprite), BundleName.TEST, \"res/water\");\r\n\r\n        this.node.children[0].runAction(\r\n            cc.sequence(cc.delayTime(.05), cc.callFunc(() => {\r\n                Utils.async_set_sprite_frame(this.node.children[0].getComponent(cc.Sprite), BundleName.TEST, \"res/water\");\r\n            }),\r\n                cc.delayTime(.3 * this._mapIndex),\r\n                cc.fadeIn(.1),\r\n                cc.moveTo(.28, cc.v2(0, 9)),\r\n                cc.callFunc(() => {\r\n                    Utils.async_set_sprite_frame(this.node.children[0].getComponent(cc.Sprite), BundleName.TEST, \"res/\" + this._mapItemCfg.landImgID);\r\n                    this.shuihua1.resetSystem();\r\n                    this.shuihua2.resetSystem();\r\n                    this.waterNode.active = true;\r\n                    this.waveNode.active = true;\r\n                    this.lockImgNode.active = false;\r\n                    this.treeNode.color = cc.Color.WHITE;\r\n                    this.treeNode.opacity = 255;\r\n                    this.refreshItem();\r\n                    this._mapType = 1;\r\n                }),\r\n                cc.moveTo(.3, cc.v2(0, this._mapItemCfg.landYOffset)).easing(cc.easeQuadraticActionOut())))\r\n    } // end: playNormalUpAnim\r\n\r\n    // @ type!!!!\r\n    private playComposeUnderWaterAnim(): void {\r\n        this.showLockImgNode();\r\n        this.waterNode.active = false;\r\n        this.waveNode.active = false;\r\n        this.node.children[0].y = -65;\r\n        this.node.children[0].opacity = 0;\r\n        gm.audio.play_effect(gm.const.AUDIO_88_GEZISHENG);\r\n        this.node.children[0].getComponent(cc.Sprite).spriteFrame = null;\r\n\r\n        Utils.async_set_sprite_frame(this.node.children[0].getComponent(cc.Sprite), BundleName.TEST, \"res/water\");\r\n        this.node.children[0].runAction(cc.sequence(cc.delayTime(.1), cc.delayTime(.2 * this._mapIndex), cc.fadeIn(.05), cc.moveTo(.1, cc.v2(0, 9)), cc.callFunc(() => {\r\n            this.waterNode.active = true;\r\n            this.waveNode.active = true;\r\n            this.node.children[0].opacity = 255;\r\n            this.lockImgNode.color = cc.Color.WHITE;\r\n            this.lockImgNode.opacity = 255;\r\n            this.treeNode.color = cc.Color.WHITE;\r\n            this.treeNode.opacity = 255;\r\n        }), cc.moveTo(.25, cc.v2(0, 69)).easing(cc.easeQuadraticActionOut()), cc.moveTo(.28, cc.v2(0, 77)), cc.moveTo(.13, cc.v2(0, -1)), cc.callFunc(() => {\r\n            this.lockImgNode.color = cc.Color.WHITE.fromHEX(\"#00F0FF\");\r\n            this.lockImgNode.opacity = 100;\r\n            this.treeNode.color = cc.Color.WHITE.fromHEX(\"#00F0FF\");\r\n            this.treeNode.opacity = 100;\r\n            this.waterNode.active = false;\r\n            this.waveNode.active = false;\r\n        }), cc.moveTo(.13, cc.v2(0, -21)), cc.moveTo(.14, cc.v2(0, 21)), cc.moveTo(.16, cc.v2(0, 6)), cc.callFunc(() => {\r\n            this.waterNode.active = false;\r\n            this.waveNode.active = false;\r\n        }), cc.moveTo(.26, cc.v2(0, -30))))\r\n    } // end: playComposeUnderWaterAnim\r\n\r\n    // @ type!!!!\r\n    public playUnlockUpAnim(): void {\r\n        this.refreshItem();\r\n        this.node.children[0].runAction(cc.sequence(cc.moveTo(.1, cc.v2(0, 9)), cc.fadeOut(.05), cc.callFunc(() => {\r\n            Utils.async_set_sprite_frame(this.node.children[0].getComponent(cc.Sprite), BundleName.TEST, \"res/\" + this._mapItemCfg.landImgID),\r\n                this.waterNode.active = true;\r\n            this.waveNode.active = true;\r\n            this.node.children[0].opacity = 255;\r\n            this.treeNode.color = cc.Color.WHITE;\r\n            this.treeNode.opacity = 255;\r\n            this._mapType = 1;\r\n            this.shuihua1.resetSystem();\r\n            this.shuihua2.resetSystem();\r\n        }),\r\n            cc.moveTo(.1, cc.v2(0, 69)).easing(cc.easeQuadraticActionOut()),\r\n            cc.moveTo(.4, cc.v2(0, 77)), cc.moveTo(.2, cc.v2(0, -1)),\r\n            cc.moveTo(.25, cc.v2(0, 21)), cc.moveTo(.25, cc.v2(0, 0)),\r\n            cc.moveTo(.25, cc.v2(.1, this._mapItemCfg.landYOffset))))\r\n    } // end: playUnlockUpAnim\r\n\r\n    // @ type!!!!\r\n    public showItemNode(isRefresh: boolean = false): void {\r\n        this.lockImgNode.active = false;\r\n        this.refreshItem();\r\n        const roleMap = gm.data.mapCell_data.role_map_data[this._mapItemCfg.cellID];\r\n        if (gm.data.mapCell_data.getIsUnlock(this._mapItemCfg.cellID)) {\r\n            if (roleMap && 0 < roleMap.itemID) {\r\n                if (gm.ui.mapMainUI) {\r\n                    if (2 == roleMap.itemType) {\r\n                        this.mapBuildNode.opacity = 255;\r\n                    } else {\r\n                        this.node.opacity = 255;\r\n                    }\r\n                }\r\n            } else {\r\n                this.node.opacity = 255;\r\n                this.itemNode.removeAllChildren();\r\n                this.mapBuildNode.removeAllChildren();\r\n            }\r\n        }\r\n    } // end: showItemNode\r\n\r\n    // @ type!!!!\r\n    private showLockImgNode(): void {\r\n        this.lockImgNode.color = cc.Color.WHITE.fromHEX(\"#00F0FF\");\r\n        this.lockImgNode.opacity = 150;\r\n\r\n        const mapCell = gm.data.config_data.getMapCellCfgByID(this._mapItemCfg.cellID);\r\n        if (mapCell && 0 < mapCell.itemType && 0 < mapCell.itemID) {\r\n            this.lockImgNode.active = true;\r\n            if (1 == mapCell.itemType) {\r\n                const itemCfg = gm.data.config_data.getItemCfgByID(mapCell.itemID);\r\n                if (itemCfg) {\r\n                    this.lockImgNode.x = itemCfg.xoffset;\r\n                    this.lockImgNode.y = itemCfg.offset + 48;\r\n                }\r\n            } else if (2 == mapCell.itemType) {\r\n                const buildCfg = gm.data.config_data.getBuildCfgByID(mapCell.itemID);\r\n                if (buildCfg) {\r\n                    this.lockImgNode.x = buildCfg.xoffset;\r\n                    this.lockImgNode.y = buildCfg.offset + 48;\r\n                }\r\n            } else {\r\n                this.lockImgNode.x = 0;\r\n                this.lockImgNode.y = 48;\r\n            }\r\n\r\n            if (2 == mapCell.itemType) {\r\n                Utils.async_set_sprite_frame(this.lockImgNode.getComponent(cc.Sprite), BundleName.MAP, \"res/build/\" + mapCell.itemID);\r\n                this.lockImgNode.scale = .6666667\r\n            } else {\r\n                const itemID = 36001 == mapCell.itemID ? 18010 : mapCell.itemID;\r\n                const itemCfg = gm.data.config_data.getItemCfgByID(itemID);\r\n                if (itemCfg) {\r\n                    Utils.async_set_sprite_frame(this.lockImgNode.getComponent(cc.Sprite), BundleName.MAP, \"res/\" + itemCfg.icon);\r\n                }\r\n                this.lockImgNode.scale = 1;\r\n            }\r\n        }\r\n    } // end: showLockImgNode\r\n\r\n    // @ type!!!!\r\n    public playSameItemAnimEnd(event: cc.Vec2, itemId: number = 0): boolean | void {\r\n        const roleMap = gm.data.mapCell_data.role_map_data[this._mapItemCfg.cellID];\r\n        if (roleMap) {\r\n            if (roleMap.cellID == itemId) return;\r\n            if (this._mapItemCfg.itemType == PropTypeEnum.BARRIL_TYPE) return;\r\n            if (gm.data.mapCell_data.isGuide && roleMap.itemType == ItemTypeEnum.BUILD_TYPE) return;\r\n        }\r\n\r\n        if (0 != itemId && this.touchNode._hitTest(event) && !gm.ui.mapMainUI.barrelNode._hitTest(event)) {\r\n            if (186 == this._mapItemCfg.cellID) {\r\n                if (gm.data.mapCell_data.isGuide) {\r\n                    return undefined;\r\n                } else {\r\n                    gm.data.mapCell_data.changeCellData(itemId, 199);\r\n                    if (!gm.data.mapCell_data.isGuide) {\r\n                        gm.ui.emit(\"item_children_refresh\", itemId);\r\n                    }\r\n                    return;\r\n                }\r\n\r\n            } else if (roleMap && 11006 != roleMap.itemID && itemId != roleMap.cellID) {\r\n                gm.data.mapCell_data.changeCellData(itemId, this._mapItemCfg.cellID);\r\n                if (0 < this.itemNode.childrenCount && this.itemNode.children[0].getComponent(PropItem)) {\r\n                    this.itemNode.children[0].getComponent(PropItem).newItemNode.active = false;\r\n                }\r\n\r\n                if (!gm.data.mapCell_data.isGuide || roleMap.itemType != ItemTypeEnum.BUILD_TYPE) {\r\n                    gm.ui.emit(\"item_children_refresh\", itemId);\r\n                    this.showItemNode();\r\n                    return true;\r\n\r\n                } else {\r\n                    return undefined;\r\n                }\r\n            }\r\n        }\r\n    } // end: playSameItemAnimEnd\r\n\r\n    // @ (LIFE-CYCLE CALLBACKS)\r\n    protected onDisable(): void {\r\n        if (this._mapItemCfg.cellID == 186) {\r\n            this.touchNode.off(cc.Node.EventType.TOUCH_END, this.onClickBuild, this);\r\n        }\r\n    }\r\n\r\n    // @\r\n    private onClick(): void {\r\n        this._curIndex++;\r\n        if (this._curIndex >= this._colorList.length) {\r\n            this._curIndex = 0;\r\n        }\r\n        this.bg.color = this._colorList[this._curIndex];\r\n    }\r\n}\r\n"]}