{"version":3,"sources":["assets\\start-scene\\scripts\\TTMiniGame.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\"use strict\";\r\nimport { gm } from \"./GameManager\";\r\nimport { ChannelManager, REWARD_VIDEO_AD_TYPE, BANNER_AD_TYPE } from \"./ChannelManager\";\r\nimport { Utils } from \"./Utils\";\r\nimport { NetUtils, ReportData } from \"./NetUtils\";\r\nimport { Timer } from \"./Timer\";\r\n\r\ninterface type {\r\n    call: (context: any, num?: number) => any\r\n}\r\n\r\ninterface BaseAd {\r\n    show(): Promise<void>;\r\n    destroy(): void;\r\n    onLoad(callback: () => void): void;\r\n    onError(callback: (err: any) => void): void;\r\n}\r\n\r\ninterface BannerAd extends BaseAd {\r\n    hide(): void;\r\n    onResize(callback: (size: { width: number, height: number }) => void): void;\r\n    style: {\r\n        width: number;\r\n        top: number;\r\n        left: number;\r\n    };\r\n}\r\n\r\ninterface RewardedVideoAd extends BaseAd {\r\n    load(): Promise<void>;\r\n    onClose(callback: (res: { isEnded: boolean }) => void): void;\r\n}\r\n\r\ninterface InterstitialAd extends BaseAd {\r\n    load(): void;\r\n}\r\n\r\ninterface FollowButton {\r\n    onTap(callback: (t: { errCode: number }) => void): void;\r\n    show(): void;\r\n    hide(): void;\r\n    destroy?: () => void;\r\n}\r\n\r\n\r\nexport class TTMiniGame {\r\n    static _instance: TTMiniGame = null;\r\n    static ad_enable: boolean = true;\r\n    private _min_banner_ad_width: number;\r\n    private _banner_ad_id_array: string[];\r\n    private _video_ad_id_array: string[];\r\n    private _interstitial_ad_id: string;\r\n    private _interstitial_ad_is_show: number;\r\n    private _banner_ad_array: BannerAd[];\r\n    private _banner_ad_flag_array: boolean[];\r\n    private _banner_ad_loaded_array: boolean[];\r\n    private _video_ad_array: RewardedVideoAd[];\r\n    private _video_cb_array: type[];\r\n    private _video_cb_target_array: ChannelManager[];\r\n    private _video_close_cb_array: type[];\r\n    private _video_close_cb_target_array: ChannelManager[];\r\n    private _interstitial_ad: InterstitialAd;\r\n    private _share_id_array: string[];\r\n    private _default_share_id: string;\r\n    private _share_config_url: string;\r\n    private _record_start_time: number;\r\n    private _record_end_time: number;\r\n    private _is_share_record_video: boolean;\r\n    private _is_restart: boolean;\r\n    private _if_need_video_share: boolean;\r\n    private _video_path: string;\r\n    private _follow_name: string;\r\n    private _follow_btn_stat: boolean;\r\n    private userOpenId: string;\r\n    private _share_title_array: string[];\r\n    private _douYinFollowBtnStat: string;\r\n    public code: string;\r\n    private last_call_show_video_ad: number;\r\n    private _timer: Timer;\r\n    private followBtn: FollowButton;\r\n    private tuoTiaoFollowX: number;\r\n    private tuoTiaoFollowY: number;\r\n\r\n    constructor() {\r\n        this._min_banner_ad_width = 256;\r\n        this._banner_ad_id_array = [];\r\n        this._video_ad_id_array = [];\r\n        this._interstitial_ad_id = \"\";\r\n        this._interstitial_ad_is_show = 0;\r\n        this._banner_ad_array = [];\r\n        this._banner_ad_flag_array = [!1];\r\n        this._banner_ad_loaded_array = [!1];\r\n        this._video_ad_array = [];\r\n        this._video_cb_array = [];\r\n        this._video_cb_target_array = [];\r\n        this._video_close_cb_array = [];\r\n        this._video_close_cb_target_array = [];\r\n        this._interstitial_ad = null;\r\n        this._share_id_array = [];\r\n        this._default_share_id = \"2ip9crt1fbw93ouomc\";\r\n        this._share_config_url = \"\";\r\n        this._record_start_time = 0;\r\n        this._record_end_time = 0;\r\n        this._is_share_record_video = !1;\r\n        this._is_restart = !1;\r\n        this._if_need_video_share = !1;\r\n        this._video_path = \"\";\r\n        this._follow_name = \"follow.png\";\r\n        this._follow_btn_stat = !1;\r\n        this.userOpenId = \"\";\r\n        this._share_title_array = [\"海王就是我\"];\r\n        this._douYinFollowBtnStat = \"0\";\r\n        this.code = \"\";\r\n        this.last_call_show_video_ad = 0;\r\n        this._timer = new Timer;\r\n    }\r\n\r\n    public static get instance() {\r\n        if (!this._instance) {\r\n            this._instance = new TTMiniGame;\r\n        }\r\n        return this._instance;\r\n    }\r\n\r\n    public load_channel_env(call: () => void): boolean {\r\n        if (this.canvasResize(), window.tt) {\r\n            window.tt.onHide(() => { });\r\n            window.tt.onShow(() => { });\r\n            this._banner_ad_id_array[i.BANNER_AD_TYPE.ALL] = \"7f8ah33f9im064g0k0\";\r\n            this._video_ad_id_array[i.REWARD_VIDEO_AD_TYPE.ALL] = \"54mbll5521bl2nc900\";\r\n            this._interstitial_ad_id = \"2q94tj02hmdl6k9jfd\";\r\n            console.log(\"tt\" + JSON.stringify(window.tt));\r\n            this._share_id_array = ChannelManager.SHARE_CONFIG.share_id_array;\r\n            this.load_share_config();\r\n            call();\r\n            this.loginVerify();\r\n            return true;\r\n        }\r\n    }\r\n\r\n    public get_code(call: (code: string, num: number) => void): void {\r\n        window.tt.login({\r\n            force: false,\r\n            success: (t) => {\r\n                if (t.isLogin && t.code) {\r\n                    this.code = t.code;\r\n                    call(this.code, 0);\r\n                } else if (!t.isLogin && t.anonymousCode) {\r\n                    this.code = t.anonymousCode;\r\n                    call(this.code, 1);\r\n                }\r\n            },\r\n            fail: () => {\r\n                console.log(\"login调用失败\");\r\n            }\r\n        });\r\n    }\r\n\r\n    public load_sub_packages_env(call: () => void): boolean {\r\n        call();\r\n        return true;\r\n    }\r\n\r\n    public get_app_name(): string {\r\n        if (window.tt && window.tt.getSystemInfoSync) {\r\n            return window.tt.getSystemInfoSync().appName;\r\n        } else {\r\n            return ChannelManager.UNKNOWN;\r\n        }\r\n    }\r\n\r\n    public get is_rank(): boolean {\r\n        return true;\r\n    }\r\n\r\n    public get is_share(): boolean {\r\n        return true;\r\n    }\r\n\r\n    public get is_video_share(): boolean {\r\n        return true;\r\n    }\r\n\r\n    public vibrate_short(): void {\r\n        tt.vibrateShort && tt.vibrateShort({\r\n            success: (t) => {\r\n                console.log(\"\" + t);\r\n            },\r\n            fail: () => {\r\n                console.log(\"vibrateShort调用失败\");\r\n            }\r\n        });\r\n    }\r\n\r\n    public vibrate_long(): void {\r\n        tt.vibrateLong && tt.vibrateLong({\r\n            success: (t) => {\r\n                console.log(\"\" + t);\r\n            },\r\n            fail: () => {\r\n                console.log(\"vibrateLong调用失败\");\r\n            }\r\n        })\r\n    }\r\n\r\n    public get is_support_more_game(): boolean {\r\n        return \"ios\" != window.tt.getSystemInfoSync().platform && !!(window.tt.onMoreGamesModalClose && window.tt.onNavigateToMiniProgram && window.tt.showMoreGamesModal);\r\n    }\r\n\r\n    public show_more_game(callback: type, context): void {\r\n        if (this.is_support_more_game) {\r\n            window.tt.onMoreGamesModalClose((t) => {\r\n                console.log(\"modal closed\", t)\r\n            });\r\n\r\n            window.tt.onNavigateToMiniProgram((t) => {\r\n                console.log(t.errCode), console.log(t.errMsg)\r\n            });\r\n\r\n            window.tt.showMoreGamesModal({\r\n                appLaunchOptions: [],\r\n                success: (t) => {\r\n                    console.log(\"success\", t.errMsg);\r\n                    if (callback && context) {\r\n                        callback.call(context, 0);\r\n                    }\r\n                },\r\n                fail: (t) => {\r\n                    console.log(\"fail\", t.errMsg);\r\n                    if (callback && context) {\r\n                        callback.call(context, 1);\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    public get is_support_interstitial_ad(): boolean {\r\n        if (\"devtools\" != this.get_app_name() && tt.createInterstitialAd) {\r\n            console.log(\"is_support_interstitial_ad  createInterstitialAd: true\");\r\n            return true;\r\n        } else {\r\n            console.log(\"is_support_interstitial_ad: false\");\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public show_interstitial_ad(callback: type, context: any): void {\r\n        if (this.is_support_interstitial_ad) {\r\n            if (0 == this._interstitial_ad_is_show || 2 == this._interstitial_ad_is_show) {\r\n                if (2 == this._interstitial_ad_is_show) {\r\n                    this._interstitial_ad.destroy();\r\n                }\r\n                this._interstitial_ad_is_show = 0;\r\n                this._interstitial_ad = tt.createInterstitialAd({\r\n                    adUnitId: this._interstitial_ad_id\r\n                });\r\n\r\n                this._interstitial_ad.onLoad(() => {\r\n                    this._interstitial_ad_is_show = 1;\r\n                    this._interstitial_ad.show().then(() => {\r\n                        this._interstitial_ad_is_show = 2;\r\n                        console.log(\"插屏广告展示成功\");\r\n                        if (callback && context) {\r\n                            callback.call(context, 0);\r\n                        }\r\n                    }).catch(() => {\r\n                        if (callback && context) {\r\n                            callback.call(context, 1);\r\n                        }\r\n                    })\r\n                });\r\n\r\n                this._interstitial_ad.onError((t) => {\r\n                    console.log(\"errCode:\" + t.errCode + \" errMsg:\" + t.errMsg);\r\n                    if (callback && context) {\r\n                        callback.call(context, 1);\r\n                    }\r\n                });\r\n\r\n            } else if (1 == this._interstitial_ad_is_show) {\r\n                this._interstitial_ad.onLoad(() => {\r\n                    this._interstitial_ad_is_show = 1;\r\n                    this._interstitial_ad.show().then(() => {\r\n                        this._interstitial_ad_is_show = 2;\r\n                        console.log(\"插屏广告展示成功\");\r\n                        if (callback && context) {\r\n                            callback.call(context, 0);\r\n                        }\r\n                    }).catch(() => {\r\n                        if (callback && context) {\r\n                            callback.call(context, 1);\r\n                        }\r\n                    })\r\n                });\r\n\r\n                this._interstitial_ad.onError((t) => {\r\n                    console.log(\"errCode:\" + t.errCode + \" errMsg:\" + t.errMsg);\r\n                    if (callback && context) {\r\n                        callback.call(context, 1);\r\n                    }\r\n                });\r\n                this._interstitial_ad.load();\r\n            }\r\n        } else {\r\n            if (callback && context) {\r\n                callback.call(context, 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    private loginVerify(): boolean {\r\n        tt.showShareMenu({\r\n            withShareTicket: false\r\n        });\r\n        tt.onShareAppMessage(() => {\r\n            return {\r\n                title: \"海王就是我\",\r\n                imageUrl: \"https://cdnres.qszhg.6hwan.com/tower_shoot/share/4.jpg\",\r\n                query: \"\",\r\n                success: (t) => {\r\n                    console.log(\"转发成功\"), console.log(t)\r\n                },\r\n                fail: (t) => {\r\n                    console.log(\"fail tt onShareAppMessage\" + t)\r\n                }\r\n            }\r\n        });\r\n        return true;\r\n    }\r\n\r\n    public share_req(callback: type, context: any): boolean {\r\n        if (window.tt) {\r\n            const share = 0 == this._share_id_array.length\r\n                ? this._default_share_id\r\n                : this._share_id_array[Utils.math_random(true, 0, this._share_id_array.length)];\r\n            window.tt.shareAppMessage({\r\n                templateId: share,\r\n                query: \"\",\r\n                success: () => {\r\n                    console.log(\"分享成功\");\r\n                    callback.call(context);\r\n                },\r\n                fail: () => {\r\n                    console.log(\"分享失败\");\r\n                }\r\n            });\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private create_banner_ad(): void {\r\n        if (window.tt) {\r\n            const systemInfo = window.tt.getSystemInfoSync();\r\n            const windowWidth = systemInfo.windowWidth;\r\n            const windowHeight = systemInfo.windowHeight;\r\n            for (let index = 0; index < this._banner_ad_id_array.length; index++) {\r\n                (() => {\r\n                    const i = index;\r\n                    const banner = this._banner_ad_id_array[i];\r\n                    if (null != banner && \"\" != banner) {\r\n                        const createBanner: BannerAd = window.tt.createBannerAd({\r\n                            adUnitId: banner,\r\n                            adIntervals: 30,\r\n                            style: {\r\n                                width: this._min_banner_ad_width,\r\n                                top: windowHeight,\r\n                                left: (windowWidth - this._min_banner_ad_width) / 2\r\n                            }\r\n                        });\r\n\r\n                        this._banner_ad_array.push(createBanner)\r\n                        createBanner.onLoad(() => {\r\n                            console.log(\"banner ad id:\" + banner + \" onLoad\");\r\n                            this._banner_ad_loaded_array[t] = true;\r\n                        });\r\n\r\n                        createBanner.onResize((t) => {\r\n                            createBanner.style.left = (windowWidth - t.width) / 2;\r\n                            createBanner.style.top = windowHeight - t.height;\r\n                            console.log(\"banner_ad.onResize:\", t.width, t.height);\r\n\r\n                            const getDevicePixelRatio = cc.view.getDevicePixelRatio();\r\n                            const getScaleX = cc.view.getScaleX();\r\n                            console.log(\"banner need design size:\", t.width * getDevicePixelRatio / getScaleX, t.height * getDevicePixelRatio / getScaleX);\r\n                        });\r\n                    }\r\n                })();\r\n            }\r\n        }\r\n    }\r\n\r\n    public show_banner_ad(param: BANNER_AD_TYPE): void {\r\n        if (this._banner_ad_loaded_array[param]) {\r\n            this._banner_ad_flag_array[param] = true;\r\n            const banner = this._banner_ad_array[param];\r\n            banner.show().then(() => {\r\n                if (this._banner_ad_flag_array[param]) {\r\n                    console.log(\"广告显示成功\");\r\n                } else {\r\n                    banner.hide();\r\n                    console.log(\"广告显示慢了，不需要显示了\");\r\n                }\r\n            }).catch((t) => {\r\n                console.log(\"广告组件出现问题\", t);\r\n            })\r\n        }\r\n    }\r\n\r\n    public hide_banner_ad(param: BANNER_AD_TYPE): void {\r\n        if (this._banner_ad_loaded_array[param]) {\r\n            const banner = this._banner_ad_array[param];\r\n            if (banner) {\r\n                banner.hide();\r\n                this._banner_ad_flag_array[param] = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    private create_video_ad(): void {\r\n        if (null != window.tt && null != window.tt.createRewardedVideoAd) {\r\n            for (let index = 0; index < this._video_ad_id_array.length; index++) {\r\n                this._video_ad_array[index] = window.tt.createRewardedVideoAd({\r\n                    adUnitId: this._video_ad_id_array[index]\r\n                });\r\n                this.on_video_ad_handler(index);\r\n            }\r\n        }\r\n    }\r\n\r\n    private on_video_ad_handler(index: number): void {\r\n        this._video_ad_array[index].onClose((res) => {\r\n            if (res && res.isEnded || res == undefined) {\r\n                console.log(\"视频广告 正常播放结束\");\r\n                this._video_cb_array[index].call(this._video_cb_target_array[index], 0);\r\n            } else {\r\n                console.log(\"视频广告 播放中途退出\");\r\n                gm.ui.show_notice(\"Không có phần thưởng khi kết thúc quảng cáo video\");\r\n                if (this._video_close_cb_array[index] && this._video_close_cb_target_array[index]) {\r\n                    this._video_close_cb_array[index].call(this._video_close_cb_target_array[index]);\r\n                }\r\n            }\r\n            cc.game.resume();\r\n        });\r\n\r\n        this._video_ad_array[index].onError((t) => {\r\n            console.log(t);\r\n            console.log(\"加载失败，稍后再试\");\r\n\r\n            if (1e3 == t.errCode) {\r\n                ReportData.instance.report_once_point(10651);\r\n                ReportData.instance.report_point(10652);\r\n            } else if (1003 == t.errCode) {\r\n                ReportData.instance.report_once_point(10653);\r\n                ReportData.instance.report_point(10654);\r\n            } else if (1004 == t.errCode) {\r\n                ReportData.instance.report_once_point(10655);\r\n                ReportData.instance.report_point(10656);\r\n            } else if (1005 == t.errCode) {\r\n                ReportData.instance.report_once_point(10657);\r\n                ReportData.instance.report_point(10658);\r\n            } else if (1006 == t.errCode) {\r\n                ReportData.instance.report_once_point(10659);\r\n                ReportData.instance.report_point(10660);\r\n            } else if (1007 == t.errCode) {\r\n                ReportData.instance.report_once_point(10661);\r\n                ReportData.instance.report_point(10662);\r\n            } else if (1008 == t.errCode) {\r\n                ReportData.instance.report_once_point(10663);\r\n                ReportData.instance.report_point(10664);\r\n            } else if (120002 == t.errCode) {\r\n                ReportData.instance.report_once_point(10665);\r\n                ReportData.instance.report_point(10666);\r\n            }\r\n        });\r\n    }\r\n\r\n    public show_video_ad(callback: (result: number) => void, chanel: ChannelManager, videoType: REWARD_VIDEO_AD_TYPE, callback1: () => void, channel1: ChannelManager): void {\r\n        if (Date.now() - this.last_call_show_video_ad < 3000) {\r\n            gm.ui.show_notice(\"Nhấp quá thường xuyên, vui lòng thử lại sau 3 giây\");\r\n        } else {\r\n            this.last_call_show_video_ad = Date.now();\r\n            this._video_cb_array[videoType] = callback;\r\n            this._video_cb_target_array[videoType] = chanel;\r\n            this._video_close_cb_array[videoType] = callback1;\r\n            this._video_close_cb_target_array[videoType] = channel1;\r\n            let videoAd = this._video_ad_array[videoType];\r\n            if (videoAd) {\r\n                this.create_video_ad();\r\n                videoAd = this._video_ad_array[videoType];\r\n            }\r\n            if (gm.data.main_data && gm.data.main_data.is_today_no_ad) {\r\n                if (0 < gm.data.main_data.left_share_count) {\r\n                    gm.channel.share_req(() => {\r\n                        gm.data.main_data.left_share_count--;\r\n                        gm.data.main_data.async_write_data();\r\n                        if (callback) {\r\n                            callback.call(chanel, 1);\r\n                        }\r\n                    }, this);\r\n                } else {\r\n                    gm.ui.show_notice(\"Quảng cáo khuyến khích video hôm nay đã được sử dụng hết\");\r\n                }\r\n            } else {\r\n                videoAd.load().then(() => {\r\n                    console.log(\"手动加载成功\");\r\n                    videoAd.show().then(() => {\r\n                        console.log(\"视频广告显示成功\");\r\n                        cc.game.pause();\r\n                    }).catch((t) => {\r\n                        if (120002 == t.errCode) {\r\n                            gm.ui.show_notice(\"Quảng cáo khuyến khích video hôm nay đã được sử dụng hết\");\r\n                            gm.data.main_data.is_today_no_ad = true;\r\n                            gm.data.main_data.async_write_data();\r\n                        } else {\r\n                            gm.ui.show_notice(\"Video đang phát thường xuyên. Vui lòng thử lại sau một lúc.\");\r\n                        }\r\n\r\n                        if (0 < gm.data.main_data.left_share_count) {\r\n                            gm.channel.share_req(() => {\r\n                                gm.data.main_data.left_share_count--;\r\n                                gm.data.main_data.async_write_data();\r\n                                if (callback) {\r\n                                    callback.call(chanel, 1);\r\n                                }\r\n                            }, this);\r\n                        }\r\n                    })\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    private retry_show_video_ad(t: RewardedVideoAd, e: type, a: any): void {\r\n        t.load().then(() => {\r\n            console.log(\"视频手动加载成功\");\r\n            t.show().then(() => {\r\n                console.log(\"重新拉取，视频广告显示成功\");\r\n                cc.game.pause();\r\n            }).catch((t) => {\r\n                console.log(\"重新拉取失败\", t);\r\n                if (1004 == t.errCode) {\r\n                    gm.ui.show_notice(\"Quảng cáo khuyến khích video hôm nay đã được sử dụng hết\");\r\n                } else {\r\n                    gm.ui.show_notice(\"Video đang phát thường xuyên. Vui lòng thử lại sau một lúc.\");\r\n                }\r\n\r\n                if (0 < gm.data.main_data.left_share_count) {\r\n                    gm.channel.share_req(() => {\r\n                        gm.data.main_data.left_share_count--;\r\n                        gm.data.main_data.async_write_data();\r\n                        if (e) {\r\n                            e.call(a, 1);\r\n                        }\r\n                    }, this);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    public set_rank_value(): void {\r\n        if (window.tt) {\r\n            window.tt.setUserGroup({\r\n                groupId: \"level_group\"\r\n            });\r\n\r\n            const object = {\r\n                ttgame: {\r\n                    score: 0,\r\n                    update_time: Math.floor((new Date).getTime() / 1e3)\r\n                },\r\n                cost_time: 0\r\n            };\r\n\r\n            window.tt.setUserCloudStorage({\r\n                KVDataList: [{\r\n                    key: \"level\",\r\n                    value: JSON.stringify(object)\r\n                }]\r\n            });\r\n            cc.log(\"上报排行数据\");\r\n        }\r\n    }\r\n\r\n    public get_rank_data(): boolean {\r\n        if (window.tt) {\r\n            window.tt.getOpenDataContext().postMessage({\r\n                message: 0\r\n            });\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public set_rank_close(): void {\r\n        if (window.tt) {\r\n            window.tt.getOpenDataContext().postMessage({\r\n                message: 99\r\n            });\r\n        }\r\n    }\r\n\r\n    public get_self_rank_data(): boolean {\r\n        if (window.tt) {\r\n            window.tt.getOpenDataContext().postMessage({\r\n                message: 300\r\n            });\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public set_self_rank_close(): void {\r\n        if (window.tt) {\r\n            window.tt.getOpenDataContext().postMessage({\r\n                message: 301\r\n            });\r\n        }\r\n    }\r\n\r\n    public on_rank_pre_page_click(): void {\r\n        if (window.tt) {\r\n            window.tt.getOpenDataContext().postMessage({\r\n                message: 100\r\n            });\r\n        }\r\n    }\r\n\r\n    public on_rank_next_page_click(): void {\r\n        if (window.tt) {\r\n            window.tt.getOpenDataContext().postMessage({\r\n                message: 101\r\n            });\r\n        }\r\n    }\r\n\r\n    private checkIfCanRecord(): boolean {\r\n        return true;\r\n    }\r\n\r\n    public record_start(): void {\r\n        if (window.tt && window.tt.getGameRecorderManager) {\r\n            const GameRecorder = window.tt.getGameRecorderManager();\r\n            GameRecorder.onStart(() => {\r\n                console.log(\"录屏开始\");\r\n                this._record_start_time = Date.now();\r\n                this._is_restart = false;\r\n            });\r\n\r\n            this._is_restart = true;\r\n            GameRecorder.start({\r\n                duration: 180\r\n            });\r\n\r\n            GameRecorder.onStop((t) => {\r\n                console.log(\"录屏结束\");\r\n                this._record_end_time = Date.now();\r\n                this._is_share_record_video = false;\r\n                console.log(t.videoPath);\r\n                this._video_path = t.videoPath;\r\n                this.share_video(false);\r\n                if (this._is_restart) {\r\n                    setTimeout(() => {\r\n                        this.record_start();\r\n                    }, .017);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    public record_stop(param: boolean): void {\r\n        if (window.tt && window.tt.getGameRecorderManager) {\r\n            this._if_need_video_share = param;\r\n            window.tt.getGameRecorderManager().stop();\r\n        }\r\n    }\r\n\r\n    public share_video(t: any, call?: (num: number) => any): void {\r\n        if (t || this._if_need_video_share) {\r\n            if (0 < this._record_end_time && this._record_end_time - this._record_start_time < 3017) {\r\n                gm.ui.show_notice(gm.const.TEXT_19);\r\n            } else {\r\n                const shareID = 0 == this._share_id_array.length\r\n                    ? this._default_share_id\r\n                    : this._share_id_array[Utils.math_random(true, 0, this._share_id_array.length)];\r\n\r\n                window.tt && window.tt.shareAppMessage({\r\n                    channel: \"video\",\r\n                    templateId: shareID,\r\n                    title: this._share_title_array,\r\n                    imageUrl: \"\",\r\n                    query: \"\",\r\n                    extra: {\r\n                        videoPath: this._video_path,\r\n                        videoTopics: this._share_title_array\r\n                    },\r\n                    success: () => {\r\n                        console.log(\"分享视频成功\");\r\n                        this._record_start_time = this._record_end_time = 0;\r\n                        this._is_share_record_video = true;\r\n                        if (call) {\r\n                            call(0);\r\n                        }\r\n                    },\r\n                    fail: () => {\r\n                        console.log(\"分享视频失败\");\r\n                        if (call) {\r\n                            call(1);\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    public viedo_share(param: boolean, call: (num: number) => void): void {\r\n        const shareID = 0 == this._share_id_array.length\r\n            ? this._default_share_id\r\n            : this._share_id_array[Utils.math_random(!0, 0, this._share_id_array.length)];\r\n\r\n        if (window.tt) {\r\n            window.tt.shareAppMessage({\r\n                channel: \"video\",\r\n                templateId: shareID,\r\n                title: this._share_title_array,\r\n                imageUrl: \"\",\r\n                query: \"\",\r\n                extra: {\r\n                    videoPath: this._video_path,\r\n                    videoTopics: this._share_title_array\r\n                },\r\n                success: () => {\r\n                    console.log(\"分享视频成功\");\r\n                    this._record_start_time = this._record_end_time = 0;\r\n                    this._is_share_record_video = true;\r\n                    if (call) {\r\n                        call(0);\r\n                    }\r\n                },\r\n                fail: () => {\r\n                    console.log(\"分享视频失败\");\r\n                    if (call) {\r\n                        call(1);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n    }\r\n\r\n    public clear_cache(): void {\r\n        if (window.wxDownloader) {\r\n            window.wxDownloader.cleanAllAssets();\r\n            console.log(\"delete cache success\");\r\n        }\r\n    }\r\n\r\n    public follow(callback: type, context: any): boolean {\r\n        if (tt.checkFollowState) {\r\n            const SystemInfo = tt.getSystemInfoSync();\r\n            console.log(\"follow:tt.getSystemInfoSync.appName:\", SystemInfo.appName);\r\n            if (\"Toutiao\" == SystemInfo.appName) {\r\n                console.log(\"再检测有没有关注接口！follow tt.checkFollowState\");\r\n                const frame = {\r\n                    windowWidth: 0,\r\n                    windowHeight: 0\r\n                };\r\n\r\n                frame.windowWidth = SystemInfo.windowWidth;\r\n                frame.windowHeight = SystemInfo.windowHeight;\r\n                console.log(\"sysinfo:\", frame);\r\n                tt.checkFollowState({\r\n                    success: (t) => {\r\n                        console.log(\"该用户已经关注了公众号！！！\", t.result);\r\n                        if (!t.result) {\r\n                            tt.downloadFile({\r\n                                url: \"https://cdnres.qszhg.6hwan.com//tower_shoot/\" + this._follow_name,\r\n                                success: (t) => {\r\n                                    if (200 === t.statusCode) {\r\n                                        console.log(\"创建images关注按钮\"), console.log(\"\" + t.tempFilePath);\r\n                                        let windowWidth = 0;\r\n                                        let windowHeight = 0;\r\n\r\n                                        if (\"follow.png\" == this._follow_name) {\r\n                                            windowWidth = frame.windowWidth / gm.data.design_resolution.x * 145;\r\n                                            windowHeight = frame.windowHeight / gm.data.design_resolution.y * 101;\r\n                                        } else {\r\n                                            windowWidth = frame.windowWidth / gm.data.design_resolution.x * 600;\r\n                                            windowHeight = frame.windowHeight / gm.data.design_resolution.y * 800;\r\n                                        }\r\n\r\n                                        const left = frame.windowWidth - windowWidth;\r\n                                        const top = frame.windowHeight * (391.484 - windowHeight / 2) / gm.data.design_resolution.y;\r\n\r\n                                        console.log(\"MainVO.designResolution.x:%s,MainVO.designResolution.y:%s.\", gm.data.design_resolution.x, gm.data.design_resolution.y);\r\n                                        this.followBtn = tt.createFollowButton({\r\n                                            type: \"image\",\r\n                                            image: t.tempFilePath,\r\n                                            style: {\r\n                                                left: left,\r\n                                                top: top,\r\n                                                width: windowWidth,\r\n                                                height: windowHeight,\r\n                                                lineHeight: 40,\r\n                                                backgroundColor: \"#ff0000\",\r\n                                                textColor: \"#ffffff\",\r\n                                                textAlign: \"center\",\r\n                                                fontSize: 16,\r\n                                                borderRadius: 4,\r\n                                                borderWidth: 0,\r\n                                                borderColor: \"#ff0000\"\r\n                                            }\r\n                                        });\r\n\r\n                                        if (this.followBtn) {\r\n                                            this.followBtn.onTap((t) => {\r\n                                                console.log(\"follow_callback(res):\", JSON.stringify(t));\r\n                                                if (0 == t.errCode) {\r\n                                                    callback.call(context);\r\n                                                }\r\n                                            });\r\n                                            this.followBtn.show();\r\n                                            this._follow_btn_stat = true;\r\n                                            return;\r\n                                        }\r\n                                    }\r\n                                },\r\n                                fail: (t) => {\r\n                                    console.log(\"downloadFile调用失败：\", t);\r\n                                }\r\n                            });\r\n                        }\r\n                    },\r\n                    fail: (t) => {\r\n                        console.log(\"createFollowBtn is fail!\", t);\r\n                    }\r\n                });\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public follow_btn_stat(): boolean {\r\n        return this._follow_btn_stat;\r\n    }\r\n\r\n    public hide_follow_btn(): boolean {\r\n        return !!this.followBtn && (this.followBtn.hide(), true);\r\n    }\r\n\r\n    public show_follow_btn(): boolean {\r\n        return !!this.followBtn && (this.followBtn.show(), true);\r\n    }\r\n\r\n    public user_subscribe_message(t: {}, e: string[] = []): void {\r\n        if (tt.requestSubscribeMessage) {\r\n            const tmplIds = 0 == e.length ? [\"MSG1158625aae6f860a892f55d4f4daee35c9b8c5c13730\"] : e;\r\n            tt.requestSubscribeMessage({\r\n                tmplIds: tmplIds,\r\n                success: (t) => {\r\n                    console.log(\"userSubscribeMessage:\", t);\r\n                    const url = \"https://gameapipy.6hwan.com/user/minigame/toutiao_app/subscribe/?appid=ttae7dd8c03146ae1b&openid=\" + this.userOpenId + \"&template_id=\" + JSON.stringify(tmplIds);\r\n                    console.log(\"userSubscribeMessage tmpUrl:\", url);\r\n                    tt.request({\r\n                        url: url,\r\n                        success: (t) => {\r\n                            console.log(\"userSubscribeMessage requestSuc para1:\", JSON.stringify(t));\r\n                        },\r\n                        fail: (t) => {\r\n                            console.log(\"userSubscribeMessage requestFail para1:\", t);\r\n                        }\r\n                    });\r\n                    gm.data.start_data.user_subscribe_message_stat = 1;\r\n                    gm.data.start_data.async_write_data();\r\n                },\r\n                fail: (t) => {\r\n                    console.log(t);\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    public DouYinFollowBS(): string {\r\n        return \"DOUYIN\" == tt.getSystemInfoSync().appName.toUpperCase() ? this._douYinFollowBtnStat : \"0\";\r\n    }\r\n\r\n    public douYinFollow(callback: type, context: any): void {\r\n        if (tt.openAwemeUserProfile) {\r\n            tt.openAwemeUserProfile();\r\n            callback.call(context);\r\n        }\r\n    }\r\n\r\n    private load_share_config(): void {\r\n        tt.request({\r\n            url: this._share_config_url,\r\n            method: \"GET\",\r\n            header: {\r\n                \"content-type\": \"application/json\"\r\n            },\r\n            success: (t) => {\r\n                console.log(\"game.login requestSuc para2:\", t);\r\n                if (\"data\" in t) {\r\n                    if (\"share_title_array\" in t.data) {\r\n                        this._share_title_array = t.data.share_title_array;\r\n                    }\r\n\r\n                    if (\"follow_name\" in t.data) {\r\n                        this._follow_name = t.data.follow_name;\r\n                    }\r\n\r\n                    if (\"douYinFollowBtnStat\" in t.data) {\r\n                        this._douYinFollowBtnStat = t.data.douYinFollowBtnStat;\r\n                    }\r\n\r\n                    if (\"tuoTiaoFollowX\" in t.data) {\r\n                        this.tuoTiaoFollowX = Number(t.data.tuoTiaoFollowX);\r\n                    }\r\n\r\n                    if (\"tuoTiaoFollowY\" in t.data) {\r\n                        this.tuoTiaoFollowY = Number(t.data.tuoTiaoFollowY);\r\n                    }\r\n\r\n                    console.log(\"this._share_title_array:%s,this._follow_name:%s,this._douYinFollowBtnStat:%s\", this._share_title_array, this._follow_name, this._douYinFollowBtnStat);\r\n                    console.log(\"this.tuoTiaoFollowX:%s,this.tuoTiaoFollowY:%s\", this.tuoTiaoFollowX, this.tuoTiaoFollowY);\r\n                }\r\n            },\r\n            fail: (t) => {\r\n                console.log(\"tt.login requestFail para1:\", t);\r\n            }\r\n        })\r\n    }\r\n\r\n    private canvasResize(): void {\r\n        const canvas = cc.find(\"Canvas\").getComponent(cc.Canvas);\r\n        const designResolution = canvas.designResolution;\r\n        const frameSize = cc.view.getFrameSize();\r\n        const frameWidth = frameSize.width;\r\n        const frameHeight = frameSize.height;\r\n\r\n        let newWidth = frameWidth;\r\n        let newHeight = frameHeight;\r\n\r\n        if (frameHeight / frameWidth > designResolution.height / designResolution.width) {\r\n            newWidth = designResolution.width;\r\n            newHeight = (frameHeight / frameWidth) * newWidth;\r\n        } else {\r\n            newHeight = designResolution.height;\r\n            newWidth = (frameWidth / frameHeight) * newHeight;\r\n        }\r\n\r\n        const newDesignResolution = cc.v2(newWidth, newHeight);\r\n\r\n        gm.data.design_resolution = newDesignResolution;\r\n        cc.log(\"MainVO.designResolution: %s\", JSON.stringify(newDesignResolution));\r\n    }\r\n\r\n    public checkShortcut(call: (num: number) => void): void {\r\n        tt.checkShortcut({\r\n            success: (t) => {\r\n                console.log(\"onEnterMainScene checkShortcut res:\", t);\r\n                if (t && t.status && t.status.exist) {\r\n                    if (t.status.needUpdate) {\r\n                        call(1);\r\n                    } else {\r\n                        call(0);\r\n                    }\r\n                } else {\r\n                    call(2);\r\n                }\r\n            },\r\n            fail: () => {\r\n                console.log(\"onEnterMainScene checkShortcut fail\");\r\n                call(2);\r\n            }\r\n        })\r\n    }\r\n\r\n    public addShortcut(call: () => void): void {\r\n        tt.addShortcut({\r\n            success: () => {\r\n                console.log(\"showAddToDeskHint 成功添加到桌面\");\r\n                call();\r\n            },\r\n            fail: () => {\r\n                console.log(\"showAddToDeskHint 添加到桌面失败！骗人的\");\r\n                this._timer.stop();\r\n                this._timer.start(() => {\r\n                    this.checkShortcut((t) => {\r\n                        if (t <= 1) {\r\n                            this._timer.stop();\r\n                            call();\r\n                        }\r\n                    });\r\n                }, 2000, 20);\r\n            }\r\n        })\r\n    }\r\n\r\n}"]}