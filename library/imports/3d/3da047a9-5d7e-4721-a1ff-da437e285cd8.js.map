{"version":3,"sources":["assets\\mail\\scripts\\MailHeroItem.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uEAAsE;AACtE,yDAAwD;AACxD,iEAAiE;AACjE,qEAA2D;AAGrD,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA2B,gCAAY;IAAvC;QAAA,qEA4BC;QA1BW,eAAS,GAAqB,IAAI,CAAC;QAGnC,cAAQ,GAAqB,IAAI,CAAC;;IAuB9C,CAAC;IArBG,sBAAW,8BAAI;aAAf;YACI,OAAO,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;aAED,UAAgB,KAAqB;YACjC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,WAAW,EAAE,CAAC;QACvB,CAAC;;;OALA;IAOM,kCAAW,GAAlB;QACI,aAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,QAAQ,EAAE,sBAAU,CAAC,MAAM,EAAE,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QAChG,IAAM,cAAc,GAAG,gBAAE,CAAC,MAAM,CAAC,YAAY,CAAC,gBAAgB,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,EAAE,CAAe,CAAC;QAClG,IAAI,cAAc,EAAE;YAChB,aAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,SAAS,EAAE,sBAAU,CAAC,MAAM,EAAE,YAAY,GAAG,cAAc,CAAC,EAAE,CAAC,CAAC;SACrG;IACL,CAAC;IAEM,4BAAK,GAAZ;QACI,IAAI,CAAC,SAAS,CAAC,WAAW,GAAG,IAAI,CAAC;QAClC,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC;IACrC,CAAC;IAzBD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;mDACuB;IAG3C;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;kDACsB;IALxC,YAAY;QADjB,OAAO;OACF,YAAY,CA4BjB;IAAD,mBAAC;CA5BD,AA4BC,CA5B0B,2BAAY,GA4BtC","file":"","sourceRoot":"/","sourcesContent":["import { ListViewItem } from '../../start-scene/scripts/ListViewItem';\r\nimport { Utils } from '../../start-scene/scripts/Utils';\r\nimport { BundleName } from '../../start-scene/scripts/Constants';\r\nimport { gm } from '../../start-scene/scripts/GameManager';\r\nimport { HeroConfig } from '../../common/configs/hero';\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nclass MailHeroItem extends ListViewItem {\r\n    @property(cc.Sprite)\r\n    private color_spr: cc.Sprite | null = null;\r\n\r\n    @property(cc.Sprite)\r\n    private hero_spr: cc.Sprite | null = null;\r\n\r\n    public get data(): { id: number } {\r\n        return this._data;\r\n    }\r\n\r\n    public set data(value: { id: number }) {\r\n        this._data = value;\r\n        this.update_view();\r\n    }\r\n\r\n    public update_view(): void {\r\n        Utils.async_set_sprite_frame(this.hero_spr, BundleName.COMMON, \"res/handbook/\" + this._data.id);\r\n        const heroConfigData = gm.config.get_row_data(\"HeroConfigData\", this._data.id + \"\") as HeroConfig;\r\n        if (heroConfigData) {\r\n            Utils.async_set_sprite_frame(this.color_spr, BundleName.COMMON, \"res/color_\" + heroConfigData.lv);\r\n        }\r\n    }\r\n\r\n    public reset(): void {\r\n        this.color_spr.spriteFrame = null;\r\n        this.hero_spr.spriteFrame = null;\r\n    }\r\n}"]}