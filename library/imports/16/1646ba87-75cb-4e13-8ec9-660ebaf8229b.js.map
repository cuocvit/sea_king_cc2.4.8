{"version":3,"sources":["assets\\settings\\scripts\\Announcement.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,2EAA0E;AAC1E,uEAAsE;AACtE,qEAA2D;AAC3D,mEAAkE;AAE5D,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA2B,gCAAU;IAArC;QAAA,qEAyBC;QAvBS,eAAS,GAAqB,IAAI,CAAC;QAGnC,wBAAkB,GAAqB,IAAI,CAAC;;IAoBtD,CAAC;IAlBW,+BAAQ,GAAlB;QACE,gBAAE,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,2BAAY,CAAC,iBAAiB,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;QACjF,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,gBAAE,CAAC,OAAO,CAAC,cAAc,CAAC,+BAAc,CAAC,GAAG,CAAC,CAAC;IAChD,CAAC;IAES,gCAAS,GAAnB;QACE,gBAAE,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,2BAAY,CAAC,iBAAiB,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;QAClF,gBAAE,CAAC,OAAO,CAAC,cAAc,CAAC,+BAAc,CAAC,GAAG,CAAC,CAAC;IAChD,CAAC;IAEM,kCAAW,GAAlB,cAA6B,CAAC;IAEtB,qDAA8B,GAAtC,UAAuC,KAAe;QACpD,IAAI,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,KAAK,CAAC,MAAM,IAAI,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE;YAC1F,gBAAE,CAAC,EAAE,CAAC,iBAAiB,CAAC,gBAAE,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;SAChD;IACH,CAAC;IAtBD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;mDACuB;IAG3C;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;4DACgC;IALhD,YAAY;QADjB,OAAO;OACF,YAAY,CAyBjB;IAAD,mBAAC;CAzBD,AAyBC,CAzB0B,uBAAU,GAyBpC","file":"","sourceRoot":"/","sourcesContent":["import { BANNER_AD_TYPE } from '../../start-scene/scripts/ChannelManager';\r\nimport { SettingsData } from '../../start-scene/scripts/SettingsData';\r\nimport { gm } from '../../start-scene/scripts/GameManager';\r\nimport { GameModule } from '../../start-scene/scripts/GameModule';\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nclass Announcement extends GameModule {\r\n  @property(cc.Button)\r\n  private close_btn: cc.Button | null = null;\r\n\r\n  @property(cc.Button)\r\n  private anywhere_close_btn: cc.Button | null = null;\r\n\r\n  protected onEnable(): void {\r\n    gm.data.event_emitter.on(SettingsData.EVENT_DATA_CHANGE, this.update_view, this);\r\n    this.update_view();\r\n    gm.channel.show_banner_ad(BANNER_AD_TYPE.ALL);\r\n  }\r\n\r\n  protected onDisable(): void {\r\n    gm.data.event_emitter.off(SettingsData.EVENT_DATA_CHANGE, this.update_view, this);\r\n    gm.channel.hide_banner_ad(BANNER_AD_TYPE.ALL);\r\n  }\r\n\r\n  public update_view(): void { }\r\n\r\n  private editor_on_button_click_handler(event: cc.Event): void {\r\n    if (!(event.target != this.close_btn.node && event.target != this.anywhere_close_btn.node)) {\r\n      gm.ui.async_hide_module(gm.const.Announcement);\r\n    }\r\n  }\r\n}\r\n"]}