{"version":3,"sources":["assets\\test\\scripts\\ParabolaDemo.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nclass ParabolaDemo extends cc.Component {\r\n    @property(cc.Node)\r\n    private target_node: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    private start_node: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    private end_node: cc.Node = null;\r\n\r\n    private time: number = 3;\r\n    private g: number = -10;\r\n    private dTime: number = 0;\r\n    private last_position: cc.Vec3 = cc.Vec3.ZERO;\r\n    private speed: cc.Vec3 = cc.Vec3.ZERO;\r\n    private Gravity: cc.Vec3 = cc.Vec3.ZERO;\r\n\r\n    public start(): void {\r\n        this.target_node.position = this.start_node.position;\r\n        this.last_position = this.start_node.position;\r\n        this.speed = new cc.Vec3(\r\n            (this.end_node.position.x - this.start_node.position.x) / this.time,\r\n            (this.end_node.position.y - this.start_node.position.y) / this.time - 0.5 * this.g * this.time,\r\n            (this.end_node.position.z - this.start_node.position.z) / this.time\r\n        );\r\n        this.Gravity = cc.Vec3.ZERO;\r\n    }\r\n\r\n    public update(deltaTime: number): void {\r\n        if (this.dTime < this.time) {\r\n            this.Gravity.y = this.g * (this.dTime += deltaTime);\r\n            this.target_node.position = this.speed.multiplyScalar(deltaTime).add(this.target_node.position);\r\n            this.target_node.position = this.Gravity.multiplyScalar(deltaTime).add(this.target_node.position);\r\n            let deltaPosition = this.target_node.position.subtract(this.last_position);\r\n            let angle = Math.atan2(deltaPosition.y, deltaPosition.x);\r\n            this.target_node.angle = 180 * angle / Math.PI;\r\n        }\r\n    }\r\n}\r\n"]}