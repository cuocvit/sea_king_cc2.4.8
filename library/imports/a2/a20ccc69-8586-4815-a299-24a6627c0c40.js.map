{"version":3,"sources":["assets\\ladder\\scripts\\LadderUpLvlAnimPVP.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qEAA2D;AAC3D,yDAAwD;AACxD,iEAAiE;AACjE,2EAA0E;AAGpE,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAiC,sCAAY;IAA7C;QAAA,qEA0CC;QAxCW,gBAAU,GAAmB,IAAI,CAAC;QAGlC,gBAAU,GAAmB,IAAI,CAAC;QAGlC,aAAO,GAAqB,IAAI,CAAC;QAGjC,cAAQ,GAAoB,IAAI,CAAC;QAGjC,cAAQ,GAAoB,IAAI,CAAC;;IA4B7C,CAAC;IA1Ba,qCAAQ,GAAlB;QACI,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,gBAAE,CAAC,OAAO,CAAC,cAAc,CAAC,+BAAc,CAAC,GAAG,CAAC,CAAC;IAClD,CAAC;IAES,sCAAS,GAAnB;QACI,gBAAE,CAAC,OAAO,CAAC,cAAc,CAAC,+BAAc,CAAC,GAAG,CAAC,CAAC;IAClD,CAAC;IAEO,yCAAY,GAApB;QACI,IAAM,SAAS,GAAG,gBAAE,CAAC,EAAE,CAAC,eAAe,CAAC,gBAAE,CAAC,KAAK,CAAC,kBAAkB,CAAC,GAAG,CAAY,CAAC;QACpF,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,SAAS,CAAC;QACnC,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,SAAS,CAAC;QAEpC,IAAM,UAAU,GAAG,gBAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC;QAC5C,IAAM,SAAS,GAAG,gBAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QAC/E,IAAM,YAAY,GAAG,gBAAE,CAAC,MAAM,CAAC,YAAY,CAAC,oBAAoB,EAAE,SAAS,GAAG,EAAE,CAAmB,CAAC;QAEpG,aAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,OAAO,EAAE,sBAAU,CAAC,MAAM,EAAE,MAAM,GAAG,YAAY,CAAC,OAAO,CAAC,CAAC;QAC7F,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,UAAU,CAAC,UAAU,GAAG,EAAE,CAAC;QAClD,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,YAAY,CAAC,IAAI,GAAG,EAAE,CAAC;IAClD,CAAC;IAEO,yCAAY,GAApB;QACI,gBAAE,CAAC,EAAE,CAAC,iBAAiB,CAAC,gBAAE,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;IACzD,CAAC;IAvCD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;0DACwB;IAG1C;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;0DACwB;IAG1C;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;uDACqB;IAGzC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;wDACsB;IAGzC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;wDACsB;IAdvC,kBAAkB;QADvB,OAAO;OACF,kBAAkB,CA0CvB;IAAD,yBAAC;CA1CD,AA0CC,CA1CgC,EAAE,CAAC,SAAS,GA0C5C","file":"","sourceRoot":"/","sourcesContent":["import { gm } from '../../start-scene/scripts/GameManager';\r\nimport { Utils } from '../../start-scene/scripts/Utils';\r\nimport { BundleName } from '../../start-scene/scripts/Constants';\r\nimport { BANNER_AD_TYPE } from '../../start-scene/scripts/ChannelManager';\r\nimport { LadderLVConfig } from '../../common/configs/ladder_lv';\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nclass LadderUpLvlAnimPVP extends cc.Component {\r\n    @property(cc.Node)\r\n    private succ_title: cc.Node | null = null;\r\n\r\n    @property(cc.Node)\r\n    private fail_title: cc.Node | null = null;\r\n\r\n    @property(cc.Sprite)\r\n    private lvl_spr: cc.Sprite | null = null;\r\n\r\n    @property(cc.Label)\r\n    private lvl_name: cc.Label | null = null;\r\n\r\n    @property(cc.Label)\r\n    private star_lbl: cc.Label | null = null;\r\n\r\n    protected onEnable(): void {\r\n        this.refreshPanel();\r\n        gm.channel.show_banner_ad(BANNER_AD_TYPE.ALL);\r\n    }\r\n\r\n    protected onDisable(): void {\r\n        gm.channel.hide_banner_ad(BANNER_AD_TYPE.ALL);\r\n    }\r\n\r\n    private refreshPanel(): void {\r\n        const isSuccess = gm.ui.get_module_args(gm.const.LADDERUPLVLANIMPVP.key) as boolean;\r\n        this.succ_title.active = isSuccess;\r\n        this.fail_title.active = !isSuccess;\r\n\r\n        const ladderData = gm.data.ladder_temp_data;\r\n        const rankLevel = gm.data.ladder_temp_data.convert_rank_to_lv(ladderData.rank);\r\n        const ladderConfig = gm.config.get_row_data(\"LadderLvConfigData\", rankLevel + \"\") as LadderLVConfig;\r\n\r\n        Utils.async_set_sprite_frame(this.lvl_spr, BundleName.LADDER, \"res/\" + ladderConfig.icon_id);\r\n        this.star_lbl.string = ladderData.total_star + \"\";\r\n        this.lvl_name.string = ladderConfig.name + \"\";\r\n    }\r\n\r\n    private onClosePanel(): void {\r\n        gm.ui.async_hide_module(gm.const.LADDERUPLVLANIMPVP);\r\n    }\r\n}"]}