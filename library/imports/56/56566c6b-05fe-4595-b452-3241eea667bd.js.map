{"version":3,"sources":["assets\\start-scene\\scripts\\AutoMergeMessage.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAM;AACN,6CAAmC;AACnC,mDAAkD;AAClD,2CAA0C;AAEpC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAsC,oCAAU;IAAhD;QAAA,qEAsCC;QApCW,eAAS,GAAqB,IAAI,CAAC;QAGnC,YAAM,GAAqB,IAAI,CAAC;QAGhC,eAAS,GAAqB,IAAI,CAAC;QAGnC,cAAQ,GAAqB,IAAI,CAAC;;IA2B9C,CAAC;IAzBa,mCAAQ,GAAlB;;QACI,gBAAE,CAAC,OAAO,CAAC,cAAc,CAAC,+BAAc,CAAC,GAAG,CAAC,CAAC;QAC9C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACnC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,GAAG,gBAAE,CAAC,IAAI,CAAC,YAAY,CAAC,qBAAqB,IAAI,CAAC,CAAC;QAC5E,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,QAAC,IAAI,CAAC,QAAQ,0CAAE,IAAI,CAAC,MAAM,CAAA,CAAC;IAC7D,CAAC;IAES,oCAAS,GAAnB;QACI,gBAAE,CAAC,OAAO,CAAC,cAAc,CAAC,+BAAc,CAAC,GAAG,CAAC,CAAC;IAClD,CAAC;IAEO,yDAA8B,GAAtC,UAAuC,KAAe;;QAClD,IAAI,KAAK,CAAC,MAAM,WAAI,IAAI,CAAC,SAAS,0CAAE,IAAI,CAAA,IAAI,KAAK,CAAC,MAAM,WAAI,IAAI,CAAC,MAAM,0CAAE,IAAI,CAAA,EAAE;YAC3E,gBAAE,CAAC,EAAE,CAAC,iBAAiB,CAAC,gBAAE,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;SACtD;aAAM,IAAI,KAAK,CAAC,MAAM,WAAI,IAAI,CAAC,SAAS,0CAAE,IAAI,CAAA,EAAE;YAC7C,gBAAE,CAAC,OAAO,CAAC,aAAa,CAAC;gBACrB,gBAAE,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;gBACjD,gBAAE,CAAC,EAAE,CAAC,iBAAiB,CAAC,gBAAE,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;YACvD,CAAC,EAAE,CAAC,CAAC,CAAC;SACT;aAAM,IAAI,KAAK,CAAC,MAAM,WAAI,IAAI,CAAC,QAAQ,0CAAE,IAAI,CAAA,EAAE;YAC5C,gBAAE,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;YACjD,gBAAE,CAAC,EAAE,CAAC,iBAAiB,CAAC,gBAAE,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;SACtD;IACL,CAAC;IAnCD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;uDACuB;IAG3C;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;oDACoB;IAGxC;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;uDACuB;IAG3C;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;sDACsB;IAXjC,gBAAgB;QAD5B,OAAO;OACK,gBAAgB,CAsC5B;IAAD,uBAAC;CAtCD,AAsCC,CAtCqC,uBAAU,GAsC/C;AAtCY,4CAAgB","file":"","sourceRoot":"/","sourcesContent":["// +-+\r\nimport { gm } from \"./GameManager\";\r\nimport { BANNER_AD_TYPE } from \"./ChannelManager\";\r\nimport { GameModule } from \"./GameModule\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport class AutoMergeMessage extends GameModule {\r\n    @property(cc.Button)\r\n    private close_btn: cc.Button | null = null;\r\n\r\n    @property(cc.Button)\r\n    private ok_btn: cc.Button | null = null;\r\n\r\n    @property(cc.Button)\r\n    private video_btn: cc.Button | null = null;\r\n\r\n    @property(cc.Button)\r\n    private free_btn: cc.Button | null = null;\r\n\r\n    protected onEnable(): void {\r\n        gm.channel.show_banner_ad(BANNER_AD_TYPE.ALL);\r\n        this.free_btn.node.active = false;\r\n        this.video_btn.node.active = false;\r\n        this.free_btn.node.active = gm.data.mapCell_data.is_first_auto_compose == 0;\r\n        this.video_btn.node.active = !this.free_btn?.node.active;\r\n    }\r\n\r\n    protected onDisable(): void {\r\n        gm.channel.hide_banner_ad(BANNER_AD_TYPE.ALL);\r\n    }\r\n\r\n    private editor_on_button_click_handler(event: cc.Event): void {\r\n        if (event.target == this.close_btn?.node || event.target == this.ok_btn?.node) {\r\n            gm.ui.async_hide_module(gm.const.AutoMergeMessage);\r\n        } else if (event.target == this.video_btn?.node) {\r\n            gm.channel.show_video_ad(() => {\r\n                gm.data.event_emitter.emit(\"auto_merge_message\");\r\n                gm.ui.async_hide_module(gm.const.AutoMergeMessage);\r\n            }, 1);\r\n        } else if (event.target == this.free_btn?.node) {\r\n            gm.data.event_emitter.emit(\"auto_merge_message\");\r\n            gm.ui.async_hide_module(gm.const.AutoMergeMessage);\r\n        }\r\n    }\r\n}"]}